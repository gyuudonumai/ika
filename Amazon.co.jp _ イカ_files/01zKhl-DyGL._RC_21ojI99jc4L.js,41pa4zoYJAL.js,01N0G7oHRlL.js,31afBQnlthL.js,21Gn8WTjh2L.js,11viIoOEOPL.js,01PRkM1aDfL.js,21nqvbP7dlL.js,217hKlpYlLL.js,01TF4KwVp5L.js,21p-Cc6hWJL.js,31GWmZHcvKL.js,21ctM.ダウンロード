(function(f){var g=window.AmazonUIPageJS||window.P,h=g._namespace||g.attributeErrors,c=h?h("GuidedNavigationWidgetAssets",""):g;c.guardFatal?c.guardFatal(f)(c,window):c.execute(function(){f(c,window)})})(function(f,g,h){"use strict";f.when("A","s-url-parameters").register("inscx-guided-navigation-controller",function(c,k){function f(a){var b=[],e;for(e in d)d.hasOwnProperty(e)&&d[e]&&d[e].namespace&&0===d[e].namespace.localeCompare(a)&&b.push(d[e]);return b}function h(a){var b=document.getElementById(a+
"guided-apply");0<f(a).length?c.show(b):c.hide(b)}function q(a,b,e){var c,d="",d=e.map(function(a){return a.key}).join("|");return a.split(",").map(function(a){return(c=a.split(":")[0])&&c===b?c+":"+d:a}).join(",")}function l(a){var b=a.namespace+a.key,e=m(document.getElementById(b));d[b]=a;e.addClass("inscx-guided-search-recommendation-pill-clicked")}function n(a){a=a.namespace+a.key;var b=m(document.getElementById(a));d[a]=null;b.removeClass("inscx-guided-search-recommendation-pill-clicked")}function r(a){d[a.namespace+
a.key]?n(a):l(a)}function p(a){var b;var e,c=f(a),d=c[c.length-1];d?(e=k.parseQueryString(d.searchUrl),!0===d.isMultiSelect&&(b=k.getParamValue(e,"rh"),b=q(b,d.shortId,c),k.setParamValue(e,"rh",b))):e=k.parseQueryString(g.location.search);b=k.paramsToString(e,!0);document.getElementById(a+"guided-apply").setAttribute("t_href",encodeURI(b));g.location.search=b}var m=c.$,d={};c.declarative("guided-recommendation-apply","click",function(a){(a=a.data)&&p(a.namespace)});c.declarative("guided-recommendation-click",
"click",function(a){a=a.data;var b;a&&(!1===a.isMultiSelect?(b=f(a.namespace),b.forEach(function(a){n(a)}),l(a),p(a.namespace)):(r(a),h(a.namespace)))})})});
/* ******** */
(function(l){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,k=n?n("PostsSharedFeedAssets","PostsSharedFeedAssets"):m;k.guardFatal?k.guardFatal(l)(k,window):k.execute(function(){l(k,window)})})(function(l,m,n){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},p=function(){function g(f,e){for(var a=0;a<e.length;a++){var b=
e[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(f,b.key,b)}}return function(f,e,a){e&&g(f.prototype,e);a&&g(f,a);return f}}();l.now("posts-sushi-client").execute(function(g){"undefined"===typeof g&&l.register("posts-sushi-client",function(){var f=["messageId","timestamp"];return function(){function e(a,b){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.endpoint=b;this.window=a;this.eventsQueue=[];this.eventsDictionary=
{};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.rejectedEvents=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=function(b){var f=function(){};b=function(){var b=function(){if(a.XDomainRequest){var d=new a.XDomainRequest;d.onerror=f;d.ontimeout=f;d.onprogress=f;d.onload=f;d.timeout=0;return d}if(a.XMLHttpRequest){d=new a.XMLHttpRequest;
if(!("withCredentials"in d))throw"";return d}return null};return{send:function(a,c){if(c&&a){var h=b();if(!h)throw"";h.open("POST",a,!0);h.setRequestHeader&&h.setRequestHeader("Content-type","text/plain");h.send(c)}},isSupported:!0}}();var e=function(){return{send:function(b,d){if(b&&d&&!a.navigator.sendBeacon(b,d))throw"";},isSupported:!!a.navigator.sendBeacon&&!(a.cordova&&a.cordova.platformId&&"ios"===a.cordova.platformId)}}();return{ajaxClient:b,beaconClient:e}}(this);this.compressor=function(a){var b=
function(d){if(d)switch("undefined"===typeof d?"undefined":k(d)){case "number":return!(d!==d||Infinity===d)&&d.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return d.length>a.dictionaryIndex.length;default:return!0}return!1},e=function(d){a.eventsDictionary[d]||(a.eventsDictionary[d]=a.dictionaryIndex++,a.reverseEventsDictionary[a.eventsDictionary[d]]=d);return a.eventsDictionary[d]},g=function(a){if(b(a)){var c=0;a instanceof Array?c=2:a instanceof Function?c=null:
a instanceof Object&&(c=1);switch(c){case 0:return e(a);case 2:for(var h=[],c=0;c<a.length;c++)h[c]=g(a[c]);return h;case 1:c={};for(h in a)Object.prototype.hasOwnProperty.call(a,h)&&(c[e(h)]=-1===f.indexOf(h)?g(a[h]):a[h]);return c}}return a};return{compressData:g,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this)}p(e,[{key:"onBeforeUnload",value:function(){!0!==this.unloadHandlerCalled&&(this.flush(this),this.unloadHandlerCalled=!0)}},
{key:"stringify",value:function(a){try{return JSON.stringify(a)}catch(b){console.warn("Fail to stringify data")}return null}},{key:"resetBatch",value:function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0}},{key:"sendWithClient",value:function(a){if(null==this.endpoint||""==this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var b=this.compressor.buildPOSTObject();
return a.send(this.endpoint,b)}throw"";}}},{key:"sendWithPriority",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];for(a=0;a<b.length;a++){c=b[a];try{return this.sendWithClient(c)}catch(f){}}return null}},{key:"flush",value:function(a){a.eventsQueue.length&&(a.sendWithPriority(a.transportationClient.beaconClient||{},a.transportationClient.ajaxClient||{}),a.resetBatch())}},{key:"startHighPriorityQueueTimer",value:function(){0===this.highPriorityFlushInterval?this.flush(this):
this.highPriorityTimer||(this.highPriorityTimer=this.window.setTimeout(this.flush,this.highPriorityFlushInterval,this))}},{key:"startLowPriorityQueueTimer",value:function(){this.lowPriorityTimer||(this.lowPriorityTimer=this.window.setTimeout(this.flush,this.lowPriorityFlushInterval,this))}},{key:"generateMessageId",value:function(a,b){return a+"-"+b+"-"+this.eventSequence}},{key:"getCurrentISODate",value:function(){var a=new Date,b=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?
a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}},{key:"decorateEvent",value:function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())}},{key:"startTimers",value:function(a){(a||{}).n?this.startHighPriorityQueueTimer():
this.startLowPriorityQueueTimer()}},{key:"encodeEvent",value:function(a,b,c){b=b.length;(499===this.eventsQueue.length||524288<this.batchSize+b)&&this.flush(this);this.batchSize+=b;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(c)}},{key:"addEvent",value:function(a,b){this.decorateEvent(a,b);var c=this.stringify(a);return c?(this.encodeEvent(a,c,b),!0):!1}},{key:"isValidAPIParam",value:function(a,b){return a&&-1<a.constructor.toString().indexOf(b)}},{key:"isMaxCallsReached",
value:function(){this.eventSequence++;5E4<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 5E4<this.eventSequence}},{key:"isValidAPICall",value:function(a,b){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")}},{key:"ueCount",value:function(a,b){"undefined"!==typeof ue&&ue&&ue.count&&ue.count("ACEPostsMetrics:"+a,0===b?0:b||(ue.count("ACEPostsMetrics:"+a)||0)+1)}},{key:"processEvent",value:function(a,b){var c=this.unloadHandlerCalled=!1;this.options=b||{};this.isValidAPICall(a,
this.options)&&(c=this.addEvent(a,this.options));c?this.ueCount("ClientEventsSuccess:"+a.event_type):(console.error("Invalid JS SushiEel API call"),this.ueCount("ClientEventsFailed:"+a.event_type));return c}}]);return e}()})});"use strict";l.now("posts-clamp").execute(function(g){"undefined"===typeof g&&l.register("posts-clamp",function(){return function(f,e){function a(a,b){m.getComputedStyle||(m.getComputedStyle=function(a){this.el=a;this.getPropertyValue=function(b){var d=/(-([a-z]){1})/g;"float"==
b&&(b="styleFloat");d.test(b)&&(b=b.replace(d,function(a,b,d){return d.toUpperCase()}));return a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null};return this});return m.getComputedStyle(a).getPropertyValue(b)}function b(b){var c=a(f,"line-height");"normal"==c&&(c=1.2*parseInt(a(f,"font-size")));return parseInt(c)*b}function c(a){if(a.lastChild.children&&0<a.lastChild.children.length)return c(Array.prototype.slice.call(a.children).pop());if(a.lastChild&&a.lastChild.nodeValue&&""!=a.lastChild.nodeValue&&
a.lastChild.nodeValue!=e.truncationChar)return a.lastChild;a.lastChild.parentNode.removeChild(a.lastChild);return c(f)}function g(a,b){if(b&&!(f.clientHeight<=b))for(;f.clientHeight>b;){var c=a.nodeValue.split("");if(1<c.length){do{c.pop();var e=c.join("");a.nodeValue=e}while(/[\s\n,.]+/.test(c[c.length-1])&&1<c.length)}k&&(f.innerHTML=a.nodeValue+k.innerHTML)}}if(f!==n){e=e||{};var l=e.clamp||2,k;e.truncationHTML&&(k=document.createElement("span"),k.innerHTML=e.truncationHTML);l=b(l);g(c(f),l)}}})})});
/* ******** */
(function(n){var m=window.AmazonUIPageJS||window.P,p=m._namespace||m.attributeErrors,q=p?p("BrandFollowButtonJS",""):m;q.guardFatal?q.guardFatal(n)(q,window):q.execute(function(){n(q,window)})})(function(n,m,p){var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},y=function(){function g(b,a){for(var e=0;e<a.length;e++){var f=a[e];f.enumerable=
f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(b,f.key,f)}}return function(b,a,e){a&&g(b.prototype,a);e&&g(b,e);return b}}();n.when("A").register("brand-follow-constants",function(){return{Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR:"span[class*\x3dbrand-follow-button-container]",Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR:"span[class*\x3dbrand-follow-button]",Brand_FOLLOW_BUTTON_SELECTOR:"button[data-bfid]",Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR:'button[data-bfid][data-showtooltip\x3d"true"]',
BRAND_FOLLOW_STATUS_MAP:"brand-follow-status",BRAND_FOLLOW_STATUS:{FOLLOWING:"following",NOT_FOLLOWING:"not_following",PENDING:"pending",NOT_SIGNED_IN:"not_signed_in",ERROR:"error"},BRAND_FOLLOW_CSRF_KEY:"brand-follow-csrf",BRAND_FOLLOW_CSRF_DATA_KEY:"csrf",BRAND_FOLLOW_LAST_CLICK_EVENT_MAP:"brand-follow-last-click-event-map",BFID_DATA_KEY:"bfid",REF_DATA_KEY:"ref",FOLLOW_STATUS_DATA_KEY:"followstatus",FOLLOW_TEXT_DATA_KEY:"followtext",FOLLOWING_TEXT_DATA_KEY:"followingtext",REQUEST_ID_DATA_KEY:"requestid",
PLACEMENT_TYPE_DATA_KEY:"placementtype",PLACEMENT_SUB_TYPE_DATA_KEY:"placementsubtype",PLACEMENT_ID_DATA_KEY:"placementid",COMPONENT_TYPE_DATA_KEY:"componenttype",COMPONENT_ID_DATA_KEY:"componentid",ELEMENT_TYPE_DATA_KEY:"elementtype",ELEMENT_ID_DATA_KEY:"elementid",TOOLTIP_TEXT_DATA_KEY:"tooltiptext",BACK_BUTTON_SUPPORT_ENABLED_DATA_KEY:"backbuttonsupportenabled",ARIA_LABEL_KEY:"aria-label",ARIA_LABEL_FOLLOW_DATA_KEY:"arialabelfollow",ARIA_LABEL_FOLLOWING_DATA_KEY:"arialabelfollowing",FOLLOWED_BRAND_TOOLTIP_SIGNAL:"followed_brand_signal",
TOOLTIP_LAST_SEEN_KEY:"tooltip_last_seen",TOOLTIP_LATEST_TEXT_KEY:"tooltip_latest_text",TOOLTIP_SEEN_COUNTER:"tooltip_seen_counter",TOOLTIP_DISPLAY_TIME:5E3,TOOLTIP_STATUS_SHOWN:"SHOWN",TOOLTIP_STATUS_NOT_SHOWN:"NOT_SHOWN",TOOLTIP_STATUS_DISABLED:"DISABLED",FOLLOW_AJAX_TIMEOUT:2E3,FOLLOW_AJAX_RETRIES:2,FOLLOW_ENDPOINT:"/followv2/follow",FOLLOW_ENTITY_TYPE:"brand",FOLLOW_REF_TAG:"bsn_as_follow",FOLLOW_CSM_PREFIX:"BrandFollow",FOLLOW_CSM_SUCCESS:"Success",FOLLOW_CSM_FAIL:"Fail",FOLLOW_CSM_FOLLOW:"Follow",
FOLLOW_CSM_UNFOLLOW:"Unfollow",FOLLOW_CSM_GET_FOLLOW_STATUS:"GetFollowStatus",HTTP_GET:"GET",HTTP_POST:"POST",HTTP_DELETE:"DELETE",SIGN_IN_PORTAL:"/ap/signin",AUTH_PORTAL_ASSOC_HANDLE:{"amazon.com":"usflex","amazon.co.uk":"gbflex","amazon.de":"deflex","amazon.fr":"frflex","amazon.es":"esflex","amazon.in":"inflex","amazon.it":"itflex","amazon.co.jp":"jpflex","amazon.ca":"caflex"},BREAKPOINTS:{MOBILE:840},SUSHI_ENDPOINT:{gamma:"https://unagi-na.amazon.com/1/events/com.amazon.eel.BrandFollowButtonMetrics.Gamma.ClientEvents",
prod:"https://unagi-na.amazon.com/1/events/com.amazon.eel.BrandFollowButtonMetrics.Prod.ClientEvents"},EVENT_TYPE:{FOLLOW:"Follow",UNFOLLOW:"Unfollow"}}});"use strict";n.when("A","brand-follow-constants").register("brand-follow-auth-portal-link-builder",function(g,b){return{signin:function(){var a={"openid.ns":"http://specs.openid.net/auth/2.0","openid.claimed_id":"http://specs.openid.net/auth/2.0/identifier_select","openid.identity":"http://specs.openid.net/auth/2.0/identifier_select","openid.mode":"checkid_setup",
"openid.return_to":m.location.href,"openid.assoc_handle":b.AUTH_PORTAL_ASSOC_HANDLE[m.location.hostname.replace(/.+?(?=amazon)/,"")]};return b.SIGN_IN_PORTAL+"?"+g.$.param(a)}}});"use strict";n.register("brand-follow-csm-helper",function(){return{incrementCSMCounter:function(g,b){m.ue&&m.ue.count&&m.ue.count(g,(m.ue.count(g)||0)+1,b)},logBodyBegin:function(g){"function"==typeof uet&&uet("bb",g,{wb:1})},sendCsmMetrics:function(g){"function"==typeof uex&&uex("ld",g,{wb:1})}}});"use strict";n.when("A",
"brand-follow-constants","brand-follow-csm-helper").register("brand-follow-data-storage-helper",function(g,b,a){var e={set:function(a,b,e){var h={};h[b]=e;g.state(a,h)},get:function(a){return g.state(a)},setFollowStatus:function(a,l){e.set(b.BRAND_FOLLOW_STATUS_MAP,a,l)},getFollowStatus:function(a){var l=e.get(b.BRAND_FOLLOW_STATUS_MAP);return l===p?p:l[a]},setLastClickEvent:function(a,l){e.set(b.BRAND_FOLLOW_LAST_CLICK_EVENT_MAP,a,l)},getLastClickEvent:function(f){var l=b.FOLLOW_CSM_PREFIX+":dataStorageHelper:getLastClickAction";
a.incrementCSMCounter(l);var k=e.get(b.BRAND_FOLLOW_LAST_CLICK_EVENT_MAP);if(k===p)return a.incrementCSMCounter(l+":emptyMap"),p;(f=k[f])||a.incrementCSMCounter(l+":notFoundInMap");return f},setCsrf:function(a){e.set(b.BRAND_FOLLOW_CSRF_KEY,b.BRAND_FOLLOW_CSRF_DATA_KEY,a)},getCsrf:function(){var a=e.get(b.BRAND_FOLLOW_CSRF_KEY);return a===p?p:a[b.BRAND_FOLLOW_CSRF_DATA_KEY]}};return e});"use strict";n.when("A","brand-follow-constants","brand-follow-data-storage-helper","brand-follow-csm-helper").register("brand-follow-afs-helper",
function(g,b,a,e){var f={makeCallToAfs:function(a,k,h,d,c,t){var f=b.FOLLOW_CSM_PREFIX+":"+a;e.incrementCSMCounter(f);(function z(u){e.logBodyBegin(t);g.$.ajax({url:k,type:a,headers:{Accept:"application/json","Content-Type":"application/json"},data:h,dataType:"json",cache:!1,timeout:b.FOLLOW_AJAX_TIMEOUT,success:function(a,c,l){e.incrementCSMCounter(f+":"+b.FOLLOW_CSM_SUCCESS);e.sendCsmMetrics(t);"function"===typeof d&&d(a,c,l)},error:function(d,k,h){if("timeout"===k&&u)e.incrementCSMCounter(f+":timeout"),
z(--u);else{var g=f+":"+b.FOLLOW_CSM_FAIL;e.incrementCSMCounter(g);"timeout"===k&&e.incrementCSMCounter(g+":timeout");e.sendCsmMetrics(t);m.ueLogError&&m.ueLogError({logLevel:"WARN",attribution:"BrandFollowKataComponentAssets",message:"AFS "+a+" call failed with status "+k+", error thrown: "+h+", response text: "+d.responseText});"function"===typeof c&&c(d,k,h)}}})})(b.FOLLOW_AJAX_RETRIES)},getFollowStatusAndInitCsrf:function(e,k,h,d,c){f.makeCallToAfs(b.HTTP_GET,b.FOLLOW_ENDPOINT+"/"+e+"_"+b.FOLLOW_ENTITY_TYPE,
{ref:k},function(d,b,e){d.signedIn?(a.setCsrf(d.csrf),"function"===typeof h&&h(d)):"function"===typeof c&&c()},d,b.FOLLOW_CSM_PREFIX+":"+b.FOLLOW_CSM_GET_FOLLOW_STATUS)},follow:function(e,k,h,d,c){var t=b.FOLLOW_CSM_PREFIX+":"+b.FOLLOW_CSM_FOLLOW,g=function(){f.makeCallToAfs(b.HTTP_POST,b.FOLLOW_ENDPOINT,JSON.stringify({authenticity_token:a.getCsrf(),entity_id:e,category:b.FOLLOW_ENTITY_TYPE,ref:k}),h,d,t)};a.getCsrf()===p?f.getFollowStatusAndInitCsrf(e,k,g,p,c):g()},unfollow:function(e,k,h,d){var c=
b.FOLLOW_CSM_PREFIX+":"+b.FOLLOW_CSM_UNFOLLOW,t=function(){f.makeCallToAfs(b.HTTP_DELETE,b.FOLLOW_ENDPOINT+"/"+e+"_"+b.FOLLOW_ENTITY_TYPE+"?"+g.$.param({authenticity_token:a.getCsrf(),ref:k}),p,h,d,c)};a.getCsrf()===p?f.getFollowStatusAndInitCsrf(e,k,t):t()}};return f});"use strict";n.when("A").register("brand-follow-button-tooltip-factory",function(g){g=g.$;var b=g("\x3cdiv class\x3d'brand-follow-tooltip-root'/\x3e").appendTo("body");return{getOrCreateTooltip:function(){0===b.children().length&&
b.append("\x3cdiv role\x3d'tooltip' class\x3d'bf-tooltip' id\x3d'bf-tooltip' aria-hidden\x3d'true' style\x3d'z-index: 299; visibility: hidden; opacity: 0;'\x3e\x3cdiv class\x3d'bf-tooltip-inner'\x3eFollow to get deals, content, and email updates from this brand.\x3c/div\x3e\x3cdiv class\x3d'bf-arrow-border'\x3e\x3cdiv class\x3d'bf-arrow'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e");return b.children().first()}}});"use strict";n.when("A").register("brand-follow-button-tooltip-position",function(g){function b(){if(1===
g.viewport().zoom)return{top:0,left:0};h||(h=k('\x3cspan id\x3d"bf-tooltip-offset-tracker"\x3e\x3c/span\x3e'),k("body").prepend(h));var a;k.withoutRtl(function(){a=h.offset()});return a}function a(a,c){var e=g.viewport(),l=b(),f,h;k.withoutRtl(function(){f=c.offset();h=a.offset()});f.top-=l.top;f.left-=l.left;h.top-=l.top;h.left-=l.left;var m=c.outerWidth(),r=c.outerHeight(),n=a.outerWidth(!0),p=a.outerHeight(!0);return{windowWidth:e.width,windowHeight:e.height,windowTop:e.scrollTop,windowLeft:e.scrollLeft,
windowRight:e.scrollLeft+e.width,windowBottom:e.scrollTop+e.height,zoomTop:l.top,zoomLeft:l.left,triggerWidth:m+1,triggerHeight:r,triggerTop:f.top-1,triggerLeft:f.left-1,triggerRight:f.left+m+1,triggerBottom:f.top+r+1,triggerVerticalCenter:f.top+r/2,triggerHorizontalCenter:f.left+m/2,popoverWidth:n,popoverHeight:p,popoverTop:h.top,popoverLeft:h.left,popoverRight:h.left+n,popoverBottom:h.top+p,popoverVerticalCenter:h.top+p/2,popoverHorizontalCenter:h.left+n/2}}function e(a){return a.removeClass("a-arrow-top a-arrow-bottom a-arrow-left a-arrow-right")}
function f(a){var c={deltaTop:0},e;c.top=a.triggerVerticalCenter-a.popoverHeight/2;c.top<a.windowTop+15?(e=Math.min(a.windowTop+15,a.triggerTop-15),c.deltaTop=c.top-e,c.top=e):c.top+a.popoverHeight>a.windowBottom-15&&(e=Math.min(15,a.windowBottom-a.triggerBottom+15),c.deltaTop=c.top+a.popoverHeight-(a.windowBottom-e),c.top=a.windowBottom-e-a.popoverHeight);return c}function l(a){var c={deltaLeft:0},e;c.left=a.triggerHorizontalCenter-a.popoverWidth/2;15>c.left?(e=Math.min(15,a.triggerLeft-15),c.deltaLeft=
c.left-e,c.left=e):c.left+a.popoverWidth>a.windowRight-15&&(e=Math.min(15,a.windowRight-a.triggerRight+15),c.deltaLeft=c.left+a.popoverWidth-(a.windowRight-e),c.left=a.windowRight-e-a.popoverWidth);return c}var k=g.$;k(m);var h=null;return{windowCenter:function(d){d=a(d.$popover,d.$trigger);var c={};c.top=(d.windowHeight-d.popoverHeight)/2;c.left=(d.windowWidth-d.popoverWidth)/2;0>c.top&&(c.top=0);return c},windowTop:function(d){d=a(d.$popover,d.$trigger);var c={top:0};c.left=d.windowWidth/2-d.popoverWidth/
2;return c},windowFullWidth:function(a){return{top:0,left:0}},triggerRight:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=f(c);d.left=c.triggerRight;e(b).addClass("a-arrow-right");b.find(".bf-arrow-border").css("top",c.popoverHeight/2+d.deltaTop);return d},triggerLeft:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=f(c);d.left=c.triggerLeft-c.popoverWidth;d.left=0<d.left?d.left:0;e(b).addClass("a-arrow-left");b.find(".bf-arrow-border").css("top",c.popoverHeight/2+d.deltaTop);
return d},triggerTop:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=l(c);d.top=c.triggerTop-c.popoverHeight;e(b).addClass("a-arrow-top");b.find(".bf-arrow-border").css("left",c.popoverWidth/2+d.deltaLeft);return d},triggerBottom:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d=l(c);d.top=c.triggerBottom;e(b).addClass("a-arrow-bottom");b.find(".bf-arrow-border").css("left",c.popoverWidth/2+d.deltaLeft);return d},triggerHorizontal:function(d,c){var e=d.$popover,b=d.$trigger;
c||(c=a(e,b));return c.triggerLeft-c.windowLeft>c.windowRight-c.triggerRight?this.triggerLeft(d,c):this.triggerRight(d,c)},triggerVertical:function(d,c){var e=d.$popover,b=d.$trigger;c=c?c:a(e,b);return c.triggerTop-c.windowTop>c.popoverHeight+15?this.triggerTop(d,c):this.triggerBottom(d,c)},triggerVerticalAlignLeft:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d={};var l=0,f=0,h=c.windowBottom-c.triggerBottom;d.left=c.triggerLeft;d.top=h>c.popoverHeight?c.triggerBottom+3:c.triggerTop-
c.popoverHeight-3;15>d.left?(f=Math.min(15,c.triggerLeft-15),l=d.left-f,d.left=f):d.left+c.popoverWidth>c.windowRight-15&&(f=Math.min(15,c.windowRight-c.triggerRight+15),l=d.left+c.popoverWidth-(c.windowRight-f),d.left=c.windowRight-f-c.popoverWidth);e(b).addClass(h>c.popoverHeight?"a-arrow-bottom":"a-arrow-top");k.withoutRtl(function(){b.find(".bf-arrow-border").css("left",c.triggerWidth/2+l)});return d},triggerBottomAlignRight:function(d,c){var b=d.$popover;d=d.$trigger;c||(c=a(b,d));d={};var l=
0,f=0,h=c.windowBottom-c.triggerBottom;d.left=c.triggerRight-c.popoverWidth;d.top=c.triggerBottom+3;15>d.left?(f=Math.max(0,d.left),l=f-d.left,d.left=f):d.left+c.popoverWidth>c.windowRight-15&&(f=Math.min(15,c.windowRight-c.triggerRight+15),l=d.left+c.popoverWidth-(c.windowRight-f),d.left=c.windowRight-f-c.popoverWidth);e(b).addClass(h>c.popoverHeight?"a-arrow-bottom":"a-arrow-top");k.withoutRtl(function(){b.find(".bf-arrow-border").css("right",c.triggerWidth/2+l)});return d},customPosition:function(d,
c){return c.call(this,{popover:d,$popover:d.$popover,$trigger:d.$trigger,measure:a})}}});"use strict";n.when("A","brand-follow-button-tooltip-factory","brand-follow-button-tooltip-position","brand-follow-constants").register("brand-follow-button-tooltip",function(g,b,a,e){var f=g.$;return{show:function(l){var k=b.getOrCreateTooltip(),h=f(l);l=h.data(e.TOOLTIP_TEXT_DATA_KEY);h=a.triggerBottomAlignRight({$popover:k,$trigger:h});l&&k.find(".bf-tooltip-inner").first().text(l);k.css({top:h.top+"px",left:h.left+
6+"px",visibility:"visible",opacity:1,transition:"opacity 0.5s"})},hide:function(){b.getOrCreateTooltip().css({visibility:"hidden",opacity:0,transition:"visibility 0s 0.5s, opacity 0.5s linear"})},getText:function(){return b.getOrCreateTooltip().find(".bf-tooltip-inner").first().text()}}});"use strict";n.register("brand-follow-sushi-client",function(){var g=["messageId","timestamp"];return function(){function b(a,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.endpoint=e;this.window=a;this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.rejectedEvents=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=function(b){var e=function(){};b=function(){var b=function(){if(a.XDomainRequest){var d=new a.XDomainRequest;d.onerror=e;d.ontimeout=e;d.onprogress=e;
d.onload=e;d.timeout=0;return d}if(a.XMLHttpRequest){d=new a.XMLHttpRequest;if(!("withCredentials"in d))throw"";return d}return null};return{send:function(a,c){if(c&&a){var e=b();if(!e)throw"";e.open("POST",a,!0);e.setRequestHeader&&e.setRequestHeader("Content-type","text/plain");e.send(c)}},isSupported:!0}}();var k=function(){return{send:function(e,d){if(e&&d&&!a.navigator.sendBeacon(e,d))throw"";},isSupported:!!a.navigator.sendBeacon&&!(a.cordova&&a.cordova.platformId&&"ios"===a.cordova.platformId)}}();
return{ajaxClient:b,beaconClient:k}}(this);this.compressor=function(a){var e=function(d){if(d)switch("undefined"===typeof d?"undefined":q(d)){case "number":return!(d!==d||Infinity===d)&&d.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return d.length>a.dictionaryIndex.length;default:return!0}return!1},b=function(d){a.eventsDictionary[d]||(a.eventsDictionary[d]=a.dictionaryIndex++,a.reverseEventsDictionary[a.eventsDictionary[d]]=d);return a.eventsDictionary[d]},h=function(a){if(e(a)){var c=
0;a instanceof Array?c=2:a instanceof Function?c=null:a instanceof Object&&(c=1);switch(c){case 0:return b(a);case 2:for(var f=[],c=0;c<a.length;c++)f[c]=h(a[c]);return f;case 1:c={};for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&(c[b(f)]=-1===g.indexOf(f)?h(a[f]):a[f]);return c}}return a};return{compressData:h,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this)}y(b,[{key:"onBeforeUnload",value:function(){!0!==this.unloadHandlerCalled&&
(this.flush(this),this.unloadHandlerCalled=!0)}},{key:"stringify",value:function(a){try{return JSON.stringify(a)}catch(e){console.warn("Fail to stringify data")}return null}},{key:"resetBatch",value:function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0}},{key:"sendWithClient",value:function(a){if(null==this.endpoint||""==this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var e=
this.compressor.buildPOSTObject();return a.send(this.endpoint,e)}throw"";}}},{key:"sendWithPriority",value:function(){for(var a=arguments.length,e=Array(a),b=0;b<a;b++)e[b]=arguments[b];for(a=0;a<e.length;a++){b=e[a];try{return this.sendWithClient(b)}catch(l){}}return null}},{key:"flush",value:function(a){a.eventsQueue.length&&(a.sendWithPriority(a.transportationClient.beaconClient||{},a.transportationClient.ajaxClient||{}),a.resetBatch())}},{key:"startHighPriorityQueueTimer",value:function(){0===
this.highPriorityFlushInterval?this.flush(this):this.highPriorityTimer||(this.highPriorityTimer=this.window.setTimeout(this.flush,this.highPriorityFlushInterval,this))}},{key:"startLowPriorityQueueTimer",value:function(){this.lowPriorityTimer||(this.lowPriorityTimer=this.window.setTimeout(this.flush,this.lowPriorityFlushInterval,this))}},{key:"generateMessageId",value:function(a,b){return a+"-"+b+"-"+this.eventSequence}},{key:"getCurrentISODate",value:function(){var a=new Date,b=function(a){return 10>
a?"0"+a:a};return Date.prototype.toISOString?a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}},{key:"decorateEvent",value:function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())}},{key:"startTimers",value:function(a){(a||
{}).n?this.startHighPriorityQueueTimer():this.startLowPriorityQueueTimer()}},{key:"encodeEvent",value:function(a,b,f){b=b.length;(499===this.eventsQueue.length||524288<this.batchSize+b)&&this.flush(this);this.batchSize+=b;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(f)}},{key:"addEvent",value:function(a,b){this.decorateEvent(a,b);var f=this.stringify(a);return f?(this.encodeEvent(a,f,b),!0):!1}},{key:"isValidAPIParam",value:function(a,b){return a&&-1<a.constructor.toString().indexOf(b)}},
{key:"isMaxCallsReached",value:function(){this.eventSequence++;5E4<this.eventSequence&&this.ueCount("SushiClientMaxCallsReached");return 5E4<this.eventSequence}},{key:"isValidAPICall",value:function(a,b){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")}},{key:"ueCount",value:function(a,b){"undefined"!==typeof ue&&ue&&ue.count&&ue.count("BrandFollowMetrics:"+a,0===b?0:b||(ue.count("BrandFollowMetrics:"+a)||0)+1)}},{key:"processEvent",value:function(a,b){var f=this.unloadHandlerCalled=
!1;this.options=b||{};this.isValidAPICall(a,this.options)&&(f=this.addEvent(a,this.options));f?this.ueCount("ClientEventsSuccess:"+a.event_type):(console.error("Invalid JS SushiEel API call"),this.ueCount("ClientEventsFailed:"+a.event_type));return f}}]);return b}()});"use strict";n.when("A","brand-follow-sushi-client","brand-follow-constants").register("brand-follow-metrics-client",function(g,b,a){var e=g.$;g=document.domain;g=0===g.indexOf("www.amazon")||0===g.indexOf("smile.amazon");var f=new b(m,
a.SUSHI_ENDPOINT[g?"prod":"gamma"]);return{getAttributeMapFromElement:function(b){var f=e(b).data(a.BFID_DATA_KEY),h=e(b).data(a.REQUEST_ID_DATA_KEY),d=e(b).data(a.PLACEMENT_TYPE_DATA_KEY),c=e(b).data(a.PLACEMENT_SUB_TYPE_DATA_KEY),g=e(b).data(a.PLACEMENT_ID_DATA_KEY),m=e(b).data(a.COMPONENT_TYPE_DATA_KEY),n=e(b).data(a.COMPONENT_ID_DATA_KEY),p=e(b).data(a.ELEMENT_TYPE_DATA_KEY);b=e(b).data(a.ELEMENT_ID_DATA_KEY);return{bfid:f,request_id:h,placement_type:d,placement_sub_type:c,placement_id:g,component_type:m,
component_id:n,element_type:p,element_id:b}},buildFollowButtonClickMetricEvent:function(a,b,e){a=this.getAttributeMapFromElement(a);return{bfid:a.bfid,request_id:a.request_id,placement_type:a.placement_type,placement_sub_type:a.placement_sub_type,placement_id:a.placement_id,component_type:a.component_type,component_id:a.component_id,element_type:a.element_type,element_id:a.element_id,event_type:b,tooltip_status:m.brandFollowTooltipStatus,timestamp:Date.now(),event_source:m.location.href,schema_version:1}},
processMetricEvent:function(a,b){f.processEvent(a,b)}}});"use strict";n.when("A","brand-follow-constants","brand-follow-button-tooltip","brand-follow-data-storage-helper","brand-follow-csm-helper").execute("brand-follow-tooltip-helper",function(g,b,a,e,f){var l=g.$,k;try{localStorage.setItem("brand_follow_localStorage_testing_key","brand_follow_localStorage_testing_key"),localStorage.removeItem("brand_follow_localStorage_testing_key"),k=!0}catch(u){k=!1}g.on("brandFollow:followButton:loaded",function(){var e=
b.FOLLOW_CSM_PREFIX+":tooltip";if(k){var r=localStorage.getItem(b.TOOLTIP_LAST_SEEN_KEY),A=localStorage.getItem(b.TOOLTIP_SEEN_COUNTER),w;if(w=h()){var x;try{x=a.getText()!==localStorage.getItem(b.TOOLTIP_LATEST_TEXT_KEY)}catch(B){x=!1}w=!x}if(w||!h()&&r&&!c(r,A)){m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_NOT_SHOWN;return}}r=l(b.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR);if(r.length)if(g.capabilities.mobile||g.capabilities.tablet||screen.width<=b.BREAKPOINTS.MOBILE){var v=r.get(0),r=l(v).data(b.BFID_DATA_KEY);
!r||d(r)?m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_NOT_SHOWN:(a.show(v),t(),k&&localStorage.setItem(b.TOOLTIP_LATEST_TEXT_KEY,a.getText()),m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_SHOWN,"true"!==m.tooltipSeenOnPage&&(q(),m.tooltipSeenOnPage="true",f.incrementCSMCounter(e+":mobile")),n(v)?p():l(m).scroll(g.throttle(function(){n(v)&&p()},200)))}else l(b.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).undelegate(b.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR,"mouseenter mouseleave"),l(b.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).delegate(b.Brand_FOLLOW_BUTTON_WITH_TOOLTIP_SELECTOR,
"mouseenter mouseleave",function(c){if("mouseenter"===c.type){var h=l(c.target).data(b.BFID_DATA_KEY);!h||d(h)?m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_NOT_SHOWN:(a.show(c.target),t(),k&&localStorage.setItem(b.TOOLTIP_LATEST_TEXT_KEY,a.getText()),m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_SHOWN,"true"!==m.tooltipSeenOnPage&&(q(),m.tooltipSeenOnPage="true",f.incrementCSMCounter(e+":desktop")))}else"mouseleave"===c.type&&a.hide()});else m.brandFollowTooltipStatus=b.TOOLTIP_STATUS_DISABLED});var h=
function(){try{return"true"===localStorage.getItem(b.FOLLOWED_BRAND_TOOLTIP_SIGNAL)}catch(a){return!1}},d=function(a){try{return b.BRAND_FOLLOW_STATUS.FOLLOWING===e.getFollowStatus(a)}catch(c){return!1}},c=function(a,b){try{return Date.now()-parseInt(a)>6048E5*Math.pow(2,parseInt(b))}catch(c){return!1}},t=function(){k&&localStorage.setItem(b.TOOLTIP_LAST_SEEN_KEY,Date.now().toString())},n=function(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom<=(m.innerHeight||document.documentElement.clientHeight)&&
a.right<=(m.innerWidth||document.documentElement.clientWidth)},p=function(){setTimeout(function(){a.hide()},b.TOOLTIP_DISPLAY_TIME)},q=function(){if(k){var a=localStorage.getItem(b.TOOLTIP_SEEN_COUNTER);a?(a=parseInt(a)+1,localStorage.setItem(b.TOOLTIP_SEEN_COUNTER,a.toString())):localStorage.setItem(b.TOOLTIP_SEEN_COUNTER,(1).toString())}}});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-csm-helper").register("brand-follow-shared-utils",function(g,
b,a,e){var f=g.$;m.BrandFollowSharedUtils={getLastClickAction:function(g){var k=a.FOLLOW_CSM_PREFIX+":sharedUtils:getLastClickAction";e.incrementCSMCounter(k);var h;h=a.FOLLOW_CSM_PREFIX+":sharedUtils:getBFID";e.incrementCSMCounter(h);g?"string"===typeof g?h=g:g instanceof Element&&1===g.nodeType?((g=f(g).find(a.Brand_FOLLOW_BUTTON_SELECTOR).andSelf().filter(a.Brand_FOLLOW_BUTTON_SELECTOR).first().data(a.BFID_DATA_KEY))||e.incrementCSMCounter(h+":notFound"),h=g):(e.incrementCSMCounter(h+":unknownInput"),
h=void 0):h=void 0;h||e.incrementCSMCounter(k+":emptyBFID");(h=b.getLastClickEvent(h))||e.incrementCSMCounter(k+":emptyResponse");return h},isFollowing:function(e){return b.getFollowStatus(e)===a.BRAND_FOLLOW_STATUS.FOLLOWING}}});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants").register("on-brand-follow-status-change",function(g,b,a){var e=g.$;g.state.bind("brand-follow-status",function(f,g){for(var k in g)g.hasOwnProperty(k)&&g[k]&&(b.getFollowStatus(k)===a.BRAND_FOLLOW_STATUS.FOLLOWING?
e("[data-bfid\x3d'"+k+"']").each(function(){e(this).text(e(this).data(a.FOLLOWING_TEXT_DATA_KEY));e(this).attr(a.ARIA_LABEL_KEY,e(this).data(a.ARIA_LABEL_FOLLOWING_DATA_KEY))}):e("[data-bfid\x3d'"+k+"']").each(function(){e(this).text(e(this).data(a.FOLLOW_TEXT_DATA_KEY));e(this).attr(a.ARIA_LABEL_KEY,e(this).data(a.ARIA_LABEL_FOLLOW_DATA_KEY))}))})});"use strict";n.when("A").register("brand-follow-button-event-helper",function(g){return{triggerFollowButtonLoadedEvent:function(){g.trigger("brandFollow:followButton:loaded")},
triggerFollowButtonRedirectionEvent:function(b){g.trigger("brandFollow:followButton:redirectToAuthPortal",b)}}});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-afs-helper","brand-follow-auth-portal-link-builder","brand-follow-button-event-helper","brand-follow-metrics-client","brand-follow-csm-helper").register("brand-follow-button-click-handler",function(g,b,a,e,f,l,k,h){var d=g.$;g.on("brandFollow:followButton:loaded",function(){d(a.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).undelegate(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR,
"click");d(a.Brand_FOLLOW_BUTTON_CONTAINER_SELECTOR).delegate(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR,"click",function(c){var g=a.FOLLOW_CSM_PREFIX+":clickHandler";h.incrementCSMCounter(g);var n=d(this).find(a.Brand_FOLLOW_BUTTON_SELECTOR).first(),p=n.data(a.BFID_DATA_KEY),q=n.data(a.REF_DATA_KEY)||a.FOLLOW_REF_TAG;if(p){var u=b.getFollowStatus(p);u||(u=n.data(a.FOLLOW_STATUS_DATA_KEY)?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);switch(u){case a.BRAND_FOLLOW_STATUS.FOLLOWING:h.incrementCSMCounter(g+
":status:following");b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.PENDING);b.setLastClickEvent(p,a.EVENT_TYPE.UNFOLLOW);e.unfollow(p,q,function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);var d=k.buildFollowButtonClickMetricEvent(n,a.EVENT_TYPE.UNFOLLOW,c);k.processMetricEvent(d,{n:1})},function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.FOLLOWING)});break;case a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING:h.incrementCSMCounter(g+":status:not_following");b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.PENDING);
b.setLastClickEvent(p,a.EVENT_TYPE.FOLLOW);e.follow(p,q,function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.FOLLOWING);var d=k.buildFollowButtonClickMetricEvent(n,a.EVENT_TYPE.FOLLOW,c);k.processMetricEvent(d,{n:1});try{localStorage.setItem(a.FOLLOWED_BRAND_TOOLTIP_SIGNAL,"true")}catch(e){}},function(){b.setFollowStatus(p,a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING)},function(){l.triggerFollowButtonRedirectionEvent(c);var a=f.signin();m.location.assign(a)});break;case a.BRAND_FOLLOW_STATUS.NOT_SIGNED_IN:h.incrementCSMCounter(g+
":status:not_signed_in");l.triggerFollowButtonRedirectionEvent(c);g=f.signin();m.location.assign(g);break;case a.BRAND_FOLLOW_STATUS.ERROR:h.incrementCSMCounter(g+":status:error");l.triggerFollowButtonLoadedEvent();break;case a.BRAND_FOLLOW_STATUS.PENDING:return h.incrementCSMCounter(g+":status:pending"),!1;default:h.incrementCSMCounter(g+":status:unknown")}}else h.incrementCSMCounter(g+":emptyBFID")})})});"use strict";n.when("A","brand-follow-data-storage-helper","brand-follow-constants","brand-follow-afs-helper",
"brand-follow-button-event-helper","brand-follow-csm-helper","on-brand-follow-status-change","ready").register("brand-follow-button-initializer",function(g,b,a,e,f,l){g.on("brandFollow:followButton:loaded",function(){g.$(a.Brand_FOLLOW_BUTTON_WRAPPER_SELECTOR+" "+a.Brand_FOLLOW_BUTTON_SELECTOR).each(function(){var f=g.$(this),h=f.data(a.BFID_DATA_KEY),d=f.data(a.REF_DATA_KEY)||a.FOLLOW_REF_TAG;if(h!==p){var c=b.getFollowStatus(h);if(c===p||c===a.BRAND_FOLLOW_STATUS.ERROR){c=f.data(a.FOLLOW_STATUS_DATA_KEY);
if(f.data(a.BACK_BUTTON_SUPPORT_ENABLED_DATA_KEY)){var n=m.performance||m.webkitPerformance,n=n&&n.navigation&&2==n.navigation.type;!/bot|crawl|spider/i.test(m.navigator&&m.navigator.userAgent)&&n&&(c="")}if(""!==c)b.setFollowStatus(h,c?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);else{b.setFollowStatus(h,a.BRAND_FOLLOW_STATUS.PENDING);var q=a.FOLLOW_CSM_PREFIX+":FetchFollowStatus";l.incrementCSMCounter(""+q);e.getFollowStatusAndInitCsrf(h,d,function(c){b.setFollowStatus(h,
c.isFollowing?a.BRAND_FOLLOW_STATUS.FOLLOWING:a.BRAND_FOLLOW_STATUS.NOT_FOLLOWING);l.incrementCSMCounter(q+":success");f.data(a.FOLLOW_STATUS_DATA_KEY)!==c.isFollowing&&l.incrementCSMCounter(q+":FoundDiff")},function(){l.incrementCSMCounter(q+":error");b.setFollowStatus(h,a.BRAND_FOLLOW_STATUS.ERROR)},function(){l.incrementCSMCounter(q+":notSignedIn");b.setFollowStatus(h,a.BRAND_FOLLOW_STATUS.NOT_SIGNED_IN)})}}else c===a.BRAND_FOLLOW_STATUS.FOLLOWING?(f.text(f.data(a.FOLLOWING_TEXT_DATA_KEY)),f.attr(a.ARIA_LABEL_KEY,
f.data(a.ARIA_LABEL_FOLLOWING_DATA_KEY))):(f.text(f.data(a.FOLLOW_TEXT_DATA_KEY)),f.attr(a.ARIA_LABEL_KEY,f.data(a.ARIA_LABEL_FOLLOW_DATA_KEY)))}})});f.triggerFollowButtonLoadedEvent()});"use strict";n.when("A","brand-follow-constants","brand-follow-button-event-helper","ready").execute("brand-follow-button-mutation-observer",function(g,b,a){var e=g.$;(function(){var f=m.MutationObserver||m.WebKitMutationObserver||m.MozMutationObserver;f!==p&&(new f(function(f,g){var h;g=!1;for(var d=0;d<f.length;d++){h=
f[d];if("childList"!==h.type)break;h=h.addedNodes;for(var c,m=0;m<h.length;m++)if(c=h[m],0!==e(c).find(b.Brand_FOLLOW_BUTTON_SELECTOR).length){g=!0;break}if(g){a.triggerFollowButtonLoadedEvent();break}}})).observe(document,{childList:!0,subtree:!0})})()})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("BrandFollowKataComponentAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(g){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,e=l?l("PostsSearchWidgetAssets",""):h;e.guardFatal?e.guardFatal(g)(e,window):e.execute(function(){g(e,window)})})(function(g,h,l){g.when("A","rush-framework","related-posts-search-metrics-client","related-posts-carousel-view","af","ready").register("related-posts-search-widget",function(e,h,k,d){h.registerComponent("related-posts-search-widget","related-posts-search-widget",function(b){var f=e.$(b.elem());b={sushiEndpoint:b.prop("sushiEndpoint"),
requestId:b.prop("requestId"),pageType:b.prop("pageType"),pageId:b.prop("pageId"),appMode:b.prop("appMode"),platform:b.prop("platform"),mShopBuild:b.prop("mShopBuild"),carouselName:b.prop("carouselName")||"posts-feed-preview-carousel",placementProductId:b.prop("placementProductId"),instanceId:b.prop("instanceId"),weblabName:b.prop("weblabName"),widgetModelType:b.prop("widgetModelType"),marketplaceId:b.prop("marketplaceId")};var f=new d(f),a=new k(f,b);f.initEvents(b.carouselName,a);f.$carouselContainer.length||
a.emitCsmCounter("PostsCarouselWidgetExpectedButNotLoaded")})});"use strict";g.when("A","a-carousel-framework","posts-carousel-linkto","af","ready").register("related-posts-carousel-view",function(e,g,k){function d(a){this.$carouselContainer=a.find(".posts-feed-preview-wrapper")}var b=e.$,f={};d.prototype.getCarouselElement=function(){return this.$carouselContainer};d.prototype.initEvents=function(a,c){var m=this;g.onInit(a,function(d){f[a]?c.emitCsmCounter("PostsCarouselWidgetAlreadyInitialized"):
d?(c.emitCsmCounter("PostsCarouselWidgetInitialized"),m.auiCarousel=d,e.on(e.constants.BROWSER_EVENTS.SCROLL,function(){c.handleUserScroll()}),d.onChange("px",function(){c.handleUserScroll()}),m.$carouselContainer.find(".posts-feed-preview-card").click(function(a){c.handleUserClick(a)}),h.addEventListener("beforeunload",function(){c.handleUnload()}),h.addEventListener("pagehide",function(){c.handleUnload()}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&
c.handleUnload();"visible"===document.visibilityState&&c.handlePageLoad()}),m.$carouselContainer.delegate("[data-target-href]","click",function(a){var c=a.target,d=m.$carouselContainer.get(0),f=b(a.target).attr("data-target-href");if(null===f||f===l)f=b(a.target).closest("[data-target-href]").attr("data-target-href");for(;c&&c!==d;){if(c.hasAttribute("ignore-data-target-href"))return!1;c=c.parentNode}if("string"===typeof f&&f.length)return k.execute(f),!1}),m.$carouselContainer.delegate(".posts-feed-preview-link",
"mousedown keydown",function(a){switch(a.type){case "mousedown":b(a.target).addClass("posts-feed-preview-link-remove-outline");break;case "keydown":b(a.target).removeClass("posts-feed-preview-link-remove-outline")}}),f[a]=!0,c.initialize(),c.handlePageLoad()):c.emitCsmCounter("PostsCarouselWidgetCarouselNotFound")})};return d});"use strict";g.when("A","posts-sushi-client","related-posts-measure","af","ready").register("related-posts-search-metrics-client",function(e,g,k){function d(a,c){this.carouselView=
a;this.metricConfig=c;this.state={postVisibilityEventStates:{},postImpressionMetadata:{},carouselOnScreen:!1,unloadHandled:!1};this.sushiClient=new g(h,this.metricConfig.sushiEndpoint)}var b={PostImpression:2,PostPartialImpression:1,CarouselOffScreen:1,PostClick:1,PostView:2,PostOffScreen:1,PageEgress:1},f=e.$;d.prototype.initialize=function(){this.isCarouselOutOfViewPort()||this.checkPostsClientSideMetrics()};d.prototype.handlePageLoad=function(){this.carouselInstance=this.generateInstanceId();this.requestInstance=
this.generateInstanceId()};d.prototype.generateInstanceId=function(){return Math.round(Math.floor(999999*Math.random())+1)};d.prototype.emitCsmCounter=function(a){this.sushiClient.ueCount(a)};d.prototype.decorateMetricPayload=function(a){a.request_id=this.metricConfig.requestId;a.request_instance=this.requestInstance;a.carousel_instance=this.carouselInstance;a.page_type=this.metricConfig.pageType;a.page_id=this.metricConfig.pageId;a.app_mode=this.metricConfig.appMode;a.app_build="1.0";a.platform=
this.metricConfig.platform;a.placement_product_id=this.metricConfig.placementProductId;a.instance_id=this.metricConfig.instanceId;a.widget_model_type=this.metricConfig.widgetModelType;a.marketplace_id=this.metricConfig.marketplaceId;this.metricConfig.mShopBuild&&(a.mshop_build=this.metricConfig.mShopBuild);this.metricConfig.weblabName&&(a.weblab_name=this.metricConfig.weblabName);a.event_version=b[a.event_type];return a};d.prototype.handleUserScroll=function(){this.checkPostsClientSideMetrics()};
d.prototype.getOriginPx=function(a){a=f("#"+a);var c=a.offset();return a.length?c.left+","+c.top:"-1,-1"};d.prototype.getPosts=function(){return this.carouselView.getCarouselElement().find(".posts-feed-preview-card")};d.prototype.postOriginsAreInvalid=function(){for(var a=this.carouselView.getCarouselElement(),c=this.getPosts(),b=null,d=!1,e=-1,a=a.is(":visible"),h=0;h<c.length;h++){var g=f(c[h]),k=g.attr("id");if(g=g.is(":visible")){-1===e&&(e=h);k=this.getOriginPx(k);if(b){if(c=k===b)this.emitCsmCounter("PostsCarouselInvalidOrigins:LastVisible:"+
(d?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:CurVisible:"+(g?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:CarouselVisible:"+(a?"true":"false")),this.emitCsmCounter("PostsCarouselInvalidOrigins:FirstVisibleIndex:"+e);return c}b=k;d=g}}this.emitCsmCounter("PostsCarouselInvalidOrigins:NoCardsVisible:"+(b?"false":"true"));this.emitCsmCounter("PostsCarouselInvalidOrigins:CardsInvis:CarouselVisible:"+(a?"true":"false"));return!0};d.prototype.checkPostsClientSideMetrics=
function(){if(this.postOriginsAreInvalid()){this.emitCsmCounter("PostsCarouselInvalidOrigins");var a=!this.isCarouselOutOfViewPort();this.emitCsmCounter("PostsCarouselInvalidOrigins:OnScreen:"+(a?"true":"false"))}else this.checkPostImpressionMetrics(),this.checkPostCarouselOffScreenMetric()};d.prototype.checkPostImpressionMetrics=function(){for(var a=this.getPosts(),c=0;c<a.length;c++){var b=f(a[c]),d=b.attr("id"),e=b.attr("data-post-rank");this.checkPostViewMetric(d,e);this.checkPostOffScreenMetric(d,
e);b.is(":visible")&&(this.checkPostPartialImpressionMetric(d,e),this.checkPostImpressionMetric(d,e))}};d.prototype.postEventEmittedSinceComingOnScreen=function(a,c){return this.state.postVisibilityEventStates[c]?this.state.postVisibilityEventStates[c][a]||!1:!1};d.prototype.shouldEmitMetrics=function(a,c){return!this.postEventEmittedSinceComingOnScreen(a,c)};d.prototype.checkPostCarouselOffScreenMetric=function(){if(this.state.carouselOnScreen&&this.isCarouselOutOfViewPort()){this.state.carouselOnScreen=
!1;var a=this.decorateMetricPayload({event_type:"CarouselOffScreen"});this.sushiClient.processEvent(a,{n:1});this.carouselInstance=this.generateInstanceId()}};d.prototype.checkPostPartialImpressionMetric=function(a,c){this.shouldEmitMetrics("PostPartialImpression",a)&&this.isPartialImpression(a)&&(this.state.carouselOnScreen=!0,c=this.buildPostEvent("PostPartialImpression",a,c),this.sushiClient.processEvent(c,{n:1}),this.updateImpressionState(a,"PostPartialImpression"))};d.prototype.isPartialImpression=
function(a){a=k.getElementViewportExtents(a);return(a.isTopInViewport||a.isBottomInViewport)&&(a.isLeftInViewport||a.isRightInViewport)};d.prototype.checkPostViewMetric=function(a,c){if(this.shouldEmitMetrics("PostView",a)&&this.isView(a)){c=this.buildPostEvent("PostView",a,c);var b=e.now()-this.state.postVisibilityEventStates[a].PostImpression;0<b&&36E5>b&&(c.dwell_time_ms=Math.round(b));this.sushiClient.processEvent(c,{n:1});this.updateImpressionState(a,"PostView")}};d.prototype.isView=function(a){if(this.postEventEmittedSinceComingOnScreen("PostImpression",
a))return a=k.getElementViewportAreas(a),a.viewportArea<.5*a.totalArea};d.prototype.checkPostImpressionMetric=function(a,c){this.shouldEmitMetrics("PostImpression",a)&&this.isImpression(a)&&(c=this.buildPostEvent("PostImpression",a,c),this.sushiClient.processEvent(c,{n:1}),this.updateImpressionState(a,"PostImpression",e.now()))};d.prototype.isImpression=function(a){a=k.getElementViewportAreas(a);return a.viewportArea>=.5*a.totalArea};d.prototype.checkPostOffScreenMetric=function(a,c){this.isPostOutOfViewPort(a)&&
this.postEventEmittedSinceComingOnScreen("PostPartialImpression",a)&&(c=this.buildPostEvent("PostOffScreen",a,c),this.sushiClient.processEvent(c,{n:1}),this.state.postVisibilityEventStates[a].PostImpression=!1,this.state.postVisibilityEventStates[a].PostPartialImpression=!1,this.state.postVisibilityEventStates[a].PostView=!1)};d.prototype.isPostOutOfViewPort=function(a){return!e.onScreen(f("#"+a),0)};d.prototype.isCarouselOutOfViewPort=function(){return!e.onScreen(this.carouselView.getCarouselElement(),
0)};d.prototype.buildPostEvent=function(a,c,b){return this.decorateMetricPayload({event_type:a,post_id:c.split("Posts-")[1],rank:parseInt(b,10),origin_px:this.getOriginPx(c)})};d.prototype.updateImpressionState=function(a,c,b){var d=this.state.postVisibilityEventStates[a]||{};d[c]="undefined"===typeof b?!0:b;this.state.postVisibilityEventStates[a]=d};d.prototype.handleUserClick=function(a){var c=f(a.target),b=c.attr("data-post-id"),d=c.attr("data-post-rank"),e=c.attr("data-click-target");if(null===
b||null===d||b===l||d===l)d=c.closest(".posts-feed-preview-card"),b=d.attr("id"),d=d.attr("data-post-rank");if(null===e||e===l)e=c.closest("[data-click-target]"),e=null!==e&&e!==l?e.attr("data-click-target"):"UNKNOWN";var g=this.buildPostEvent("PostClick",b,d);g.click_target=e;"FollowButton"===e&&h.BrandFollowSharedUtils&&f.isFunction(h.BrandFollowSharedUtils.getLastClickAction)&&(g.click_action=h.BrandFollowSharedUtils.getLastClickAction(a.target));this.sushiClient.processEvent(g,{n:1});a=c.closest("[data-click-action]");
null!==a&&a!==l&&"Egress"===a.attr("data-click-action")&&"FollowButton"!==e&&(a=a.attr("data-target-destination")||"NONE",this.emitPageEgressMetric(b,d,a,e))};d.prototype.emitPageEgressMetric=function(a,c,b,d){a=this.buildPostEvent("PageEgress",a,c);a.destination_type=b;a.click_target=d;this.sushiClient.processEvent(a,{n:1})};d.prototype.handleUnload=function(){if(!this.state.unloadHandled){this.state.unloadHandled=!0;for(var a=this.getPosts(),c=0;c<a.length;c++){var b=f(a[c]),d=b.attr("id"),b=b.attr("data-post-rank");
if(this.postEventEmittedSinceComingOnScreen("PostImpression",d)&&this.shouldEmitMetrics("PostView",d)){var b=this.buildPostEvent("PostView",d,b),g=e.now()-this.state.postVisibilityEventStates[d].PostImpression;0<g&&36E5>g&&(b.dwell_time_ms=Math.round(g));this.sushiClient.processEvent(b,{n:1});this.updateImpressionState(d,"PostView")}}this.state.carouselOnScreen&&(a=this.decorateMetricPayload({event_type:"CarouselOffScreen"}),this.sushiClient.processEvent(a,{n:1}),this.state.carouselOnScreen=!1);this.state.carouselInstance=
this.generateInstanceId();this.sushiClient.onBeforeUnload()}};return d});"use strict";g.when("A","af","ready").register("related-posts-measure",function(e){function g(){var b=d(h),f=b.scrollTop(),a=b.scrollLeft(),c=h.innerHeight||b.height(),b=h.innerWidth||b.width();return{top:f,left:a,height:c,width:b,bottom:f+c,right:a+b}}function k(b){var d=b.offset(),a=d.top,d=d.left,c=b.height();b=b.width();return{top:a,left:d,height:c,width:b,bottom:a+c,right:d+b}}var d=e.$;return{getElementViewportAreas:function(b){b=
d("#"+b);var f=g(),a=f.width*f.height,c=k(b),h=c.width*c.height,f=Math.max(Math.min(c.right,f.right)-Math.max(c.left,f.left),0)*Math.max(Math.min(c.bottom,f.bottom)-Math.max(c.top,f.top),0);return b.length&&e.onScreen(b,0)?{totalArea:h,viewportArea:f,totalViewportArea:a}:{totalArea:1,viewportArea:0,totalViewportArea:a}},getElementViewportExtents:function(b){b=d("#"+b);var f=g(),a=k(b);return b.length&&e.onScreen(b,0)?{isTopInViewport:a.top>=f.top&&a.top<f.bottom,isBottomInViewport:a.bottom>=f.top&&
a.bottom<f.bottom,isLeftInViewport:a.left>=f.left&&a.left<f.right,isRightInViewport:a.right>=f.left&&a.right<f.right}:{isTopInViewport:!1,isBottomInViewport:!1,isLeftInViewport:!1,isRightInViewport:!1}},getViewportCoordinates:g,getElementLocation:k}});g.when("af","ready").register("posts-carousel-linkto",function(){return{execute:function(e){h.location.href=e}}})});
/* ******** */
(function(k){var f=window.AmazonUIPageJS||window.P,m=f._namespace||f.attributeErrors,a=m?m("SearchBestOverallWidgetAssets",""):f;a.guardFatal?a.guardFatal(k)(a,window):a.execute(function(){k(a,window)})})(function(k,f,m){k.when("A","best-overall-constant","best-overall-util").execute(function(a,c,e){a.declarative("show-best-overall-side-sheet","click keydown",function(b){("click"===b.type||e.checkKeyDownAction(b,c.KEY_ENTER))&&a.trigger(c.OPEN_SHEET,b.data,b.$currentTarget)});a.declarative("close-best-overall-side-sheet",
"click keydown",function(b){("click"===b.type||e.checkKeyDownAction(b,c.KEY_ENTER))&&a.trigger(c.CLOSE_SHEET)})});"use strict";k.when("A","rush-framework","best-overall-constant","best-overall-inject","best-overall-util").execute("lpx-best-overall-secondary-sheet",function(a,c,e,b,g){var d=a.$;c.registerComponent("lpx-best-overall-secondary-sheet","lpx-best-overall-secondary-sheet",function(c){function p(b,d){a.animate(f,b,e.ANIMATE_TIME,"ease-out",d)}function q(){a.show(h.find(".lpx-best-overall-darken-background"));
a.show(h.find(".lpx-best-overall-close"));a.show(h.find(".lpx-best-overall-spinner"));f.show(function(){p({right:"0px"})});d("body").css("overflow","hidden");f.css("overflow","visible")}function r(){var b=f.width()+e.HIDE_BUFFER;p({right:"-"+b+"px"},function(){f.css({display:"none"})});d("body").css("overflow","scroll");a.hide(h.find(".lpx-best-overall-close"));a.hide(h.find(".lpx-best-overall-darken-background"));a.hide(h.find(".lpx-best-overall-secondary-error"));m.children("div").focus()}function n(){g.showErrorMessage(h);
g.emitMetric(e.METRIC_AJAX_FAIL_DESKTOP)}function k(d){d=d.response;var c=h.find(".a-scroller.a-scroller-vertical");g.validateSecondaryViewData(d)?(b.addSecondaryReviewLink(h,d.seeMoreCustomerReviewsUrl),b.addSecondaryArticleSection(h,d.recommendedArticleCount,d.articleList),a.show(c),c.scrollTop(e.SCROLLER_TOP),a.hide(h.find(".lpx-best-overall-spinner")),f.find(".lpx-best-overall-close").focus(),g.emitMetric(e.METRIC_SECONDARY_SUCCESS_DESKTOP)):(g.showErrorMessage(h),f.find(".lpx-best-overall-close").focus(),
g.emitMetric(e.METRIC_SECONDARY_FAIL_DESKTOP))}var l=c.elem(),h=d(l),f=h.children(".lpx-best-overall-side-sheet"),m;a.on(e.OPEN_SHEET,function(a,d){g.requestSecondaryViewData(a.ajaxUrl,k,n);q();var c=d.prev(),e=c.find("img"),c=c.children("div:last-child");b.addSecondaryAsin(h,e,c);b.addSecondaryAttributeList(h.find(".lpx-best-overall-secondary-attribute-section"),a.attributes);m=d});a.on(e.CLOSE_SHEET,function(){r()});c.teardown=function(){a.off(e.OPEN_SHEET);a.off(e.CLOSE_SHEET)}})});"use strict";
k.register("best-overall-constant",function(){return{OPEN_SHEET:"lpx-best-overall-open-sheet-event",BEFORE_OPEN_SHEET:"a:sheet:beforeShow:best-overall-bottom-sheet",CLOSE_SHEET:"lpx-best-overall-close-sheet-event",AJAX_TIMEOUT:5E3,ANIMATE_TIME:300,HIDE_BUFFER:50,SCROLLER_TOP:0,KEY_ENTER:13,METRIC_SECONDARY_SUCCESS_DESKTOP:"LPXBestOverallSecondaryRenderSuccessDesktop",METRIC_SECONDARY_SUCCESS_MOBILE:"LPXBestOverallSecondaryRenderSuccessMobile",METRIC_SECONDARY_FAIL_DESKTOP:"LPXBestOverallSecondaryRenderFailDesktop",
METRIC_SECONDARY_FAIL_MOBILE:"LPXBestOverallSecondaryRenderFailMobile",METRIC_AJAX_FAIL_DESKTOP:"LPXBestOverallAjaxFailDesktop",METRIC_AJAX_FAIL_MOBILE:"LPXBestOverallAjaxFailMobile"}});"use strict";k.when("A","jQuery","best-overall-elem","best-overall-util").register("best-overall-inject",function(a,c,e,b){function g(d,c,g,f){d.forEach(function(d,n,k){var l=b.clone(c),h=l.find('span[name\x3d"authorName"]');h.text(d.articleAuthor);d.verifiedPublisher&&h.append(e.createProfileVerifiedBadge(f));l.find("img").attr("src",
d.avatarUrl);l.children("a:first").attr("href",d.profileUrl);l.children("div:first").children("a").attr("href",d.articleUrl);l.find('span[name\x3d"articleBody"]').text(d.articleContent);l.find('a[name\x3d"articleName"]').text(d.articleTitle).attr("href",d.articleUrl);l.find('span[name\x3d"articleDate"]').text(d.articleUpdateDate);a.show(l);g.append(l);n!==k.length-1&&g.append(e.createDivider(f))})}return{addSecondaryReviewLink:function(d,a){d.find(".lpx-best-overall-review-link").attr("href",a)},
addSecondaryAttributeList:function(d,a){var b=d.find(".lpx-best-overall-secondary-attribute-list"),c=b.children("div"),g="";a.forEach(function(a){c.find('span[name\x3d"attributeName"]').text(a.name);c.find('span[name\x3d"attributeRating"]').empty().append(e.createStarReview(a.fullStarNumber,a.hasHalfStar,d)).append(e.createLetterSpace()).append(a.rating);g+=a.name+", ";g+="rating "+a.rating+". ";c=c.next()});b.attr("aria-label",g)},addSecondaryArticleSection:function(a,b,c){var e=a.find(".lpx-best-overall-secondary-article-info"),
f=a.find(".lpx-best-overall-secondary-article-list"),k=a.find(".lpx-best-overall-template-article").clone().removeClass("lpx-best-overall-template-article");e.find("span").text(b);e.attr("aria-label",b);f.empty();g(c,k,f,a)},addSecondaryAsin:function(a,c,e){a.find(".lpx-best-overall-secondary-asin-image").empty().append(b.clone(c));a.find(".lpx-best-overall-secondary-asin-info").empty().append(b.clone(e))}}});"use strict";k.when("jQuery").register("best-overall-elem",function(a){return{createStarReview:function(a,
e,b){a=".lpx-best-overall-star-"+a+(e?"-5":"");return b.find(".lpx-best-overall-template-rating-star").find(a).clone()},createProfileVerifiedBadge:function(a){return a.find(".lpx-best-overall-template-verified-badge").children().clone().css("vertical-align","middle")},createDivider:function(a){return a.find(".lpx-best-overall-template-divider").clone().removeClass("lpx-best-overall-template-divider aok-hidden").attr("aria-hidden","true")},createLetterSpace:function(){return a("\x3cspan\x3e\x3c/span\x3e").addClass("lpx-best-overall-letter-space aok-inline-block")}}});
"use strict";k.when("A","best-overall-constant","s-search-ajax-controller").register("best-overall-util",function(a,c,e){return{clone:function(a){a=a.clone();a.removeAttr("id");a.find("[id]").removeAttr("id");return a},requestSecondaryViewData:function(a,g,d){e(a,{method:"get",timeout:c.AJAX_TIMEOUT}).then(g,d)},validateSecondaryViewData:function(b){var c=!0;if(a.objectIsEmpty(b)||a.objectIsEmpty(b.articleList)||a.objectIsEmpty(b.recommendedArticleCount)||a.objectIsEmpty(b.seeMoreCustomerReviewsUrl))return!1;
b.articleList.forEach(function(b){if(a.objectIsEmpty(b.articleAuthor)||a.objectIsEmpty(b.articleContent)||a.objectIsEmpty(b.articleTitle)||a.objectIsEmpty(b.articleUpdateDate)||a.objectIsEmpty(b.articleUrl)||a.objectIsEmpty(b.avatarUrl)||a.objectIsEmpty(b.profileUrl))c=!1;!0!==b.verifiedPublisher&&!1!==b.verifiedPublisher&&(c=!1)});return c},checkKeyDownAction:function(b,c){return a.objectIsEmpty(b)||a.objectIsEmpty(b.type)?!1:"keydown"!==b.type||b.$event.keyCode!==c&&b.$event.key!==c?!1:!0},emitMetric:function(a){f.ue&&
f.ue.count&&f.ue.count(a,(f.ue.count(a)||0)+1)},showErrorMessage:function(b){a.hide(b.find(".lpx-best-overall-spinner"));a.hide(b.find(".a-scroller.a-scroller-vertical"));a.show(b.find(".lpx-best-overall-secondary-error"))}}})});
/* ******** */
(function(e){var d=window.AmazonUIPageJS||window.P,f=d._namespace||d.attributeErrors,c=f?f("SearchFollowButtonAssets",""):d;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,d,f){e.when("jQuery","rush-framework","af").register("rdx-follow-button",function(c,e){function k(a){d.ue&&d.ue.tag&&d.ue.count&&(d.ue.tag(a,"searchEntityFollow"),d.ue.count(a+"Count",1))}function l(a){a.removeClass("aok-hidden")}e.registerComponent("rdx-follow-button","rdx-follow-button",
function(a){function e(a){b.removeClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(g);b.find(".rdx-follow-button-button").attr("aria-label",t);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-following-icon").addClass("rdx-follow-button-follow-icon");b.unbind().click(function(){p(a)});l(b)}function m(a){b.addClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(n);b.find(".rdx-follow-button-button").attr("aria-label",
u);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-follow-icon").addClass("rdx-follow-button-following-icon");b.unbind().click(function(){v(a)});l(b)}function w(){b.removeClass("rdx-follow-button-is-following");b.find("button .rdx-follow-button-text").text(g);b.find("button .rdx-follow-button-icon").removeClass("rdx-follow-button-following-icon").addClass("rdx-follow-button-follow-icon");b.unbind().click(function(){"undefined"!==typeof sessionStorage&&(sessionStorage.followKey=
h);d.location.href=x});l(b)}function p(a){c.ajax({type:"POST",contentType:"application/json; charset\x3dutf-8",url:y,data:JSON.stringify({authenticity_token:a,entity_id:h,category:q,ref:z}),success:function(){m(a)},error:function(){e();r.removeClass("aok-hidden");k("EntityFollowError")}})}function v(a){c.ajax({type:"DELETE",url:A+"\x26"+c.param({authenticity_token:a}),data:{},success:function(){e(a)},error:function(){m(a);r.removeClass("aok-hidden");k("EntityUnfollowError")}})}function B(){c.ajax({type:"GET",
url:C,data:{},success:function(a){if(a.isFollowable)if(a.signedIn)if(a.isFollowing)m(a.csrf);else{var b;b=h;var c;c=/rdx-entity-follow=([^#&]+)/.exec(d.location.search);(c&&2===c.length?c[1]:f)!==b||"undefined"===typeof sessionStorage?b=!1:(c=sessionStorage.followKey,sessionStorage.removeItem("followKey"),b=c===b);b?p(a.csrf):e(a.csrf)}else w()},error:function(){k("EntityFollowStatusError")}})}var b=c(a.elem()).find(".rdx-follow-button"),r=c(a.elem()).find(".rdx-follow-button-alert"),h=a.prop("entityID"),
q=a.prop("entityType"),C=a.prop("followStatusUrl"),y=a.prop("followUrl"),A=a.prop("unfollowUrl"),x=a.prop("flexSignInUrl"),g=a.prop("followText"),n=a.prop("followingText"),t=a.prop("followARIALabel"),u=a.prop("followingARIALabel"),z=a.prop("followReftag");"undefined"!==typeof h&&"undefined"!==typeof q&&("undefined"===typeof g&&(g="Follow"),"undefined"===typeof n&&(n="Following"),B())})})});
/* ******** */
(function(b){var d=window.AmazonUIPageJS||window.P,e=d._namespace||d.attributeErrors,c=e?e("SearchEntityWidgetAssets",""):d;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,d,e){b.when("jQuery","a-truncate").register("rdx-entity-paragraph-common",function(c,b){return{rdxEntityLineHeightOverride:function(a){c(a.elem()).find(".rdx-entity-paragraph").each(function(a,b){a=c(b);b=a.attr("data-a-max-rows");a.css({"line-height":"1.5em","max-height":1.5*b+"em"})})},rdxEntityParagraphARIATruncate:function(a){a=
c(a.elem());a.find(".a-truncate-full").attr("aria-hidden","true");a.find(".a-truncate-cut").attr("aria-hidden","false")},rdxEntityUpdateParagraphTruncate:function(a){a=c(a.elem()).find(".a-truncate");b.get(a).update()}}});"use strict";b.when("rush-framework","rdx-entity-paragraph-common").register("rdx-entity-paragraph-truncate",function(c,b){c.registerComponent("rdx-entity-paragraph-truncate","rdx-entity-paragraph-truncate",function(a){b.rdxEntityLineHeightOverride(a);b.rdxEntityParagraphARIATruncate(a);
b.rdxEntityUpdateParagraphTruncate(a)})})});
/* ******** */
(function(m){var l=window.AmazonUIPageJS||window.P,r=l._namespace||l.attributeErrors,e=r?r("SearchWebAskAndAssistWidgetAssets",""):l;e.guardFatal?e.guardFatal(m)(e,window):e.execute(function(){m(e,window)})})(function(m,l,r){m.when("A","rush-framework","s-ana-widget-tracking-utils","s-ana-url-utils","ready").register("s-ana-widget",function(e,x,c,a){function q(b,d){var a=g.extend({},b);d&&d.forEach(function(d){delete a[d]});return a}function p(b,d,f){f=g.extend({},f);var v;f.n="n:"+b.join(",n:");
for(v in d)d.hasOwnProperty(v)&&(f[v]=d[v].join("|"));return a.buildSearchQueryString(f)}function b(b,d,f){var a={};a.ref=d.refMaker;a.rh=f;a.k=b.k;a.dm="true";a.dc="true";return a}function f(f,d,h,n){var c=a.getQueryParameters(l.location.href),y=a.getSearchParametersMap(c);n=q(y,n);f=p(d,f,n);return location.origin+"/s"+h.percolateParameters+"\x26"+g.param(b(c,h,f))}function h(b,d,a){for(var f=0,h={},n,c,g,q=[],f=0;f<d.length;f++)for(g in c=a[f],n=d[f],n=b[n],n=n.answersList,c=n[c],c=c.refinements,
c)h.hasOwnProperty(g)?(q=h[g].concat(c[g]),h[g]=q.filter(function(d,b){return q.indexOf(d)===b})):h[g]=c[g];return h}function k(b,d,n,q,p){return function(k){k=g(k.currentTarget);var e=d.currentQuestionId,t;t=k.data("answer-index");var l=q[e].answersList[t].nextQuestionId;c.updateClientSideMetricCounter("CE_GN_AnA_SelectAnswer");d.questionPath.push(e);d.answerIndexList.push(t);t=c.incrementAndFetchQuestionIndex(d);c.updateSelectedAnswer(b,k);if(!l){k=d.questions;e=d.metadata;c.updateClientSideMetricCounter("CE_GN_AnA_SelectAnswerSuccess");
c.updateClientSideMetricCounter("CE_GN_AnA_PageRefresh");c.updateClientSideMetricCounter("CE_GN_AnA_SelectedAnswerCount",t);t=h(k,d.questionPath,d.answerIndexList);var l=d.questionPath,x=d.answerIndexList,m=e.scopedNodeList,u,r,w;for(u=0;u<l.length;u++)w=l[u],r=x[u],w=k[w],r=w.answersList[r].additionalScope,m=m.concat(r);k=f(t,m,e,p);d.questionPath.pop();d.answerIndexList.pop();c.decrementAndFetchQuestionIndex(d);a.navigateTo(k);return k}d.currentQuestionId=l;c.renderNextQuestion(b,t,n,q,e,l);c.updateClientSideMetricCounter("CE_GN_AnA_SelectAnswerSuccess")}}
function n(b,d,f,a){return function(){var n=d.currentQuestionId,h=d.questionPath.pop(),g=b.find(".s-ana-answer-button-list[data-question-id\x3d"+h+"]"),k=d.answerIndexList.pop(),g=g.children(".s-ana-answer[data-answer-index\x3d"+k+"]");c.updateClientSideMetricCounter("CE_GN_AnA_ClickBack");k=c.decrementAndFetchQuestionIndex(d);c.renderNextQuestion(b,k,f,a,n,h);d.currentQuestionId=h;c.updateSelectedAnswer(b,g);c.updateClientSideMetricCounter("CE_GN_AnA_ClickBackSuccess")}}var g=e.$;x.registerComponent("s-ana-widget",
"s-ana-widget",function(b){b=g(b.elem());var d=b.data("widget-data")||{},f=d.metadata,a=d.questions;c.updateClientSideMetricCounter("CE_GN_AnA_WidgetLoad");d.currentIndex=d.currentIndex?d.currentIndex:0;d.currentQuestionId=f.firstQuestionId;d.questionPath=d.questionPath?d.questionPath:[];d.answerIndexList=d.answerIndexList?d.answerIndexList:[];f&&0<b.find(".s-ana-answer").length&&(b.find(".s-ana-answer").click(k(b,d,f,a,f.refinementBinList)),b.find(".s-ana-back-button").click(n(b,d,f,a)));c.createDesktopLearnMoreClickHandlers(b,
a);c.updateClientSideMetricCounter("CE_GN_AnA_WidgetLoadSuccess")});return{cleanUpSearchParameterMap:q,buildSearchQueryString:p,buildQueryParameters:b,createAnswerClickHandler:k,createBackButtonHandler:n,buildUrl:f}});m.when("R","rush-router-pattern-parser","s-ana-widget-tracking-utils").register("s-ana-url-utils",function(e,l,c){return{getQueryParameters:function(a){a=(a||"").split("?");a=1<a.length?a.slice(1).join("?"):a[0];return l.parseQueryString(a)},getSearchParametersMap:function(a){var c=
{},e,b;if(a&&a.rh)for(a=a.rh.split(","),b=0;b<a.length;b++)e=a[b].split(":"),c[e[0]]=e[1];return c},buildSearchQueryString:function(a){var c,e=[];for(c in a)"n"===c?e.push(a[c]):e.push(c+":"+a[c]);return e.join(",")},navigateTo:function(a){var l={};l.url=a;c.updateClientSideMetricCounter("HCXEffortlessShoppingANAPageRefreshSuccess");e.to(l)}}});m.when("A","a-modal","ready").register("s-ana-widget-tracking-utils",function(e,m){function c(b,f,a){a=a?"aok-hidden":"s-ana-back-button-hidden";0===f?b.find(".s-ana-back-button").addClass(a):
b.find(".s-ana-back-button").removeClass(a)}function a(b,f,a,c){b.find(".s-ana-question").addClass("s-ana-hidden-element");b.find(".s-ana-question-index").text(f.indexList[a]);b.find(".s-ana-question-text").text(c.questionString);b.find(".s-ana-question").removeClass("s-ana-hidden-element")}function q(b,a,c){var k=b.find("#s-ana-learn-more-link-"+a);b=b.find("#s-ana-learn-more-link-"+c);k&&k.addClass("aok-hidden");b&&b.removeClass("aok-hidden");e.each(p(".s-ana-learn-more-content"),function(b){var g=
b.getAttribute("data-question-id");g===a?p(b).addClass("aok-hidden"):g===c&&p(b).removeClass("aok-hidden")})}var p=e.$;return{updateSelectedAnswer:function(b,a){b.find(".s-ana-answer").removeClass("s-ana-answer-button-selected");a.addClass("s-ana-answer-button-selected")},renderNextQuestion:function(b,f,h,k,n,g){var l=b.find(".s-ana-answer-button-list[data-question-id\x3d"+n+"]");k=k[g];var d=b.find(".s-ana-answer-button-list[data-question-id\x3d"+g+"]"),m=b.find(".s-ana-footer");l.addClass("s-ana-hidden-element");
a(b,h,f,k);c(b,f,h.balanced);q(b,n,g);d.removeClass("s-ana-hidden-element");e.fadeOut(m,"0","ease-in",function(){e.fadeIn(m,"500","ease-in",function(){})})},updateClientSideMetricCounter:function(b,a){a=a?a:1;l.ue&&l.ue.count&&l.ue.count(b,(l.ue.count(b)||0)+a)},incrementAndFetchQuestionIndex:function(b){var a=b.currentIndex;a++;return b.currentIndex=a},decrementAndFetchQuestionIndex:function(b){var a=b.currentIndex;a--;return b.currentIndex=a},createDesktopLearnMoreClickHandlers:function(b,a){e.each(a,
function(a,c){if(b.find(".s-ana-learn-more-modal-trigger-"+c)&&a.educationalContent){var f={header:a.educationalContent.contentHeaderString,dataStrategy:"preload",name:"learnMoreContent"};p(document).delegate(".s-ana-learn-more-modal-trigger-"+c,"click",function(a){a.preventDefault();m.get("learnMoreContent")?a=m.get("learnMoreContent").update(f):(a=p(".s-ana-learn-more-modal-trigger-"+c),a=m.create(a,f));a.show()})}})}}});m.when("A","rush-dispatcher","s-web-application-controller","ready").register("s-ana-results-count",
function(e,l,c){function a(a){h.find(".s-ana-result-count-text").text(k.replace("{}",a))}function m(){var a=h.find(".s-ana-result-count-spinner");h.find(".s-ana-result-count-text").toggleClass("aok-hidden");a.toggleClass("aok-hidden")}function p(e){b[e]!==r?a(b[e]):(f.push(e),m(),c.requestPartialContent(e,{suffix:"ce_ana"}))}var b={},f=[],h,k="";return{refreshResultsCount:p,initializeResultsCountListener:function(e,g){l.on(c.ACTIONS.SEARCH_METADATA_READY+"ce_ana",function(c){var d=f.shift();b[d]=
c.item.metadata.totalResultCount;a(c.item.metadata.totalResultCount);m()});h=e;k=h.find(".s-ana-result-count-text").text().trim();(e=c.getSearchMetadata().totalResultCount)?(a(e),b[g]=e,h.find(".s-ana-footer-spinner").toggleClass("aok-hidden"),h.find(".s-ana-results-count-footer").toggleClass("aok-hidden")):(h.find(".s-ana-footer-spinner").toggleClass("aok-hidden"),h.find(".s-ana-results-count-footer").toggleClass("aok-hidden"),p(g))},toggleSpinnerAndResultCountOnWidget:m,setResultCountOnWidget:a}})});
/* ******** */
(function(c){var p=window.AmazonUIPageJS||window.P,h=p._namespace||p.attributeErrors,f=h?h("SearchWebKnowledgeWidgetAssets",""):p;f.guardFatal?f.guardFatal(c)(f,window):f.execute(function(){c(f,window)})})(function(c,p,h){c.when("A","s-web-application-controller","rush-util","tab-nav-util").register("tab-nav-ajax",function(f,e,c,k){return{ajaxTabClick:function(f){var b=f.selectedTab.$tab;f=b.attr("id");var t=b.attr("data-ajaxUrl"),a=b.closest("[data-widgetId]").attr("data-widgetId"),b=b.closest("[data-uuid]").attr("data-uuid"),
m="",d=!1;c.isNullOrUndefined(a)||2!==a.split(":").length||(m=a.split(":")[0]);a={uuid:b,ajaxUrl:t};(d=k.checkCriticalDataMissing(a))?k.logMissingCriticalData(a,m):(k.logMetric("tab_navigation:"+m),e.requestPartialContent(t,{suffix:":"+b+":"+f})["catch"](function(){k.logMetric("tab_navigation:"+m+":ajax_call_failure")}))}}});c.when("A","jQuery","rush-framework","s-actions","rush-util","tab-nav-util","tab-nav-ajax","a-carousel-framework").register("know-tab-nav",function(f,e,c,k,l,b,t,a){c.registerComponent("s-tab-navigation-component",
"s-tab-navigation-component",function(m){var d=m.elem(),n=e(d),d=n.closest("[data-uuid]").attr("data-uuid"),c=n.closest("[data-widgetId]").attr("data-widgetId"),g=b.getMatchingElement(n,".a-carousel-container"),q=n.closest(".a-tab-content"),p=b.getActiveTabHeight(n),u=b.getMatchingElement(n,"[id*\x3dtab-navigation-tab-spinner]"),h="",x=!1,v=q.attr("id"),w=q.closest(".a-tab-container").find(".know-tab-nav-tabs-set").find("li.know-tab-nav-tab-header#"+b.escapeSpecialHashCharacter(v)),r=b.getMatchingElement(g,
"[id*\x3dtab-navigation-asin-header]");l.isNullOrUndefined(c)||2!==c.split(":").length||(h=c.split(":")[0]);c={uuid:d,carousel:g,tabContent:q,initialActiveTabHeight:p};(x=b.checkCriticalComponentDataInvalid(c))?b.logMissingCriticalData(c,h):(m.on(k.LOAD_SEARCH_PAGE+":"+d+":"+v,function(){u=b.getMatchingElement(n,"[id*\x3dtab-navigation-tab-spinner]");!q.is(".a-hidden")&&0<u.length&&(g.addClass("aok-hidden"),u.height(p),u.html('\x3cdiv class\x3d"a-spinner-wrapper know-tab-nav-spinner"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium"\x3e\x3c/span\x3e\x3c/div\x3e'))}),
m.on(k.RESULT_ITEM_READY+":"+d+":"+v,function(d){var f=q.attr("id"),c=document.createElement("div");l.isNullOrUndefined(d)||l.isBlank(f)?b.logMetric("tab_navigation:"+h+":ajax_asin_invalid"):(d=d.item.html,c.innerHTML=d,c=c.firstElementChild.getAttribute("data-asin"),l.isNotBlank(c)&&!q.is(".a-hidden")&&(c="#tab-navigation-replace-"+b.escapeSpecialHashCharacter(f)+"-"+c,c=n.find(c)[0],l.isNullOrUndefined(c)||(d=b.getAsinContent(d),0<d.length&&(m.replace(c,d[0].innerHTML),l.isNullOrUndefined(u)||0!==
q.find("[id*\x3dtab-navigation-replace]").length||(u.remove(),g.removeClass("aok-hidden"),b.forceTextTruncation(n.find(".know-tab-nav-asin-header, .know-tab-nav-asin-header-intro")),0<r.length&&b.setElementHeight(b.getMatchingElement(g,"#tab-navigation-tab-link-top-space-"+b.escapeSpecialHashCharacter(f)),r.outerHeight(!0)),b.setElementHeight(b.getMatchingElement(g,"#tab-navigation-tab-link-"+b.escapeSpecialHashCharacter(f)),0<r.length?g.height()-r.outerHeight(!0):g.height()),a.createAll(),a.initializeAll())))))}),
0<r.length&&b.setElementHeight(b.getMatchingElement(g,"#tab-navigation-tab-link-top-space-"+b.escapeSpecialHashCharacter(v)),r.outerHeight(!0)),b.setElementHeight(b.getMatchingElement(g,"#tab-navigation-tab-link-"+b.escapeSpecialHashCharacter(v)),0<r.length?g.height()-r.outerHeight(!0):g.height()),b.setLineClampClass(b.getMatchingElement(g,"#tab-navigation-tab-link-line-clamp-"+b.escapeSpecialHashCharacter(v))),f.on("a:tabs:"+d+":"+q.data("a-name")+":select",t.ajaxTabClick),w.removeClass("know-tab-nav-disable-tab"),
w.addClass("know-tab-nav-enable-tab"))})});c.when("jQuery","rush-util","a-truncate").register("tab-nav-util",function(c,e,h){function k(a,b){var d=c(a),e;b.forEach(function(a){e=d.find(a);0<e.length&&(d=e)});return d}function l(a){return(a.match(/(\s|^)s-line-clamp-\d+(?!\S)\b/g)||[]).map(c.trim)}function b(a){c(a).removeClass(function(a,b){return l(b).join(" ")}).addClass("s-line-clamp-2")}function t(a){var b=p.ue;b&&b.tag&&b.tag(a)}return{getAsinContent:function(a){a=k(a,[".template\\\x3dSEARCH_RESULTS",
".s-latency-cf-section",".s-card-container"]);a.find(".a-spacing-medium").removeClass("a-spacing-medium");a.find('[class*\x3d"status-badge"]').remove();b(a.find("[class*\x3ds-line-clamp]"));return a},findLineClampClass:l,getActiveTabHeight:function(a){a=c(a).closest(".a-tab-container").find(".a-tab-content").not(".a-hidden").height();return e.isNullOrUndefined(a)?400:a},escapeSpecialHashCharacter:function(a){return e.isBlank(a)?a:a.replace(/#/g,"\\#")},logMetric:t,checkCriticalDataMissing:function(a){for(var b in a)if(e.isNullOrUndefined(a[b])||
e.isBlank(a[b]))return!0;return!1},checkCriticalComponentDataInvalid:function(a){return e.isNullOrUndefined(a.uuid)||e.isBlank(a.uuid)||0>=c(a.carousel).length||0>=c(a.tabContent).length||!e.isNumber(a.initialActiveTabHeight)?!0:!1},logMissingCriticalData:function(a,b){for(var c in a)(e.isNullOrUndefined(a[c])||e.isBlank(a[c]))&&t("tab-navigation:"+b+":"+c)},getMatchingElement:function(a,b){return c(a).find(b)},setElementHeight:function(a,b){c(a).height(b)},setLineClampClass:b,setCSSPropertyForObject:function(a,
b,c){e.isNullOrUndefined(c)||a.css(b,c)},forceTextTruncation:function(a){return a.filter(".a-truncate").add(a.find(".a-truncate")).filter(":visible").filter(function(a,b){h.get(b).update();return!0})}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchWebSpecBasedShoppingWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(d){var c=window.AmazonUIPageJS||window.P,w=c._namespace||c.attributeErrors,a=w?w("HuddlesChatboxJS",""):c;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,c,w){d.when("A","huddles-core","ready").register("huddles-chatbox-interaction-2.0",function(a,b){function e(){if(n.width()&&n.offset()){var a=n.width();return a+n.offset().left-d.width()>.9*a?f.css("right",g):f.css("right",g+a)}a=parseInt(t.css("padding-right"),10);return f.css("right",g+a)}function u(){if(0!==
q.length&&null!==q.position()){var a=d.height(),b=Math.max(0,q.position().top+q.height()-d.scrollTop());300>a-b?m.height(0):m.height(Math.min(500,a-b)-v.outerHeight())}}function k(){u();e()}var d=a.$(c),t=a.$("body"),q=a.$("#navbar, #navWrapper, .header-contents-container").first(),n=a.$("#nav-flyout-ewc"),f=a.$(".huddles-chatbox"),m=a.$(".huddles-chatbox__content"),v=a.$(".huddles-chatbox__toolbar"),r=a.$(".huddles-chatbox__toolbar-minimize"),g=parseInt(f.css("right"),10);setInterval(e,3E3);d.resize(a.debounce(k,
100));d.scroll(a.debounce(u,100));return{minimizeChatbox:function(b){f.show();b?(m.hide(),r.addClass("huddles-chatbox__vertical-flip")):a.slideUp(m,200,"ease-out",function(){r.addClass("huddles-chatbox__vertical-flip")})},maximizeChatbox:function(){},restoreChatbox:function(b){m.show();k();b?(f.show(),r.removeClass("huddles-chatbox__vertical-flip")):a.slideDown(f,200,"ease-out",function(){r.removeClass("huddles-chatbox__vertical-flip")})},closeChatbox:function(){a.slideUp(f,200,"ease-out")}}});"use strict";
d.when("A","ready").register("huddles-chatbox-storage-2.0",function(a){function b(){try{return u&&"sessionStorage"in c&&null!==c.sessionStorage&&sessionStorage}catch(a){return!1}}var e="huddle-chatbox"+c.location.pathname,u=!1;return{enableSessionStorage:function(){u=!0},getChatboxState:function(){if(b())return JSON.parse(sessionStorage.getItem(e))||{};u&&d.log("sessionStorage not available","WARN");return{}},setChatboxState:function(a){b()&&sessionStorage.setItem(e,JSON.stringify(a))},DISPLAY_CODE:{MINIMIZED:"MINIMIZED",
MAXIMIZED:"MAXIMIZED",NORMAL:"NORMAL"}}});"use strict";d.when("A","ready").register("huddles-chatbox-metrics-2.0",function(a){return{logCounter:function(a,d){c.ue&&c.ue.count&&(a="HuddlesChatbox."+a,c.ue.count(a,(c.ue.count(a)||0)+(d||1)))}}});"use strict";d.register("huddles-chatbox-feature-config-2.0",function(){return{chatbox:!0}});"use strict";d.when("A","huddles-chatbox-feature-config-2.0","ready").register("huddles-init-2.0",function(a,b){function e(a){var b=c.ue.sn||c.ue_sn;return b&&b.substring(b.length-
a.length,b.length)===a}return{initialize:function(){if(!c.ue||"PackageProgressTracker"!==c.ue_pty||e("amazon.com"))c.HuddlesChatboxConfig?d.log("Chatbox config already registered","WARN"):b.chatbox&&(c.HuddlesChatboxConfig={},a.get("/conversations/chatbox-config",{params:{originalUrl:encodeURIComponent(c.location.href),pty:c.ue_pty},timeout:4E4,success:function(b){var e;if(b.chatboxSupported){if(a.objectIsEmpty(b.endpointConfig)||a.objectIsEmpty(b.startupArgs)){d.log("Invalid Huddles chatbox config",
"ERROR");c.HuddlesChatboxConfig=null;return}e={chatboxSupported:!0,chatboxEndpointConfig:b.endpointConfig,chatboxStartupArgs:a.$.extend({},b.startupArgs,{renderContext:{isRemote:!0}}),enableSessionStorage:b.enableSessionStorage}}else e={chatboxSupported:!1},d.log("Chatbox functionality suppressed","WARN");d.declare("huddles-chatbox-config-2.0",e);c.HuddlesChatboxConfig=e;b.chatboxContainer&&a.$(b.chatboxContainer).appendTo("body")},error:function(a,b,e){c.HuddlesChatboxConfig=null;d.log("Failed to get Huddles chatbox config. "+
b+": "+e,"ERROR")}}))}}});d.when("A","huddles-core","huddles-chatbox-interaction-2.0","huddles-chatbox-storage-2.0","huddles-chatbox-metrics-2.0","huddles-chatbox-config-2.0","ready").register("huddles-chatbox-2.0",function(a,b,e,c,k,x){function t(a){g[h||"INBOX"]=a;c.setChatboxState(g)}function q(l){var c=l.displayCode||p.NORMAL,d=a.$.extend({},m,l);l.showEmbedded&&l.container?(l.container instanceof a.$&&(l.container=l.container.get(0)),b.startHuddleApp(l.container,v,d),k.logCounter("Rendered.Embedded")):
(c===p.MINIMIZED?e.minimizeChatbox(!0):(l=document.querySelector(".huddles-chatbox__content"),b.startHuddleApp(l,v,d),c===p.MAXIMIZED?(e.restoreChatbox(!0),e.maximizeChatbox()):e.restoreChatbox()),g={},t(c),k.logCounter("Rendered."+c))}function n(a){h=null;q(a||{})}function f(a){if(!a||!a.huddleId)return d.log("Required render parameter huddleId missing for renderHuddleChat","FATAL"),!1;h=a.huddleId;q(a)}var m=x.chatboxStartupArgs,v=x.chatboxEndpointConfig,r=[];x.enableSessionStorage&&c.enableSessionStorage();
(function(){b.subscribeToHuddlesStore&&b.subscribeToHuddlesStore(function(a,b){function c(a,b){if(a&&a.messages&&a.messages.get(b)&&a.messages.get(b).displayMessages)return a.messages.get(b).displayMessages}function d(a,b){return b.filter(function(b){return a.filters.messageFilter?a.filters.messageFilter(b):a.filters.slotFilter(b.slot)})}var e;b&&b.huddle&&b.huddle.get(h)&&b.huddle.get(h).jid&&(e=b.huddle.get(h).jid);b=c(b,e);var g=c(a,e),f=[];b&&0<b.size&&g===w?f=b:b&&g&&b.size>g.size&&(f=b.filter(function(a){return!g.has(a.ID)}));
(f=f.filter(function(a){return a&&a.campfireMessage&&!a.campfireMessage.wasSentByUs}))&&0<f.size&&r.forEach(function(a){var b=Object.keys(a.filters||{}).length?d(a,f):f;0<b.size&&a.handler(b.size)})})})();var g=c.getChatboxState(),p=c.DISPLAY_CODE,h;a.objectIsEmpty(g)||a.each(g,function(a,b){"INBOX"===b?n({showEmbedded:!1,displayCode:a}):f({huddleId:b,showEmbedded:!1,displayCode:a})});return{renderInbox:n,renderHuddleChat:f,restoreChatbox:function(){if(!h||!g[h]||g[h]===p.MINIMIZED){var c={};h&&(c.huddleId=
h);var c=a.$.extend({},m,c),d=document.querySelector(".huddles-chatbox__content");b.startHuddleApp(d,v,c)}e.restoreChatbox();t(p.NORMAL);k.logCounter("Restored")},closeChatbox:function(d){d?(d instanceof a.$&&(d=d.get(0)),b.closeHuddleApp(d),k.logCounter("Closed.Embedded")):(e.closeChatbox(),d=document.querySelector(".huddles-chatbox__content"),b.closeHuddleApp(d),g={},c.setChatboxState(g),k.logCounter("Closed"))},minimizeChatbox:function(){e.minimizeChatbox();var a=document.querySelector(".huddles-chatbox__content");
b.closeHuddleApp(a);t(p.MINIMIZED);k.logCounter("Minimized")},maximizeChatbox:function(){e.maximizeChatbox();t(p.MINIMIZED);k.logCounter("Maximized")},subscribeToMessageReceived:function(a){r.push(a)},setPersonaName:b.setPersonaName,deprecated_watchPartyEvent:b.deprecated_watchPartyEvent}});"use strict";d.when("A","huddles-chatbox-2.0","ready").execute(function(a,b){a.declarative("minimizeChatbox","click",function(c){a.$(".huddles-chatbox__content").is(":visible")?b.minimizeChatbox():b.restoreChatbox()});
a.declarative("closeChatbox","click",function(a){b.closeChatbox()})})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,x=f._namespace||f.attributeErrors,b=x?x("FloatingActionButtonWidgetAssetsCommon",""):f;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,f,x){e.register("s-fab-unread-badging-flag",function(){return{enabled:1}});e.register("s-fab-hover-hint-flag",function(){return{enabled:1}});e.when("A","ready").register("s-fab-controller",function(){var b=null,a=null;return{registerComponent:function(m){b=m;a&&a()},setOnComponentRegistered:function(m){a=
m;b&&a()},registerOnOpenHandler:function(a){b.registerOnOpenHandler(a)},registerOnCloseHandler:function(a){b.registerOnCloseHandler(a)},registerOnControlCloseHandler:function(a){b.registerOnControlCloseHandler(a)},registerHoverHandler:function(){b.registerHoverHandler()},isOpen:function(){return b.isOpen()},isVisible:function(){return b.isVisible()},setUnreadMessageCount:function(a){return b.setUnreadMessageCount(a)},expandContentPane:function(){b.expandContentPane()},minimizeContentPane:function(){b.minimizeContentPane()},
showComponent:function(){b.showComponent()},hoverHintEnabled:function(){return b.hoverHintEnabled()},showHoverHint:function(){b.showHoverHint()},getElements:function(){return b.elements}}});e.when("A","s-fab-constants","s-fab-utilities","s-fab-controller","ready").register("s-fab-component-registration",function(b,a,m,c){var e=b.$;return{setup:function(b,f,v){function l(){d.$floatingActionButtonContent.width(Math.ceil(d.$floatingActionButton[0].getBoundingClientRect().width))}function n(b){b===a.CONTENT_VISIBLE?
d.$floatingActionButtonHoverHintContainer.removeClass(a.AUI_HIDDEN_CLASS):d.$floatingActionButtonHoverHintContainer.addClass(a.AUI_HIDDEN_CLASS)}function r(){return v.hoverHintEnabled&&d.$floatingActionButtonHoverHintContainer.length}function w(){d.$floatingActionButtonHoverHintClose.unbind("click");d.$floatingActionButtonHoverHintClose.click(function(){g.hoverHintHasBeenClosed=!0;n(a.CONTENT_HIDDEN)})}function t(b){b===a.CONTENT_VISIBLE?d.$floatingActionButtonContentWrapper.removeClass(a.AUI_HIDDEN_CLASS):
d.$floatingActionButtonContentWrapper.addClass(a.AUI_HIDDEN_CLASS)}function k(b){var c;d.$floatingActionButtonInteractionIcon.removeClass(a.OPEN_IMAGE_CLASS);d.$floatingActionButtonInteractionIcon.removeClass(a.CLOSE_IMAGE_CLASS);d.$floatingActionButtonInteractionIcon.addClass(b);try{c=m.extractContentURL(d.$floatingActionButtonInteractionIcon.css("content")),d.$floatingActionButtonInteractionIcon.attr("src",c)}catch(e){m.metrics.addOne(a.METRICS.COUNTERS.IMAGE_SRC_SET_FAILURE)}}function y(){a.CONTAINER_OPEN===
a.CONTAINER_OPEN&&l();t(a.CONTENT_VISIBLE);n(a.CONTENT_HIDDEN);k(a.CLOSE_IMAGE_CLASS)}function z(){a.CONTAINER_CLOSED===a.CONTAINER_OPEN&&l();t(a.CONTENT_HIDDEN);k(a.OPEN_IMAGE_CLASS)}function p(){return!d.$floatingActionButtonContentWrapper.hasClass(a.AUI_HIDDEN_CLASS)}function A(){d.$floatingActionButtonHoverHintContainer.width(d.$floatingActionButton[0].getBoundingClientRect().width);n(a.CONTENT_VISIBLE)}function B(){g.hasBeenClicked||m.metrics.addOne(a.METRICS.COUNTERS.INITIAL_FAB_CLICK);g.hasBeenClicked=
!0;if(g.onOpenHandler)g.onOpenHandler();y()}b=e(b.elem()).parent();var d={$floatingActionButton:b.find(a.FAB_BUTTON_SELECTOR),$floatingActionButtonMain:b.find(a.FAB_BUTTON_MAIN_SELECTOR),$floatingActionButtonContainer:b.find(f),$floatingActionButtonControl:b.find(a.FAB_BUTTON_CONTROL_SELECTOR),$floatingActionButtonContent:b.find(a.FAB_CONTENT_SELECTOR),$floatingActionButtonContentWrapper:b.find(a.FAB_CONTENT_WRAPPER_SELECTOR),$floatingActionButtonInteractionIcon:b.find(a.FAB_INTERACTION_ICON),$floatingActionButtonUnreadMessagesBadge:b.find(a.FAB_UNREAD_MESSAGES_BADGE),
$floatingActionButtonUnreadMessagesCount:b.find(a.FAB_UNREAD_MESSAGES_VALUE),$floatingActionButtonHoverHintContainer:b.find(a.FAB_HOVER_HINT_CONTAINER),$floatingActionButtonHoverHintClose:b.find(a.FAB_HOVER_HINT_CLOSE_BUTTON),$floatingActionButtonWrapper:b.find(a.FAB_WRAPPER_SELECTOR),$rightCol:e(a.RIGHT_COL_SELECTOR)},g={maxUnreadMessagesCount:99,onOpenHandler:null,onCloseHandler:null,onControlCloseHandler:null,hasBeenClicked:!1,hoverHintHasBeenClosed:!1};m.metrics.addOne(a.METRICS.COUNTERS.FAB_COMPONENT_REGISTRATION);
d.$floatingActionButtonControl.unbind("click");d.$floatingActionButtonControl.click(function(){if(!p())B();else if(g.onControlCloseHandler)g.onControlCloseHandler()});d.$floatingActionButtonMain.unbind("click");d.$floatingActionButtonMain.click(function(){if(p()){if(z(),g.onCloseHandler)g.onCloseHandler()}else B()});r()&&w();d.$rightCol.length&&d.$floatingActionButtonWrapper.css("margin-right",Math.ceil(d.$rightCol[0].getBoundingClientRect().width));c.registerComponent({registerOnOpenHandler:function(a){g.onOpenHandler=
a;if(p())g.onOpenHandler()},registerOnCloseHandler:function(a){g.onCloseHandler=a;if(!p())g.onCloseHandler()},registerOnControlCloseHandler:function(a){g.onControlCloseHandler=a},registerHoverHandler:function(){d.$floatingActionButtonContainer.mouseenter(function(){p()||g.hoverHintHasBeenClosed||g.hasBeenClicked||A()}).mouseleave(function(){n(a.CONTENT_HIDDEN)})},isOpen:p,isVisible:function(){return!d.$floatingActionButtonContainer.hasClass(a.AUI_HIDDEN_CLASS)},setUnreadMessageCount:function(a){a&&
0<a?(d.$floatingActionButtonUnreadMessagesCount.text(Math.min(g.maxUnreadMessagesCount,a)),d.$floatingActionButtonUnreadMessagesBadge.css("opacity","1")):d.$floatingActionButtonUnreadMessagesBadge.css("opacity","0")},expandContentPane:y,minimizeContentPane:z,showComponent:function(){d.$floatingActionButtonContainer.removeClass(a.AUI_HIDDEN_CLASS);l()},hoverHintEnabled:r,showHoverHint:A,elements:{$button:d.$floatingActionButton,$container:d.$floatingActionButtonContainer,$contentContainer:d.$floatingActionButtonContent}})}}});
e.when("ready").register("s-fab-constants",function(){return{COMPONENT_NAME:"s-floating-action-button",CLOSE_IMAGE_CLASS:"s-floating-action-button-close-image",OPEN_IMAGE_CLASS:"s-floating-action-button-open-image",FAB_CONTAINER_SELECTOR:"#s-fab-container",FAB_BUTTON_SELECTOR:".s-fab-button",FAB_BUTTON_MAIN_SELECTOR:".s-fab-button-content-main-container",FAB_BUTTON_CONTROL_SELECTOR:".s-fab-button-content-control-container",FAB_CONTENT_SELECTOR:".s-floating-action-button-content",FAB_CONTENT_WRAPPER_SELECTOR:".s-floating-action-button-content-wrapper",
FAB_EMPTY_SELECTOR:"#s-fab-empty",FAB_INTERACTION_ICON:".s-fab-button-image-right",FAB_USE_CASE_SELECTOR:"#fab_useCase",FAB_WRAPPER_SELECTOR:".s-fab-sticky-wrapper",CONTAINER_OPEN:"CONTAINER_OPEN",CONTAINER_CLOSED:"CONTAINER_CLOSED",FAB_UNREAD_MESSAGES_BADGE:".s-fab-button-badge-right-container",FAB_UNREAD_MESSAGES_VALUE:".s-fab-button-badge-right-value",FAB_HOVER_HINT_CONTAINER:".s-fab-hover-hint",FAB_HOVER_HINT_CLOSE_BUTTON:".s-fab-hover-hint-close-image",RIGHT_COL_SELECTOR:"#rightCol",CONTENT_VISIBLE:"CONTENT_VISIBLE",
CONTENT_HIDDEN:"CONTENT_HIDDEN",AUI_HIDDEN_CLASS:"aok-hidden",METRICS:{COUNTERS:{INITIAL_FAB_CLICK:"s-fab-ifc",IMAGE_SRC_SET_FAILURE:"s-fab-issf",FAB_COMPONENT_REGISTRATION:"s-fab-fcr",FAB_RENDER_FAILURE:"s-fab-frf"}}}});e.when("ready").register("fab-page-type",function(){return f.ue_pty});e.when("ready").register("s-fab-utilities",function(){return{buildQueryString:function(b){var a,m=[];for(a in b)m.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(b[a]));return"?"+m.join("\x26")},buildSignInURL:function(){var b=
{"openid.assoc_handle":{"amazon.com":"usflex","amazon.co.uk":"gbflex","amazon.de":"deflex","amazon.fr":"frflex","amazon.es":"esflex","amazon.in":"inflex","amazon.it":"itflex","amazon.co.jp":"jpflex","amazon.ca":"caflex"}[f.location.hostname.replace(/.+?(?=amazon)/,"")],"openid.claimed_id":"http://specs.openid.net/auth/2.0/identifier_select","openid.identity":"http://specs.openid.net/auth/2.0/identifier_select","openid.mode":"checkid_setup","openid.ns":"http://specs.openid.net/auth/2.0","openid.pape.max_auth_age":0,
"openid.return_to":f.location.href};return"/ap/signin"+this.buildQueryString(b)},extractContentURL:function(b){var a=/url\("(.*)"\)/mg.exec(b);try{return a[1]}catch(m){throw Error("Failed to parse url from content ("+b+").");}},metrics:{timer:function(b,a){f.ue&&f.ue.count&&f.ue.count(b,new Date-a)},addOne:function(b){f.ue&&f.ue.count&&f.ue.count(b,1)}}}});e.when("ready").register("s-live-chat-constants",function(){return{COMPONENT_NAME:"s-fab-component-livechatsupport",FAB_CONTAINER_SELECTOR:"#s-fab-container-livechatsupport",
UNAUTHORIZED_ERROR:401,NOT_FOUND_ERROR:404,HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:"/prepurchase/chat",HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT:"/prepurchase/chat/existing",RESOLVE_CHAT_ENDPOINT:"/prepurchase/chat/resolve",NEW_HUDDLE:"NEW_HUDDLE",EXISTING_HUDDLE:"EXISTING_HUDDLE",HUDDLES_THEME:{chat_view__background:"#f5ffff",chat_view__gradient:"#e2e9e9",chat_header__background:"#1196AB",message__background__outgoing:"#007185",my_component__border:"#555555",announcement__background:"unset",announcement__align_items:"flex-start"},
QUERY_PARAMETERS:{ASIN:"asin",PRIME:"isPrime",POSTAL_CODE:"postalCode",SEARCH_QUERY:"searchQuery",TITLE:"title",REFERRING_PAGE:"referringPage",CETECH_LIVE_CHAT_PREQUALIFIERS_443376:"CETECH_LIVE_CHAT_PREQUALIFIERS_443376"},SELECTORS:{ASIN:"#fab_asin",IS_PRIME:"#fab_isPrimeCustomer",POSTAL_CODE:"#fab_customerZipCode",SEARCH_QUERY:"#fab_searchQuery",TITLE:"#fab_title"},METRICS:{TIMERS:{FETCH_HUDDLE_FETCH_TIME:"s-fab-lcs-ft"},COUNTERS:{FAB_RENDER_FAILURE:"s-fab-lcs-frf",FETCH_HUDDLE_ID_NOT_OK:"s-fab-lcs-fin",
FETCH_HUDDLE_ID_NOT_FOUND:"s-fab-lcs-finf",FETCH_HUDDLE_ID_OK:"s-fab-lcs-fio",FETCH_HUDDLE_ID_NOT_AUTHORIZED:"s-fab-lcs-fina",FETCH_HUDDLE_ID_THROTTLED:"s-fab-lcs-fit",FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE:"s-fab-lcs-fitv",RESOLVE_OK:"s-fab-lcs-frok",RESOLVE_NOT_OK:"s-fab-lcs-frnok"}}}});e.declare("s-fab-live-chat-flags",{hoverHintEnabled:!0,statusBadgeEnabled:!0});e.when("huddles-init-2.0","s-fab-component-livechatsupport","load").execute(function(b){b.initialize();e.when("A","s-fab-controller",
"s-live-chat-constants","s-fab-live-chat-flags","s-fab-utilities","huddles-chatbox-2.0","s-live-chat-weblabs","load","ready").register("s-prepurchase-chat",function(a,b,c,e,h,u,v){var l=0;b.setOnComponentRegistered(function(){function n(){l=0;b.setUnreadMessageCount(l)}function r(e){var f=e.onError,k=e.onSuccess,l=e.onComplete;e=e.type===c.NEW_HUDDLE?c.HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:c.HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT;w=new Date;a.ajax(e+t,{method:"get",success:function(a){var d=a.huddle_id;
h.metrics.timer(c.METRICS.TIMERS.FETCH_HUDDLE_FETCH_TIME,w);d?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_OK),u.renderHuddleChat({huddleId:d,showEmbedded:!0,container:b.getElements().$contentContainer,theme:c.HUDDLES_THEME}),k&&k(a),l&&l()):b.isVisible()?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE),f&&f()):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED)},error:function(a){a.http.status===c.UNAUTHORIZED_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_AUTHORIZED):
a.http.status===c.NOT_FOUND_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_FOUND):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_OK);f&&f(a.http.status);l&&l()}})}var w,t="",k={};u.subscribeToMessageReceived&&u.subscribeToMessageReceived({handler:function(a){!b.isOpen()&&e.statusBadgeEnabled&&(l+=a,b.setUnreadMessageCount(l))},filters:{slotFilter:function(a){return"MESSAGE"===a}}});k[c.QUERY_PARAMETERS.ASIN]=a.$(c.SELECTORS.ASIN).val()||"";k[c.QUERY_PARAMETERS.PRIME]=a.$(c.SELECTORS.IS_PRIME).val()||
"";k[c.QUERY_PARAMETERS.POSTAL_CODE]=a.$(c.SELECTORS.POSTAL_CODE).val()||"";k[c.QUERY_PARAMETERS.SEARCH_QUERY]=a.$(c.SELECTORS.SEARCH_QUERY).val()||"";k[c.QUERY_PARAMETERS.TITLE]=a.$(c.SELECTORS.TITLE).val()||"";k[c.QUERY_PARAMETERS.REFERRING_PAGE]=btoa(document.referrer);k[c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376]=v.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT;try{u.closeChatbox()}catch(y){}t=h.buildQueryString(k);r({type:c.EXISTING_HUDDLE,onSuccess:function(a){a.engaged&&b.expandContentPane();
b.registerOnOpenHandler(n)},onError:function(){b.registerOnOpenHandler(function(){r({type:c.NEW_HUDDLE,onSuccess:function(){b.registerOnOpenHandler(n);f.ue&&ue.trigger&&ue.trigger(c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376,v.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT)},onError:function(a){a&&a===c.UNAUTHORIZED_ERROR&&(a=h.buildSignInURL(),f.location.href=a)}})})},onComplete:function(){b.showComponent();b.hoverHintEnabled()&&!b.isOpen()&&b.showHoverHint()}});b.registerOnControlCloseHandler(function(){a.ajax(c.RESOLVE_CHAT_ENDPOINT,
{method:"get",success:function(){h.metrics.addOne(c.METRICS.COUNTERS.RESOLVE_OK)},error:function(a){a.http.status===c.NOT_FOUND_ERROR?b.minimizeContentPane():h.metrics.addOne(c.METRICS.COUNTERS.RESOLVE_NOT_OK)}})})})})});e.when("A","s-fab-component-registration","s-fab-live-chat-flags","fab-page-type","ready").register("s-fab-register-component-for-selector",function(b,a,f,c){return function(q){var h=function(){a.setup({elem:function(){return q}},q,f)};"Detail"===c&&(h(),e.register("s-fab-component-livechatsupport"),
b.on("a:pageUpdate",b.debounce(function(){h()},750)))}});e.when("A","s-fab-register-component-for-selector","s-fab-constants","s-fab-utilities").register("s-fab-validate-and-register-component",function(b,a,f,c){return function(q,h){b.$(q).length&&(b.$(f.FAB_EMPTY_SELECTOR).length?(c.metrics.addOne(h.COUNTERS.FAB_RENDER_FAILURE),e.register("s-fab-component-render-failure")):a(q))}});e.when("s-fab-validate-and-register-component","s-live-chat-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,
a.METRICS)});e.when("s-fab-validate-and-register-component","s-fab-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,a.METRICS)});e.when("ready").register("s-live-chat-weblabs",function(){return{CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT:"C"}})});
/* ******** */
(function(b){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,c=l?l("FloatingActionButtonWidgetAssets",""):h;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,h,l){b.when("ready").register("s-fab-dynamic-comparison-constants",function(){return{COMPONENT_NAME:"s-fab-component-dynamiccomparison",FAB_CONTAINER_SELECTOR:"#s-fab-container-dynamiccomparison",SELECTORS:{ITEM_COUNT:"#fab_itemCount"},METRICS:{COUNTERS:{FAB_RENDER_FAILURE:"s-fab-dc-frf"}}}});
b.declare("s-fab-dynamic-comparison-flags",{hoverHintEnabled:!1,statusBadgeEnabled:!0});b.when("A","s-fab-controller","s-fab-dynamic-comparison-constants","s-fab-component-dynamiccomparison","load","ready").register("s-fab-dynamic-comparison",function(b,d,a){var e=0;d.setOnComponentRegistered(function(){d.registerOnOpenHandler(function(){d.getElements().$button.removeClass("s-fab-dc-button-closed");d.getElements().$button.addClass("s-fab-dc-button-open")});d.registerOnCloseHandler(function(){d.getElements().$button.removeClass("s-fab-dc-button-open");
d.getElements().$button.addClass("s-fab-dc-button-closed")});e=b.$(a.SELECTORS.ITEM_COUNT).val()||0;d.setUnreadMessageCount(e);d.showComponent()})});b.when("A","rush-framework","s-fab-dynamic-comparison-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-dynamic-comparison-flags","ready").execute(function(c,d,a,e,n,f,g){c.$(a.FAB_CONTAINER_SELECTOR).length&&(c.$(e.FAB_EMPTY_SELECTOR).length?(n.metrics.addOne(a.METRICS.COUNTERS.FAB_RENDER_FAILURE),b.register("s-fab-component-render-failure")):
(d.registerComponent(a.COMPONENT_NAME,a.COMPONENT_NAME,function(b){f.setup(b,a.FAB_CONTAINER_SELECTOR,g)}),b.register("s-fab-component-dynamiccomparison")))});b.when("A","rush-framework","s-live-chat-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-live-chat-flags","ready").execute(function(c,d,a,e,n,f,g){c.$(a.FAB_CONTAINER_SELECTOR).length&&!c.$(e.FAB_EMPTY_SELECTOR).length&&(d.registerComponent(a.COMPONENT_NAME,a.COMPONENT_NAME,function(b){f.setup(b,a.FAB_CONTAINER_SELECTOR,
g)}),b.register("s-fab-component-livechatsupport"))});b.when("ready").register("s-jeeves-chat-constants",function(){return{COMPONENT_NAME:"s-fab-component-jeeveschatsupport",FAB_CONTAINER_SELECTOR:"#s-fab-container-jeeveschatsupport",UNAUTHORIZED_ERROR:401,NOT_FOUND_ERROR:404,STATUS_OK:200,CREATE_HUDDLE_FROM_INGRESS_FETCH_ENDPOINT:"/huddles-api/v1/huddles/JEEVES/new",HUDDLES_THEME:{message__background__outgoing:"#dcdcdc",message__foreground__incoming:"#232f3e",message__foreground__outgoing:"#232f3e"},
SELECTORS:{SEARCH_QUERY:"#fab_searchQuery"},METRICS:{TIMERS:{FETCH_HUDDLE_FETCH_TIME:"s-fab-jcs-ft"},COUNTERS:{FETCH_HUDDLE_ID_NOT_OK:"s-fab-jcs-fin",FETCH_HUDDLE_ID_NOT_FOUND:"s-fab-jcs-finf",FETCH_HUDDLE_ID_OK:"s-fab-jcs-fio",FETCH_HUDDLE_ID_NOT_AUTHORIZED:"s-fab-jcs-fina",FAB_RENDER_FAILURE:"s-fab-jcs-frf"}}}});b.declare("s-fab-jeeves-chat-flags",{hoverHintEnabled:!0,statusBadgeEnabled:!0});b.when("huddles-init-2.0","s-fab-component-jeeveschatsupport","load").execute(function(c){c.initialize();
b.when("A","s-fab-controller","s-jeeves-chat-constants","s-fab-utilities","huddles-chatbox-2.0","s-fab-unread-badging-flag","load","ready").register("s-jeeves-chat",function(b,a,e,c,f,g){var k=0;a.setOnComponentRegistered(function(){function l(a,b,c){a.subscribeToMessageReceived({handler:function(a){!b.isOpen()&&c.enabled&&(k+=a,b.setUnreadMessageCount(k))},filters:{messageFilter:function(a){return"MESSAGE"===a.slot&&a.timestamp>u}}})}function v(a){var f=a.onError,p=a.onSuccess,g=a.onComplete,k=new Date;
b.ajax(e.CREATE_HUDDLE_FROM_INGRESS_FETCH_ENDPOINT,{method:"post",params:a.huddleData,contentType:"application/json; charset\x3dutf-8",paramsFormat:"json",success:function(a){c.metrics.timer(e.METRICS.TIMERS.FETCH_HUDDLE_FETCH_TIME,k);p&&p(a);g&&g()},error:function(a){f&&f(a.http.status);g&&g()}})}function q(){var a=document.getElementsByClassName("jeeves-error-fallback")[0];a&&a.classList.add("aok-hidden")}var r=b.$(e.SELECTORS.SEARCH_QUERY).val()||"",t,m=!1,u=(new Date).getTime();try{f.closeChatbox()}catch(w){}a.showComponent();
a.hoverHintEnabled()&&!a.isOpen()&&a.showHoverHint();a.registerOnOpenHandler(function(){var b=document.getElementsByClassName("jeeves-spinner ")[0],d=document.getElementsByClassName("jeeves-error-fallback")[0];k=0;a.setUnreadMessageCount(k);m||(d&&d.classList.add("aok-hidden"),b&&b.classList.remove("aok-hidden"),t={ingressContext:JSON.stringify({productCategory:r,topicHeaderTitle:r})},v({huddleData:t,onSuccess:function(b){b=b.id;m=!0;c.metrics.addOne(e.METRICS.COUNTERS.FETCH_HUDDLE_ID_OK);f.renderHuddleChat({huddleId:b,
showEmbedded:!0,container:a.getElements().$contentContainer,skin:"BEACON",theme:e.HUDDLES_THEME,chatPlatformType:"HYBRID_CHATBOT_AMAZON_CONNECT"});l(f,a,g)},onError:function(a){a&&a===e.UNAUTHORIZED_ERROR?(c.metrics.addOne(e.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_AUTHORIZED),a=c.buildSignInURL(),h.location.href=a):(a===e.NOT_FOUND_ERROR?c.metrics.addOne(e.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_FOUND):c.metrics.addOne(e.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_OK),d&&(b&&b.classList.add("aok-hidden"),d.classList.remove("aok-hidden")))},
onComplete:function(){m&&b&&b.classList.add("aok-hidden")}}))});a.registerOnCloseHandler(function(){q()});a.registerOnControlCloseHandler(function(){q();a.minimizeContentPane()})})})});b.when("A","rush-framework","s-jeeves-chat-constants","s-fab-constants","s-fab-utilities","s-fab-component-registration","s-fab-jeeves-chat-flags","ready").execute(function(c,d,a,e,h,f,g){c.$(a.FAB_CONTAINER_SELECTOR).length&&(c.$(e.FAB_EMPTY_SELECTOR).length?(h.metrics.addOne(a.METRICS.COUNTERS.FAB_RENDER_FAILURE),
b.register("s-fab-component-render-failure")):(d.registerComponent(a.COMPONENT_NAME,a.COMPONENT_NAME,function(b){f.setup(b,a.FAB_CONTAINER_SELECTOR,g)}),b.register("s-fab-component-jeeveschatsupport")))})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ShowCaseWidgetAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(r){var u=window.AmazonUIPageJS||window.P,A=u._namespace||u.attributeErrors,y=A?A("QuantitySelectorAssets",""):u;y.guardFatal?y.guardFatal(r)(y,window):y.execute(function(){r(y,window)})})(function(r,u,A){function y(n){var f=!1;r.now(n).execute("qsAssetDuplicationGuard",function(a){f=!!a});return f}function E(n,f){if(!y(n))try{r.register(n,f)}catch(a){if(!a.message.includes("reregistered by QuantitySelectorAssets"))throw a;}}function wa(){var n=arguments;return{register:function(f,a){if(!y(f))try{r.when.apply(r,
n).register(f,a)}catch(b){if(!b.message.includes("reregistered by QuantitySelectorAssets"))throw b;}},execute:function(f,a){r.when.apply(r,n).execute(f,a)}}}E("QSAssetDuplicationGuard",function(){return{register:E,when:wa}});"use strict";r.when("QSAssetDuplicationGuard").execute("qsAUIDeps-main-duplication-guard",function(n){n.when("A","QuantitySelectorConstants","a-util").execute("qsAUIDeps-main",function(f,a,b){function k(){h&&h.enableCheckoutCompatibility&&g()}function g(){f.$('span[id^\x3d"'+
a.getQsWidgetSummaryPriceId("")+'"][data-a-color\x3d"price"]').each(function(){f.$(this)[0].style.color="#B12704"});f.$('span[id^\x3d"'+a.getQsWidgetButtonId("")+'"]').each(function(){var a=f.$(this);a.hasClass("a-button-dropdown")&&a.hasClass("a-button-small")&&(a=a.attr("id"),f.$('button[id^\x3d"'+a+'-announce"]').each(function(){f.$(this)[0].style.paddingRight="17px"}))})}function l(a){function d(a){return f.$(a+"-announce")}return function(a){return new d(a)}}function L(d){var b=function(a,e){var b=
a+"-extradata",g=d.state(b);if(null==e)return b=d.state(a),e=f.$.extend({},b,g);g=f.$.extend({},g,e);d.state(b,g)};b.parse=function(){for(var b=f.$(a.getQsWidgetGenericStateSelectorQuery()),e=a.getQsWidgetConfigurationId(""),g=0;g<b.length;g++)try{var h=b[g].getAttribute("data-a-state"),p=JSON.parse(h).key;if(p&&p.substring(0,e.length)==e){var l=d.state(p);if(!l||!l.id){var k=JSON.parse(b[g].innerHTML);d.state(p,k)}}}catch(H){var L=a.getQsWidgetConfigurationJsonString(),n=a.getQsWidgetStateAttributeJsonString();
if(h.includes(n)||b[g].innerHTML.includes(L))throw H;}};b.replace=function(a,e){a+="-extradata";"function"===typeof d.state.replace?d.state.replace(a,e):d.state(a,e)};return{state:b}}var h;r.when("QuantitySelectorAUIDeps_AState","QuantitySelectorAUIDeps_AButton").execute("qsAUIDeps-register",function(a,g){n.register("QuantitySelectorAUIDeps",function(){return{aUtil:b,aState:a.object,aButton:g.object,initialize:k}})});(function(){for(var d=f.$(a.getQsWidgetGenericStateSelectorQuery()),b=a.getQsWidgetGlobalConfigurationId(),
g=0;g<d.length;g++)try{var e=d[g].getAttribute("data-a-state"),q=JSON.parse(e).key;if(q&&q.substring(0,b.length)==b){h=JSON.parse(d[g].innerHTML);break}}catch(v){var l=a.getQsWidgetConfigurationJsonString(),k=a.getQsWidgetStateAttributeJsonString();if(e.includes(k)||d[g].innerHTML.includes(l))throw v;}})();(function(){h&&h.enableCheckoutCompatibility?(r.when("a-state").execute("qsAUIDeps-checkout-compat-a-state-register",function(a){n.register("QuantitySelectorAUIDeps_AState",function(){return{object:L(a)}})}),
r.when("a-buttons").execute("qsAUIDeps-checkout-compat-a-button-register",function(a){n.register("QuantitySelectorAUIDeps_AButton",function(){return{object:l(a)}})}),f.on("checkout:afterReload",function(){f.trigger(a.getQsWidgetEventInitialize(),!1)})):(r.when("a-state").execute("qsAUIDeps-a-state-register",function(a){n.register("QuantitySelectorAUIDeps_AState",function(){return{object:a}})}),r.when("a-button").execute("qsAUIDeps-a-button-register",function(a){n.register("QuantitySelectorAUIDeps_AButton",
function(){return{object:a}})}));f.on("a:pageUpdate ready",function(){f.trigger(a.getQsWidgetEventInitialize(),!1)})})();k()})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsConstants-duplication-guard",function(n){n.when("A").register("QuantitySelectorConstants",function(f){var a={height:358,heightWithAtc:410,disclaimerTextAdjustment:41,disclaimerTextAdjustmentWithAtc:40},b={height:303,heightWithAtc:355,disclaimerTextAdjustment:41,disclaimerTextAdjustmentWithAtc:40},k={scrollEventStop:200,
constant:19,increment:45,adjustment:20};return{getQsWidgetEventInitialize:function(){return"quantity-selector-widget:initialize"},getQsWidgetEventLoadStatesAndInitialize:function(){return"quantity-selector-widget:loadStatesAndInitialize"},getQsWidgetEventTriggerAction:function(){return"quantity-selector-widget:triggerAction"},getQsWidgetVariationEventTriggerAction:function(){return"quantity-selector-widget-variation-selector:triggerAction"},getQsWidgetEventConfigureList:function(){return"quantity-selector-widget:configure:list"},
getQsWidgetEventConfigureEnable:function(){return"quantity-selector-widget:configure:enable"},getQsWidgetEventConfigureDisable:function(){return"quantity-selector-widget:configure:disable"},getQsWidgetEventConfigureReset:function(){return"quantity-selector-widget:configure:reset"},getQsWidgetEventConfigureGet:function(){return"quantity-selector-widget:configure:get"},getQsWidgetEventConfigureSet:function(){return"quantity-selector-widget:configure:set"},getQsWidgetEventSelectId:function(){return"quantity-selector-widget:selectId"},
getQsWidgetVariationEventSelectId:function(){return"quantity-selector-widget-variation-selector:selectId"},getQsWidgetEventSelectQuantity:function(){return"quantity-selector-widget:selectQuantity"},getQsWidgetEventAction:function(a){return"quantity-selector-widget:action:"+a},getQsWidgetAuiInputTextWrapperClass:function(){return"a-input-text-wrapper"},getQsWidgetActivateDebounce:function(){return 100},getQsWidgetInitialViewDropdown:function(){return"dropdown"},getQsWidgetInitialViewTextLink:function(){return"text_link"},
getQsWidgetInitialViewChooseQuantity:function(){return"choose_quantity"},getQsWidgetActionTriggerOnConfirmation:function(){return"on_confirmation"},getQsWidgetActionTriggerOnSelect:function(){return"on_select"},getQsWidgetGlobalConfigurationId:function(){return"qs-widget-global-configuration"},getQsWidgetConfigurationId:function(a){return"qs-widget-configuration-"+a},getQsWidgetStateScriptSelectorQuery:function(a){return"script[data-a-state*\x3d'qs-widget-configuration-"+a+"'], "+("div[data-a-state*\x3d'qs-widget-configuration-"+
a+"']")},getQsWidgetGenericStateSelectorQuery:function(){return"script[type\x3d'a-state'], div[data-a-state]"},getQsWidgetStateAttributeJsonString:function(){return"qs-widget-"},getQsWidgetConfigurationJsonString:function(){return"qsItems"},getQsWidgetContainerId:function(a){return"qs-widget-container-"+a},getQsWidgetDivSelectorQueryForWidgetContainers:function(){return"div[id^\x3dqs-widget-container-]"},getQsWidgetSpinnerId:function(a){return"qs-widget-spinner-"+a},getQsWidgetDivSelectorQueryForSpinners:function(){return"div[id^\x3dqs-widget-spinner-]"},
getQsWidgetCheckboxId:function(a){return"qs-widget-checkbox-"+a},getQsWidgetInputSelectorQueryForCheckboxes:function(){return"input[id^\x3dqs-widget-checkbox-]"},getQsWidgetButtonContainerId:function(a){return"qs-widget-button-container-"+a},getQsWidgetButtonId:function(a){return"qs-widget-button-"+a},getQsWidgetStepperId:function(a){return"qs-widget-stepper-"+a},getQsWidgetAtcButtonId:function(a){return"qs-widget-atc-button-"+a},getQsWidgetPlusButtonId:function(a){return"qs-widget-plus-button-"+
a},getQsWidgetDropdownContainerId:function(a){return"qs-widget-dropdown-container-"+a},getQsWidgetDropdownId:function(a){return"qs-widget-dropdown-"+a},getQsWidgetDropdownViewId:function(a){return"qs-widget-dropdown-view-"+a},getQsWidgetVariationDropdownViewId:function(a){return"qs-widget-dropdown-view-variation-"+a},getQsWidgetDropdownItemId:function(a,b){return"qs-widget-dropdown-item-"+b+"-"+a},getQsWidgetDropdownItemAriaId:function(a,b){return"qs-widget-dropdown-item-aria-"+b+"-"+a},getQsWidgetDropdownItemQuantitySuffixId:function(a,
b){return"qs-widget-dropdown-item-quantitySuffix-"+b+"-"+a},getQsWidgetDropdownUnorderedListId:function(a){return"qs-widget-dropdown-unorderedlist-"+a},getQsWidgetDropdownVariationUnorderedListId:function(a){return"qs-widget-dropdown-variation-unorderedlist-"+a},getQsWidgetTextInputId:function(a){return"qs-widget-text-input-"+a},getQsWidgetTextInputContainerId:function(a){return"qs-widget-text-input-container-"+a},getQsWidgetTextInputUpdateButtonId:function(a){return"qs-widget-text-input-updatelink-"+
a},getQsWidgetTextInputUpdateButtonContainerId:function(a){return"qs-widget-text-input-updatelink-container-"+a},getQsWidgetTextInputUpdateButtonDecl:function(){return"qs-widget-text-input-updatelink-decl"},getQsWidgetTextInputDecl:function(){return"qs-widget-text-input-decl"},getQsWidgetQuantityContainerId:function(a){return"qs-widget-quantity-container-"+a},getQsWidgetQuantityId:function(a){return"qs-widget-quantity-"+a},getQsWidgetQuantitySuffixId:function(a){return"qs-widget-quantity-suffix-"+
a},getQsWidgetInitialViewSuffixId:function(a){return"qs-widget-initialView-suffix-"+a},getQsWidgetSummaryId:function(){return"qs-widget-summary-"},getQsWidgetSummaryPriceId:function(a){return"qs-widget-summary-price-"+a},getQsWidgetSummaryPriceSymbolId:function(a){return"qs-widget-summary-price-symbol-"+a},getQsWidgetSummaryPriceWholeId:function(a){return"qs-widget-summary-price-whole-"+a},getQsWidgetSummaryPriceFractionId:function(a){return"qs-widget-summary-price-fraction-"+a},getQsWidgetSummaryPriceDecimalId:function(a){return"qs-widget-summary-price-decimal-"+
a},getQsWidgetSummaryAtcId:function(a){return"qs-widget-summary-atc-"+a},getQsWidgetFooterPriceContainerId:function(a){return"qs-widget-footer-price-container-"+a},getQsWidgetFooterPriceSymbolId:function(a){return"qs-widget-footer-price-symbol-"+a},getQsWidgetFooterPriceWholeId:function(a){return"qs-widget-footer-price-whole-"+a},getQsWidgetFooterPriceFractionId:function(a){return"qs-widget-footer-price-fraction-"+a},getQsWidgetFooterPriceDecimalId:function(a){return"qs-widget-footer-price-decimal-"+
a},getQsWidgetFooterQuantitySuffixContainerId:function(a){return"qs-widget-footer-quantitySuffix-container-"+a},getQsWidgetFooterQuantitySuffixId:function(a){return"qs-widget-footer-quantitySuffix-"+a},getQsWidgetButtonDecl:function(){return"qs-widget-button-decl"},getQsWidgetSummaryAtcDecl:function(){return"qs-widget-summary-atc-decl"},getQsWidgetQuantityChangelinkId:function(a){return"qs-widget-quantity-changelink-"+a},getQsWidgetQuantityChangelinkDecl:function(){return"qs-widget-quantity-changelink-decl"},
getQsWidgetDropdownItemDecl:function(){return"qs-widget-dropdown-item-decl"},getQsWidgetVariationDropdownItemDecl:function(){return"qs-widget-dropdown-variation-item-decl"},getQsWidgetDropdownDecl:function(){return"qs-widget-dropdown-decl"},getQsWidgetDropdownScrollMetricThreshold:function(){return 20},getQsWidgetBottomSheetId:function(a){return"qs-widget-bottom-sheet-"+a},getQsWidgetBottomSheetSelectQuantityTextId:function(a){return"qs-widget-bottom-sheet-select-quantity-text-"+a},getQsWidgetBottomSheetPriceTextId:function(a){return"qs-widget-bottom-sheet-price-text-"+
a},getQsWidgetBottomSheetContainerId:function(a){return"qs-widget-bottom-sheet-container-"+a},getQsWidgetBottomSheetQuantitySuffixId:function(a){return"qs-widget-bottom-sheet-quantitySuffix-"+a},getQsWidgetInitialViewTextLinkId:function(a){return"qs-widget-link-"+a},getQsWidgetBottomSheetHeightConfig:function(f){return f?a:b},getQsWidgetBottomSheetDropDownScrollFactor:function(){return k},getQsWidget1DBottomSheetSelectorCssClass:function(){return"qs-widget-new-1d-dropdown-li"},getQsWidget2DBottomSheetQuantitySelectorCssClass:function(){return"qs-widget-new-2d-dropdown-qs-li"},
getQsWidget2DBottomSheetVariationSelectorCssClass:function(){return"qs-widget-new-2d-dropdown-vs-li"},getQsWidgetVariationSelectorListMapKey:function(){return"variationSelectorListsMap"},getQsWidgetVariationSelectorSelectedIdKey:function(){return"selectedId"},getQsWidgetVariationSelectorDisplayTextKey:function(){return"displayText"},getQsWidgetVariationSelectorDisplayTextWithQuantityKey:function(){return"displayTextWithQuantity"},getQsWidgetStepperIncrementDecl:function(){return"qs-widget-increment-decl"},
getQsWidgetStepperDecrementDecl:function(){return"qs-widget-decrement-decl"},getQsWidgetStepperDecrementMinusIconId:function(a){return"qs-widget-decrement-minus-icon-"+a},getQsWidgetStepperDecrementTrashIconId:function(a){return"qs-widget-decrement-trash-icon-"+a}}})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsMetadata-duplication-guard",function(n){n.when("A","QuantitySelectorState","QuantitySelectorAUIDeps").register("QuantitySelectorMetadata",function(f,a,b){function k(b){return(b=
a.getQsWidgetConfiguration(b).metadata)?JSON.parse(b):null}return{isWeblabEnabled:function(a,b,f){a:{if((a=k(a))&&a.weblabs)for(var h=0;h<a.weblabs.length;h++){var d=a.weblabs[h];if(d.weblabName==b){b=d.treatment;break a}}b=null}return null==b?f:"T1"==b?!0:!1},getMetaConfiguration:function(a,b){return(a=k(a))?a[b]:null}}})});"use strict";r.when("A","QSAssetDuplicationGuard").execute("qsMetrics-duplication-guard",function(n,f){f.when("A","QuantitySelectorAUIDeps","QuantitySelectorConstants").register("QuantitySelectorMetrics",
function(a,b,f){function g(a){u.ue&&u.ue.count&&a&&ue.count(a,(ue.count(a)||0)+1)}r.when("ready").execute(function(){a.now()});return{incrementInitializeCount:function(a,b){var f="QuantitySelector-Initialize";f=a?f+"-Success-Count":f+"-Failed-Count";g(b?f+":mobile":f+":desktop")},incrementInvalidIdCount:function(){g("QuantitySelector-InvalidID")},incrementTriggerActionCount:function(a,b,f){a="QuantitySelector-TriggerAction-"+a;a=b?a+"-Success-Count":a+"-Failed-Count";g(f?a+":mobile":a+":desktop")},
incrementChangeLinkCount:function(){g("QuantitySelector-ChangeLink-Count")},incrementShowPopup:function(a){var b="QuantitySelector-ShowPopup-Count";g(a?b+":mobile":b+":desktop")},logLatencyMetric:function(a,b,f){a="QuantitySelector-TimeTo-"+a;u.ue&&u.ue.count&&a&&"undefined"!==typeof u.ue_t0&&(b-=u.ue_t0,ue.count(a,b),ue.count(a+"Hundredths",Math.floor(b/10)))},logCsm:function(a,g){var h=b.aState.state(f.getQsWidgetConfigurationId(a));if(h&&(a="mobile"==h.viewType.toLowerCase()?"mob":"dsk",(h=h.qsCsm)&&
h.almBrandRefMarker&&h.pageRefMarker)){a:{var d=h.sellingUomDimension;var p=h.pricingUomDimension;if(d&&p){var t="s";switch(d){case "count":t+="u";break;case "weight":t+="w";break;default:d=void 0;break a}t+="p";switch(p){case "count":t+="u";break;case "weight":t+="w";break;default:d=void 0;break a}d=t}else d=void 0}d&&(g={pageType:h.pageType,subPageType:h.subPageType,pageTypeId:h.pageTypeId,storeName:h.tabId,programRegionId:h.programRegionId,hitType:h.hitType,refMarker:h.almBrandRefMarker+"_"+a+
"_"+h.pageRefMarker+"_qs_"+g+"_"+d,fromTabName:h.fromTabName,toTabName:h.toTabName},u.ue&&u.ue.event&&ue.event(g,"quantityselector_attr","quantityselector.QuantityselectorMetrics.2"))}}}})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsState-duplication-guard",function(n){n.when("A","QuantitySelectorConstants","QuantitySelectorMetrics","QuantitySelectorAUIDeps").register("QuantitySelectorState",function(f,a,b,k){function g(b){var d=k.aState.state(a.getQsWidgetConfigurationId(b));d&&d.id||
(l(b),d=k.aState.state(a.getQsWidgetConfigurationId(b)));return d}function l(b){var d=a.getQsWidgetConfigurationId(b);b=a.getQsWidgetStateScriptSelectorQuery(b);try{var p=f.$(b).first(),h=JSON.parse(p.html());k.aState.state(d,h)}catch(e){if(d=a.getQsWidgetConfigurationJsonString(),p.html().includes(d))throw e;}}function n(){for(var b=[],d=f.$(a.getQsWidgetGenericStateSelectorQuery()),p=a.getQsWidgetConfigurationId(""),g=0;g<d.length;g++)try{var e=d[g].getAttribute("data-a-state"),q=JSON.parse(e).key;
if(q&&q.substring(0,p.length)==p){var x=q.substring(p.length);b.push(x)}}catch(v){var k=a.getQsWidgetStateAttributeJsonString();if(e.includes(k))throw v;}return b}f.on(a.getQsWidgetEventConfigureList(),function(a){"function"===typeof a&&a(n())});f.on(a.getQsWidgetEventConfigureGet(),function(a,b){a=g(a);"function"===typeof b&&b(a)});f.on(a.getQsWidgetEventConfigureSet(),function(b,d){k.aState.state.replace(a.getQsWidgetConfigurationId(b),d);f.trigger(a.getQsWidgetEventInitialize(),!0,b)});return{getQsWidgetConfiguration:g,
loadQsWidgetStateConfiguration:function(b){var d=k.aState.state(a.getQsWidgetConfigurationId(b));d&&d.id||l(b)},reloadQsWidgetStateConfiguration:l,saveOriginalSettings:function(a){},setEnable:function(b,d){d={enable:d};k.aState.state(a.getQsWidgetConfigurationId(b),d)},setInitialized:function(b){k.aState.state(a.getQsWidgetConfigurationId(b),{initialized:!0})},setSelectedId:function(b,d){d={selectedId:d,selectedQuantity:null};k.aState.state(a.getQsWidgetConfigurationId(b),d)},setSelectedQuantity:function(b,
d){d={selectedId:null,selectedQuantity:d};k.aState.state(a.getQsWidgetConfigurationId(b),d)},setData:function(b,d){k.aState.state(a.getQsWidgetConfigurationId(b),d)},getQsUIDs:n}})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsUtils-duplication-guard",function(n){n.when("A","QuantitySelectorState","QuantitySelectorConstants","QuantitySelectorAUIDeps","QuantitySelectorMetrics").register("QuantitySelectorUtils",function(f,a,b,k,g){function l(c){return"true"==c||1==c?!0:!1}function n(c){return"mobile"==
a.getQsWidgetConfiguration(c).viewType.toLowerCase()?!0:!1}function h(c){return"QUANTITY_STEPPER"===a.getQsWidgetConfiguration(c).shapeType?!0:!1}function d(c){c=a.getQsWidgetConfiguration(c);return"undefined"!=typeof c.showATCButtonWhenZeroQuantity&&c.showATCButtonWhenZeroQuantity?!0:!1}function p(c){c=a.getQsWidgetConfiguration(c);return l(c.showConfirmationView)?!0:!1}function t(c){c=a.getQsWidgetConfiguration(c);return l(c.allowZeroQuantity)?!0:!1}function e(c){return a.getQsWidgetConfiguration(c).initialView.toLowerCase()==
b.getQsWidgetInitialViewChooseQuantity()?!0:!1}function q(c){c=v(c);return null==c||1>c.length?!1:!0}function x(c){c=a.getQsWidgetConfiguration(c).variationSelectorListsMap;if(null==c)return null;c=Object.keys(c);return null==c||1>c.length?null:c[0]}function w(c,b){var m=a.getQsWidgetConfiguration(c).variationSelectorListsMap;if(null==m)return null;null==b&&(b=x(c));return null==b?null:m[b]}function v(c,a){c=w(c,a);return null==c?null:c.selectorItems}function r(c){return a.getQsWidgetConfiguration(c).bottomSheetChangeCurrentQuantityText}
function y(c,a){c=B(c,a).quantityText;return"+"==c.substr(c.length-1)?{result:!0,initialQuantityText:c.substr(0,c.length-1)}:{result:!1}}function S(c,b){var m=a.getQsWidgetConfiguration(c),d=m.qsItems.length;m=m.allowZeroQuantity;if(C(c)){if(1==b||m&&2==b)return!0}else if(b==d||b==d-1&&m)return!0;return!1}function H(c,b){var m=a.getQsWidgetConfiguration(c).qsItems;if(C(c)){if(b==m.length)return!0}else if(1==b)return!0;return!1}function C(c){c=a.getQsWidgetConfiguration(c).qsItems;return z(c[c.length-
1])>z(c[0])?!0:!1}function A(c){c.removeClass("aok-hidden")}function E(c){var a=f.$("#"+b.getQsWidgetQuantityChangelinkId(c));c=f.$("#"+b.getQsWidgetTextInputUpdateButtonId(c));a.attr("draggable","false");c.attr("draggable","false")}function I(c){return f.$("#"+b.getQsWidgetContainerId(c))}function T(c){return f.$("#"+b.getQsWidgetButtonContainerId(c))}function J(c){return k.aButton("#"+b.getQsWidgetButtonId(c))}function U(c){return f.$("#"+b.getQsWidgetStepperId(c))}function V(c){return k.aButton("#"+
b.getQsWidgetAtcButtonId(c))}function W(c){return k.aButton("#"+b.getQsWidgetPlusButtonId(c))}function X(c){return f.$("#"+b.getQsWidgetButtonId(c)+"-announce")}function Y(c){return f.$("#"+b.getQsWidgetDropdownContainerId(c))}function Z(c){return f.$("#"+b.getQsWidgetDropdownViewId(c))}function K(c){return f.$("#"+b.getQsWidgetVariationDropdownViewId(c))}function N(c){return f.$("#"+b.getQsWidgetDropdownUnorderedListId(c))}function aa(c){return f.$("#"+b.getQsWidgetTextInputContainerId(c))}function F(c){return f.$("#"+
b.getQsWidgetTextInputId(c))}function ba(c){return f.$("#"+b.getQsWidgetTextInputUpdateButtonContainerId(c))}function ca(c){return k.aButton("#"+b.getQsWidgetSummaryAtcId(c))}function da(c){return f.$("#"+b.getQsWidgetBottomSheetPriceTextId(c))}function ea(c){return f.$("#"+b.getQsWidgetStepperDecrementMinusIconId(c))}function fa(c){return f.$("#"+b.getQsWidgetStepperDecrementTrashIconId(c))}function B(c,b){try{var m=a.getQsWidgetConfiguration(c).qsItems[parseInt(b)-1];return m.id===b?m:ha(c,b)}catch(xa){return ha(c,
b)}}function ha(c,b){c=a.getQsWidgetConfiguration(c);for(var m=0;m<c.qsItems.length;m++)if(c.qsItems[m].id==b)return c.qsItems[m]}function z(c){return parseFloat(JSON.parse(c.data).quantity)}function ia(c,a){var m=w(c,a);if(null==m)return null;m=m[b.getQsWidgetVariationSelectorSelectedIdKey()];if(null==m)return ja(c);c=v(c,a);if(null==c)return null;for(a=0;a<c.length;a++)if(c[a].id==m)return c[a];return null}function ja(c,a){c=v(c,a);if(null==c)return null;for(a=0;a<c.length;a++)if(l(c[a].isSelected))return c[a];
return null}function O(c){var b=a.getQsWidgetConfiguration(c).selectedId;return b?b:ka(c)}function ka(c){c=a.getQsWidgetConfiguration(c);if(c.qsItems){for(var b=0;b<c.qsItems.length;b++)if(l(c.qsItems[b].isSelected))return c.qsItems[b].id;return c.qsItems[0].id}}function la(c,a){var d=w(c,a);if(null==d)return null;d=d[b.getQsWidgetVariationSelectorSelectedIdKey()];return null!=d?d:ma(c,a)}function ma(c,a){c=ja(c);return null==c?null:c.id}function P(c){return a.getQsWidgetConfiguration(c).selectedQuantity}
function na(c,a){return 0>a?c[0].id:a>=c.length?c[c.length-1].id:c[a].id}function oa(c,a){if(null==c)return 0;for(var b=0;b<c.length;b++)if(a==c[b].id)return b}function pa(c,a){return(c=r(c))?a+c:"Current quantity "+a+". Click to change quantity"}function Q(c,a){return(t(c)?/^(([0-9]\d{0,2}))$/:/^(([1-9]\d{0,2})|(0[1-9]\d?)|(00[1-9]))$/).test(a)}function qa(c,b){if(h(c)){var m=B(c,b),e=m.selectedText;J(c).text(e);X(c).attr("aria-label",pa(c,e));var f=ea(c),q=fa(c),p=W(c);e=U(c);var g=V(c);S(c,b)||
0==z(m)?(f.addClass("aok-hidden"),q.removeClass("aok-hidden")):(f.removeClass("aok-hidden"),q.addClass("aok-hidden"));H(c,b)?(b=y(c,b),b.result?ra(c,b.initialQuantityText):p.disable()):p.enable();b=a.getQsWidgetConfiguration(c);d(c)&&(0==z(m)||0==b.selectedQuantity?(e.addClass("aok-hidden"),g.show()):(g.hide(),e.removeClass("aok-hidden")))}}function ra(c,a){var b=aa(c),d=ba(c);T(c).addClass("aok-hidden");A(b);var e=F(c);a&&e.val(a);a=e.val();Q(c,a)&&P(c)!==a?A(d):d.addClass("aok-hidden");n(c)?e.focus():
setTimeout(function(){e.focus()},200)}function sa(c){if(c){var a=f.$("#"+b.getQsWidgetCheckboxId(c)),d=I(c);c=f.$("#"+b.getQsWidgetSpinnerId(c))}else a=f.$(b.getQsWidgetInputSelectorQueryForCheckboxes()),c=f.$(b.getQsWidgetDivSelectorQueryForSpinners()),d=f.$(b.getQsWidgetDivSelectorQueryForWidgetContainers());a.remove();c.remove();d.removeClass("qs-widget-hidden")}function ta(c,b){b=b.displayTextWithQuantityList;var d=a.getQsWidgetConfiguration(c).qsItems;c=O(c);for(var e=0;e<d.length;e++)if(d[e].id==
c)return b[e];return null}function ua(c,a){null==a&&(a=x(c));if(null==a)return{};var d=ia(c,a);if(null==d)return{};var e=n(c)?d.displayTextForMobile:d.dissplayTextForDesktop;c=ta(c,d);var m={};m[a]=JSON.parse(d.data);m[a][b.getQsWidgetVariationSelectorDisplayTextKey()]=e;m[a][b.getQsWidgetVariationSelectorDisplayTextWithQuantityKey()]=c;return m}function va(c,a){c=w(c,a);return null==c||null==c.actionTriggerId||""==c.actionTriggerId?null:c.actionTriggerId}function R(c,b,d){var e=a.getQsWidgetConfiguration(c),
m=e.selectedId,M=e.selectedQuantity,p=h(c),g=JSON.parse(e.staticData);if(m)for(var x=0;x<e.qsItems.length;x++)if(e.qsItems[x].id==m){var k=JSON.parse(e.qsItems[x].data);k=f.$.extend({qsUID:c,setQuantityFlag:p,tunneledData:b,quantityData:k},g,k);q(c)&&(k=f.$.extend(k,ua(c,d)))}if(M||0==M)k=f.$.extend({qsUID:c,setQuantityFlag:p,tunneledData:b},g,{quantity:M}),q(c)&&(k=f.$.extend(k,ua(c,d)));return k}var D=[];f.on(b.getQsWidgetEventTriggerAction(),function(c,d,e){var m=a.getQsWidgetConfiguration(c);
d||(d=m.actionId);m="mobile"==m.viewType.toLowerCase();var q=!1;if(c=R(c,e))f.trigger(b.getQsWidgetEventAction(d),c),g.incrementTriggerActionCount(d,!0,m),q=!0;q||g.incrementTriggerActionCount(d,!1,m)});f.on(b.getQsWidgetVariationEventTriggerAction(),function(c,d,e,q){var m="mobile"==a.getQsWidgetConfiguration(c).viewType.toLowerCase();e=R(c,e);null==d&&(d=va(c,q));null!=d&&(f.trigger(b.getQsWidgetEventAction(d),e),g.incrementTriggerActionCount(d,!1,m))});return{isInitialized:function(c){return(c=
a.getQsWidgetConfiguration(c))?c.initialized:!1},isMobile:n,isStepper:h,isQsWidgetEnabled:function(c){c=a.getQsWidgetConfiguration(c);return c.hasOwnProperty("enable")?l(c.enable):!0},isConfirmationViewEnabled:p,isAllowZeroQuantityEnabled:t,isInitialViewDropdown:function(c){return a.getQsWidgetConfiguration(c).initialView.toLowerCase()==b.getQsWidgetInitialViewDropdown()?!0:!1},isInitialViewTextLink:function(c){return a.getQsWidgetConfiguration(c).initialView.toLowerCase()==b.getQsWidgetInitialViewTextLink()?
!0:!1},isInitialViewChooseQuantity:e,isVariationSelectorEnabled:q,getVariationSelectorItemList:w,getQsWidgetBottomSheetConfig:function(c){var d=a.getQsWidgetConfiguration(c),e=b.getQsWidgetBottomSheetHeightConfig(d.enabledBottomSheetWith2DSupport),f=0;d.summaryDisclaimerText||(f=p(c)?e.disclaimerTextAdjustmentWithAtc:e.disclaimerTextAdjustment);return p(c)?{closeMessage:d.bottomSheetCancelText,height:e.heightWithAtc-f}:{closeMessage:d.bottomSheetDoneText,height:e.height-f}},getQsWidgetBottomSheetChangeCurrentQuantityText:r,
isActionTriggerOnConfirmation:function(c){return a.getQsWidgetConfiguration(c).actionTrigger.toLowerCase()==b.getQsWidgetActionTriggerOnConfirmation()?!0:!1},isActionTriggerOnSelect:function(c){return a.getQsWidgetConfiguration(c).actionTrigger.toLowerCase()==b.getQsWidgetActionTriggerOnSelect()?!0:!1},isVariationSelectorTriggerOnSelect:function(a){return null==a?!1:a.actionTriggerType.toLowerCase()==b.getQsWidgetActionTriggerOnSelect()},isVariationSelectorTriggerOnConfirmation:function(a){return null==
a?!1:a.actionTriggerType.toLowerCase()==b.getQsWidgetActionTriggerOnConfirmation()},isTextInputRequired:y,isOrderMin:S,isOrderMax:H,isAscending:C,initializeWidget:function(c){var d=O(c),e=P(c),p=a.getQsWidgetConfiguration(c);if(p.qsItems)for(var g=0;g<p.qsItems.length;g++)parseFloat(e)===z(p.qsItems[g])&&(d=p.qsItems[g].id,e=null);e?f.trigger(b.getQsWidgetEventSelectQuantity(),c,e,!1,function(){E(c)}):d&&f.trigger(b.getQsWidgetEventSelectId(),c,d,!1,function(){E(c)});q&&(e=la(c),null!=e&&f.trigger(b.getQsWidgetVariationEventSelectId(),
c,e,!1,function(){}));p.skipStepperInitialization||qa(c,d);sa(c)},activateWidget:function(a){var c=D.indexOf(a);-1<c&&D.splice(c,1);setTimeout(function(){D.push(a)},b.getQsWidgetActivateDebounce())},deactivateWidget:function(a){a=D.indexOf(a);-1<a&&D.splice(a,1)},getActivatedQsWidgets:function(){return D},hideComponent:function(a,b){a.addClass("aok-hidden")},showComponent:A,isComponentVisible:function(a){return!a.hasClass("aok-hidden")},setComponentVisibility:function(a,b){b?a.css("visibility","visible"):
a.css("visibility","hidden")},setHtml:function(a,b){a.html(b)},setAtcButtonStepperText:function(c){if(h(c)&&e(c)){var b=a.getQsWidgetConfiguration(c),d=ca(c);d.text(b.bottomSheetUpdateCartText);(b.selectedId&&0==z(B(c,b.selectedId))||0==b.selectedQuantity)&&d.text(b.bottomSheetAddToCartText)}},setQsWidgetContainerMinWidthAndHeight:function(a){a=I(a);a.css("min-width",a.width()+"px");a.css("min-height",a.height()+"px")},resetQsWidgetContainerMinWidthAndHeight:function(a){a=I(a);a.css("min-width","0px");
a.css("min-height","0px")},enableQsWidget:function(c){var b=J(c),d=F(c);b.enable();d.removeClass("a-form-disabled");d.addClass("a-form-normal");d.removeAttr("disabled");a.setEnable(c,!0)},disableQsWidget:function(c){var b=J(c),d=F(c);b.disable();d.removeClass("a-form-normal");d.addClass("a-form-disabled");d.attr("disabled","disabled");a.setEnable(c,!1)},popOutDropDownContainer:function(a){var c=I(a),b=c.offset();a=Y(a);var d=b.left,e=b.top;a.appendTo(document.body);d+a.width()>u.scrollX+f.$(u).width()&&
(d=b.left+c.width()-a.width());b.top-u.scrollY+a.height()>f.$(u).height()&&(e=b.top-a.height()+c.height());a.css({left:d,top:e})},getQsWidgetButtonContainer:T,getQsWidgetButtonAsComponent:J,getQsWidgetStepperElement:U,getQsWidgetAtcButtonAsComponent:V,getQsWidgetButton:X,getQsWidgetDropdownContainer:Y,getQsWidgetDropdownElement:function(a){return f.$("#"+b.getQsWidgetDropdownId(a))},getQsWidgetDropdownViewSelector:Z,getQsWidgetVariationDropdownViewSelector:K,getQsWidgetDropdownUnorderedListElement:N,
getQsWidgetDropdownVariationUnorderedListElement:function(a){return f.$("#"+b.getQsWidgetDropdownVariationUnorderedListId(a))},getQsWidgetDropdownItemElement:function(a,d){return f.$("#"+b.getQsWidgetDropdownItemAriaId(a,d))},getQsWidgetPlusButtonAsComponent:W,getQsWidgetTextInputContainer:aa,getQsWidgetTextInputElement:F,getQsWidgetTextInputUpdateButtonContainer:ba,getQsWidgetQuantityContainer:function(a){return f.$("#"+b.getQsWidgetQuantityContainerId(a))},getQsWidgetQuantityElement:function(a){return f.$("#"+
b.getQsWidgetQuantityId(a))},getQsWidgetQuantitySuffixElement:function(a){return f.$("#"+b.getQsWidgetQuantitySuffixId(a))},getQsWidgetInitialViewSuffixElement:function(a){return f.$("#"+b.getQsWidgetInitialViewSuffixId(a))},getQsWidgetSummaryAtcButton:function(a){return f.$("#"+b.getQsWidgetSummaryAtcId(a))},getQsWidgetSummaryAtcButtonAsComponent:ca,getQsWidgetSummaryContainer:function(a){return f.$("#"+b.getQsWidgetSummaryPriceId(a))},getQsWidgetSummaryPriceSymbolElement:function(a){return f.$("#"+
b.getQsWidgetSummaryPriceSymbolId(a))},getQsWidgetSummaryPriceWholeElement:function(a){return f.$("#"+b.getQsWidgetSummaryPriceWholeId(a))},getQsWidgetSummaryPriceFractionElement:function(a){return f.$("#"+b.getQsWidgetSummaryPriceFractionId(a))},getQsWidgetSummaryPriceDecimalElement:function(a){return f.$("#"+b.getQsWidgetSummaryPriceDecimalId(a))},getQsWidgetFooterPriceContainer:function(a){return f.$("#"+b.getQsWidgetFooterPriceContainerId(a))},getQsWidgetFooterPriceSymbolElement:function(a){return f.$("#"+
b.getQsWidgetFooterPriceSymbolId(a))},getQsWidgetFooterPriceWholeElement:function(a){return f.$("#"+b.getQsWidgetFooterPriceWholeId(a))},getQsWidgetFooterPriceFractionElement:function(a){return f.$("#"+b.getQsWidgetFooterPriceFractionId(a))},getQsWidgetFooterPriceDecimalElement:function(a){return f.$("#"+b.getQsWidgetFooterPriceDecimalId(a))},getQsWidgetFooterQuantitySuffixContainer:function(a){return f.$("#"+b.getQsWidgetFooterQuantitySuffixContainerId(a))},getQsWidgetFooterQuantitySuffixElement:function(a){return f.$("#"+
b.getQsWidgetFooterQuantitySuffixId(a))},getQsWidgetBottomSheetQuantitySuffixElement:function(a){return f.$("#"+b.getQsWidgetBottomSheetQuantitySuffixId(a))},getQsWidgetBottomSheetPriceTextElement:da,getQsWidgetInitialViewTextLinkElement:function(a){return f.$("#"+b.getQsWidgetInitialViewTextLinkId(a))},getQsWidgetStepperDecrementMinusIconElement:ea,getQsWidgetStepperDecrementTrashIconElement:fa,getQsItem:B,getQsItemQuantity:z,getClosestDecrementalQsItem:function(c,b){c=a.getQsWidgetConfiguration(c).qsItems;
for(var d=Number.MAX_SAFE_INTEGER,e=0,f=0;f<c.length;f++){var m=b-z(c[f]);0<=m&&m<d&&(d=m,e=f)}return c[e]},getClosestIncrementalQsItem:function(c,b){c=a.getQsWidgetConfiguration(c).qsItems;for(var d=Number.MAX_SAFE_INTEGER,e=0,f=0;f<c.length;f++){var m=z(c[f])-b;0<=m&&m<d&&(d=m,e=f)}return c[e]},getNextDecrementQsItem:function(c,b){var d=a.getQsWidgetConfiguration(c).qsItems;b=parseInt(b);C(c)&&0<b-1?--b:!C(c)&&b+1<=d.length&&(b+=1);return B(c,b)},getNextIncrementQsItem:function(c,b){var d=a.getQsWidgetConfiguration(c).qsItems;
b=parseInt(b);C(c)&&b+1<=d.length?b+=1:!C(c)&&0<b-1&&--b;return B(c,b)},getVariationSelectorItemById:function(a,b,d){a=v(a,d);if(null==a)return null;for(d=0;d<a.length;d++)if(a[d].id==b)return a[d];return null},getSelectedVariationSelectorItem:ia,getSelectedQsItemId:O,getInitialSelectedQsItemId:ka,getSelectedQuantity:P,getInitialSelectedVariationSelectorItemId:ma,getSelectedVariationSelectorItemIdData:function(a,d,e){null==e&&(e=x(a));if(null==e)return null;a={};a[b.getQsWidgetVariationSelectorSelectedIdKey()]=
d;d={};d[b.getQsWidgetVariationSelectorListMapKey()]={};d[b.getQsWidgetVariationSelectorListMapKey()][e]=a;return d},getSelectedVariationSelectorItemId:la,getQsItemFromQuantityText:function(c,b){c=a.getQsWidgetConfiguration(c).qsItems;if(!c)return null;for(var d=0;d<c.length;d++)if(b.toLowerCase()==c[d].quantityText.toLowerCase()||parseFloat(b)==parseFloat(c[d].quantityText))return c[d]},getFocusedQsItemIdInBottomSheet:function(c){var d=Z(c).scrollTop(),e=b.getQsWidgetBottomSheetDropDownScrollFactor();
d=parseInt((d-e.constant+e.adjustment)/e.increment);c=a.getQsWidgetConfiguration(c).qsItems;return na(c,d)},getFocusedVariationSelectorItemIdInBottomSheet:function(a,d){var c=K(a);if(null==c)return null;c=c.scrollTop();var e=b.getQsWidgetBottomSheetDropDownScrollFactor();c=parseInt((c-e.constant+e.adjustment)/e.increment);a=v(a,d);return na(a,c)},getIndexFromIdInBottomSheet:function(c,b){c=a.getQsWidgetConfiguration(c).qsItems;return oa(c,b)},getAriaLabelTextForSelectOption:pa,getVariationSelectorIndexFromIdInBottomSheet:function(a,
b,d){a=v(a,d);return oa(a,b)},saveQsWidgetDropdownTopPosition:function(c){var b=N(c);b&&(b=b.position().top,a.setData(c,{scrollTop:b}));return!1},setQsWidgetDropdownScrolled:function(c){a.setData(c,{scrollTop:-65536})},clearQsWidgetDropdownScrolled:function(c){a.setData(c,{scrollTop:b.getQsWidgetDropdownScrollMetricThreshold()})},isQsWidgetDropdownScrolled:function(c){var d=N(c);return d?(d=d.position().top,(c=a.getQsWidgetConfiguration(c).scrollTop)?Math.abs(d-c)>b.getQsWidgetDropdownScrollMetricThreshold():
!1):!1},generateQsDropdownDOM:function(c){var d="",e=a.getQsWidgetConfiguration(c),f=e.qsItems;e=e.selectedId;var p=n(c);if(!f)return"";for(var g=0;g<f.length;g++){var k=f[g].id,x=f[g].quantityText,h=f[g].quantityTextAbbreviatedSuffix;if(p){var t=c;var l=h,w=B(t,k);h=x;if(l){var v=l.indexOf("\x3c");if(-1!=v){var r=l.indexOf("\x3c",v+1);if(l=l.substring(v,r))l=l.split("\x3e")[1],h+=". ",v=l,l=a.getQsWidgetConfiguration(t).estText,h+=l?l+" "+v:"Total est. "+v}else h=h+"."+l}w=w.price;l=da(t).html();
h=h+". "+l+" "+(w.currencySymbol+w.wholeValue+w.decimalSeparator+w.fractionValue);w=q(t)?b.getQsWidget2DBottomSheetQuantitySelectorCssClass():b.getQsWidget1DBottomSheetSelectorCssClass();l=b.getQsWidgetDropdownItemId(t,k);v=b.getQsWidgetDropdownItemDecl();t='\x3cspan class\x3d"a-declarative" data-action\x3d"'+v+'" data-'+v+'\x3d"{\x26quot;qsUID\x26quot;:\x26quot;'+t+"\x26quot;,\x26quot;id\x26quot;:"+k+'}"\x3e\x3cli tabindex\x3d"-1" role\x3d"option" id\x3d"'+l+'" aria-label\x3d"'+h+'" class\x3d"'+
w+'"\x3e'+x+"\x3c/li\x3e\x3c/span\x3e"}else{t=c;var u=h;h=f[g].id==e;w=b.getQsWidgetDropdownItemId(t,k);l=b.getQsWidgetDropdownItemAriaId(t,k);var G=b.getQsWidgetDropdownItemQuantitySuffixId(t,k);v=b.getQsWidgetDropdownDecl(t);r="";u&&(r='\x3cspan id\x3d"'+G+'" class\x3d"a-size-mini a-color-tertiary"\x3e'+u+"\x3c/span\x3e");u="false";G="qs-widget-dropdown-link";h&&(u="true",G+=" qs-widget-dropdown-link-active aok-block aok-nowrap");t='\x3cspan class\x3d"a-declarative" data-action\x3d"'+v+'" data-'+
v+'\x3d"{\x26quot;qsUID\x26quot;:\x26quot;'+t+"\x26quot;,\x26quot;id\x26quot;:"+k+'}"\x3e\x3cli tabindex\x3d"-1" role\x3d"option" id\x3d"'+w+'" aria-labelledby\x3d"'+l+'" aria-checked\x3d"'+u+'" class\x3d"qs-widget-dropdown-item"\x3e\x3ca tabindex\x3d"0" href\x3d"javascript:void(0)" draggable\x3d"false" id\x3d"'+l+'" class\x3d"'+G+'"\x3e'+x+"\x26nbsp;\x26nbsp;"+r+"\x3c/a\x3e\x3c/li\x3e\x3c/span\x3e"}d+=t}return d},generateVariationSelectorDOM:function(a,d){if(!n(a))return"";d=v(a,d);for(var c="",
e=0;e<d.length;e++){var f=a,q=d[e].id,p=d[e].displayTextForMobile,g=d[e].ariaLabelText,m=b.getQsWidget2DBottomSheetVariationSelectorCssClass(),k=b.getQsWidgetDropdownItemId(f,q);b.getQsWidgetDropdownItemAriaId(f,q);var t=b.getQsWidgetVariationDropdownItemDecl();c+='\x3cspan class\x3d"a-declarative" data-action\x3d"'+t+'" data-'+t+'\x3d"{\x26quot;qsUID\x26quot;:\x26quot;'+f+"\x26quot;,\x26quot;id\x26quot;:\x26quot;"+q+'\x26quot;}"\x3e\x3cli tabindex\x3d"-1" role\x3d"option" id\x3d"'+k+'" aria-label\x3d"'+
g+'" class\x3d"'+m+'"\x3e'+p+"\x3c/li\x3e\x3c/span\x3e"}return c},isQsWidgetTextInputValid:Q,validateQsWidgetTextInput:function(a){var c=F(a),d=c.val();a=Q(a,d);var e=c.parent().hasClass(b.getQsWidgetAuiInputTextWrapperClass())?c.parent():c;if(a)return c.val(d.replace(/^0{2,}$/,"0").replace(/^0+(\d+)/g,"$1")),e.removeClass("a-form-error"),e.addClass("a-form-normal"),!0;e.removeClass("a-form-normal");e.addClass("a-form-error");return!1},isUserClickInSummary:function(a){var c=b.getQsWidgetSummaryId();
for(a=null==a?null:a.target;null!=a;){if(a.id.substring(0,c.length)==c)return!0;a=a.parentElement}return!1},updateQsWidgetStepper:qa,showTextInput:ra,hideSpinner:sa,EnableVariationSelector:function(a){a&&K(a).removeClass("qs-widget-disable")},DisableVariationSelector:function(a){a&&K(a).addClass("qs-widget-disable")},getVariationSelectorDisplayTextWithQuantity:ta,getVariationSelectorActionTriggerId:va,getQsWidgetSelectionPayload:R,isSUPU:function(c){var b=a.getQsWidgetConfiguration(c).qsCsm;if(b&&
(c=b.sellingUomDimension,b=b.pricingUomDimension,c&&b))return"count"==c&&"count"==b?!0:!1},showATCButtonWhenZeroQuantity:d}})});"use strict";r.when("QSAssetDuplicationGuard").execute("qsWidget-duplication-guard",function(n){n.when("A","QuantitySelectorUtils","QuantitySelectorState","QuantitySelectorConstants").register("QuantitySelectorWidget",function(f,a,b,k){function g(b){a.deactivateWidget(b);var d=a.getQsWidgetButtonContainer(b),f=a.getQsWidgetDropdownContainer(b),e=a.getQsWidgetDropdownElement(b),
q=a.getQsWidgetQuantityContainer(b),g=a.getQsWidgetSummaryAtcButton(b),k=a.getQsWidgetFooterPriceContainer(b),h=a.getQsWidgetFooterQuantitySuffixContainer(b);a.setComponentVisibility(k,!0);a.setComponentVisibility(h,!0);k=a.getQsWidgetTextInputContainer(b);a.isComponentVisible(k)||a.showComponent(d);a.hideComponent(f);a.hideComponent(e);a.hideComponent(q);a.hideComponent(g);a.resetQsWidgetContainerMinWidthAndHeight(b)}function l(d,p,g){var e=a.getQsItem(d,p),q=e.quantityText,h=e.quantityTextAbbreviatedSuffix,
t=e.quantityTextFullSuffix,l=e.selectedText;e=e.price;var n=a.getQsWidgetSummaryPriceSymbolElement(d),r=a.getQsWidgetSummaryPriceWholeElement(d),u=a.getQsWidgetSummaryPriceFractionElement(d),y=a.getQsWidgetSummaryPriceDecimalElement(d);a.setHtml(n,e.currencySymbol);a.setHtml(r,e.wholeValue);a.setHtml(u,e.fractionValue);a.setHtml(y,e.decimalSeparator);n=a.getQsWidgetQuantityElement(d);a.setHtml(n,q);q=a.getQsWidgetQuantitySuffixElement(d);h&&t?(a.setHtml(q,h),h=a.getQsWidgetInitialViewSuffixElement(d),
a.setHtml(h,t)):a.setHtml(q,"");h=a.getQsWidgetFooterPriceSymbolElement(d);q=a.getQsWidgetFooterPriceWholeElement(d);n=a.getQsWidgetFooterPriceFractionElement(d);r=a.getQsWidgetFooterPriceDecimalElement(d);a.setHtml(h,e.currencySymbol);a.setHtml(q,e.wholeValue);a.setHtml(n,e.fractionValue);a.setHtml(r,e.decimalSeparator);t&&(e=a.getQsWidgetFooterQuantitySuffixElement(d),a.setHtml(e,t));t="Current quantity "+l+". Click to change quantity";a.isInitialViewDropdown(d)?(a.getQsWidgetButtonAsComponent(d).text(l),
a.getQsWidgetButton(d).attr("aria-label",t)):a.isInitialViewTextLink(d)&&(e=a.getQsWidgetInitialViewTextLinkElement(d),e.text(l),e.attr("aria-label",t));a.setAtcButtonStepperText(d);b.setSelectedId(d,p);g&&(a.isStepper(d)&&a.updateQsWidgetStepper(d,p),f.trigger(k.getQsWidgetEventTriggerAction(),d))}function n(d,p){var g=a.getQsWidgetTextInputElement(d),e=g.val(),q=a.getQsWidgetButtonContainer(d),h=a.getQsWidgetTextInputContainer(d),n=a.getQsWidgetTextInputUpdateButtonContainer(d),r=a.getQsItemFromQuantityText(d,
e),u=a.isStepper(d);a.hideComponent(n);u&&a.getQsWidgetButtonAsComponent(d).text(e);r?(a.hideComponent(h),a.showComponent(q),l(d,r.id,p)):(a.hideComponent(q),a.showComponent(h),g.blur(),b.setSelectedQuantity(d,e),g=b.getQsWidgetConfiguration(d),u&&a.isInitialViewChooseQuantity(d)&&0==g.selectedQuantity&&(u=a.getQsWidgetStepperElement(d),g=a.getQsWidgetAtcButtonAsComponent(d),a.hideComponent(h),a.showComponent(q),a.hideComponent(u),g.show()),p&&f.trigger(k.getQsWidgetEventTriggerAction(),d))}var h=
null;f.on(k.getQsWidgetEventSelectId(),function(b,f,g,e){l(b,f,g);f=a.getQsWidgetButtonContainer(b);g=a.getQsWidgetTextInputContainer(b);b=a.getQsWidgetTextInputUpdateButtonContainer(b);a.hideComponent(b);a.hideComponent(g);a.showComponent(f);e&&e()});f.on(k.getQsWidgetEventSelectQuantity(),function(b,f,g,e){a.getQsWidgetTextInputElement(b).val(f);n(b,g);e&&e()});return{hideAllPopover:function(){for(var b=a.getActivatedQsWidgets(),f=0;f<b.length;f++)g(b[f])},showPopover:function(d){a.activateWidget(d);
a.setQsWidgetContainerMinWidthAndHeight(d);var f=a.getQsWidgetDropdownUnorderedListElement(d),g=a.getQsWidgetButtonContainer(d),e=a.getQsWidgetDropdownContainer(d),q=a.getQsWidgetDropdownElement(d),h=a.getQsWidgetQuantityContainer(d),k=a.getQsWidgetSummaryAtcButton(d);a.setHtml(f,a.generateQsDropdownDOM(d));f=a.getQsWidgetFooterPriceContainer(d);var l=a.getQsWidgetFooterQuantitySuffixContainer(d);a.setComponentVisibility(f,!1);a.setComponentVisibility(l,!1);a.showComponent(q);a.hideComponent(h);a.hideComponent(k);
a.showComponent(e);a.hideComponent(g);a.popOutDropDownContainer(d);e=b.getQsWidgetConfiguration(d);if(g=e.qsItems)e=e.selectedId,null===e&&(e=g[0].id),a.getQsWidgetDropdownItemElement(d,e).focus()},showConfirmation:function(b){a.activateWidget(b);var d=a.getQsWidgetButtonContainer(b),f=a.getQsWidgetDropdownContainer(b),e=a.getQsWidgetDropdownElement(b),q=a.getQsWidgetQuantityContainer(b);b=a.getQsWidgetSummaryAtcButton(b);a.hideComponent(e);a.showComponent(q);a.showComponent(b);a.showComponent(f);
a.hideComponent(d)},showPrice:function(b,f){f=a.getQsItem(b,f).price;var d=a.getQsWidgetSummaryPriceSymbolElement(b),e=a.getQsWidgetSummaryPriceWholeElement(b),q=a.getQsWidgetSummaryPriceFractionElement(b);b=a.getQsWidgetSummaryPriceDecimalElement(b);a.setHtml(d,f.currencySymbol);a.setHtml(e,f.wholeValue);a.setHtml(q,f.fractionValue);a.setHtml(b,f.decimalSeparator)},selectOption:l,validateAndSelectQuantity:n,selectConfirmation:function(b){if(a.isActionTriggerOnConfirmation(b)){if(a.isStepper(b)){var d=
a.getSelectedQsItemId(b);a.updateQsWidgetStepper(b,d)}f.trigger(k.getQsWidgetEventTriggerAction(),b)}g(b)},stepperIncrement:function(d){var g=b.getQsWidgetConfiguration(d);if(g.selectedId){var l=g.selectedId;var e=a.getNextIncrementQsItem(d,g.selectedId).id}else g.selectedQuantity||0==g.selectedQuantity?(l=g.selectedQuantity,e=a.getClosestIncrementalQsItem(d,g.selectedQuantity).id,a.getQsItemQuantity(a.getQsItem(d,e))==g.selectedQuantity&&(e=a.getNextIncrementQsItem(d,e).id)):e=a.getSelectedQsItemId(d);
l!==e&&(b.setSelectedId(d,e),a.updateQsWidgetStepper(d,e),null!=h&&clearTimeout(h),h=setTimeout(function(){f.trigger(k.getQsWidgetEventTriggerAction(),d)},g.stepperDebounceTime))},stepperDecrement:function(d){var g=b.getQsWidgetConfiguration(d);if(g.selectedId){var l=a.getNextDecrementQsItem(d,g.selectedId).id;if(l==g.selectedId){b.setSelectedId(d,null);b.setSelectedQuantity(d,"0");f.trigger(k.getQsWidgetEventTriggerAction(),d);a.showATCButtonWhenZeroQuantity(d)&&(g=a.getQsWidgetStepperElement(d),
g.addClass("aok-hidden"),g=a.getQsWidgetAtcButtonAsComponent(d),g.show());return}}else if(g.selectedQuantity||0==g.selectedQuantity){if(l=a.getClosestDecrementalQsItem(d,g.selectedQuantity).id,0==g.selectedQuantity){b.setSelectedId(d,null);b.setSelectedQuantity(d,"0");f.trigger(k.getQsWidgetEventTriggerAction(),d);a.showATCButtonWhenZeroQuantity(d)&&(g=a.getQsWidgetStepperElement(d),g.addClass("aok-hidden"),g=a.getQsWidgetAtcButtonAsComponent(d),g.show());return}}else l=a.getSelectedQsItemId(d);a.updateQsWidgetStepper(d,
l);b.setSelectedId(d,l);null!=h&&clearTimeout(h);h=setTimeout(function(){f.trigger(k.getQsWidgetEventTriggerAction(),d)},g.stepperDebounceTime)}}})});"use strict";r.when("QSAssetDuplicationGuard").execute("QuantitySelector-duplication-guard",function(n){n.when("A","QuantitySelectorWidget","QuantitySelectorUtils","QuantitySelectorState","QuantitySelectorConstants","QuantitySelectorMetrics","QuantitySelectorAUIDeps","QuantitySelectorMetadata").register("QuantitySelector",function(f,a,b,k,g,l,n,h){function d(a,
d){try{var e=b.isMobile(d)}catch(w){w instanceof TypeError&&l.incrementInvalidIdCount();return}try{if(!b.isInitialized(d)||a)eval(h.getMetaConfiguration(d,"script")),k.setInitialized(d),b.initializeWidget(d),b.isQsWidgetEnabled(d)?b.enableQsWidget(d):b.disableQsWidget(d),l.incrementInitializeCount(!0,e)}catch(w){l.incrementInitializeCount(!1,e)}}function p(a){k.loadQsWidgetStateConfiguration(a);d(!0,a)}f.declarative(g.getQsWidgetButtonDecl(),"click",function(d){var e=d.data.qsUID;d=b.isMobile(e);
var f=b.isStepper(e),g=b.isSUPU(e),h=k.getQsWidgetConfiguration(e).selectedId;g&&f&&!h?a.stepperIncrement(e):d?a.showBottomSheet(e):a.showPopover(e);l.incrementShowPopup(d);b.isInitialViewDropdown(e)?l.logCsm(e,"cqd"):l.logCsm(e,"ccq");setTimeout(function(){b.saveQsWidgetDropdownTopPosition(e)},250)});f.declarative(g.getQsWidgetDropdownDecl(),"click",function(d){var e=d.data.qsUID;d=d.data.id;var f=b.isActionTriggerOnSelect(e),g=b.isTextInputRequired(e,d),h=b.isConfirmationViewEnabled(e),k=b.isQsWidgetDropdownScrolled(e);
h?k?(b.setQsWidgetDropdownScrolled(e),l.logCsm(e,"dcq_scl")):(b.clearQsWidgetDropdownScrolled(e),l.logCsm(e,"dcq")):k?l.logCsm(e,"dsq_scl"):l.logCsm(e,"dsq");a.selectOption(e,d,f&&!g.result);g.result?b.showTextInput(e,g.initialQuantityText):h&&a.showConfirmation(e)});f.declarative(g.getQsWidgetStepperIncrementDecl(),"click",function(d){d=d.data.qsUID;b.getQsWidgetPlusButtonAsComponent(d).isEnabled()&&a.stepperIncrement(d)});f.declarative(g.getQsWidgetStepperDecrementDecl(),"click",function(b){a.stepperDecrement(b.data.qsUID)});
f.declarative(g.getQsWidgetDropdownItemDecl(),"click",function(d){var e=d.data.qsUID;a.alignQsItem(e,d.data.id);b.isConfirmationViewEnabled(e)?b.getQsWidgetSummaryAtcButton(e).attr("tabindex","-1").focus():a.getBottomSheetContainer(e).attr("tabindex","-1").focus()});f.declarative(g.getQsWidgetVariationDropdownItemDecl(),"click",function(b){a.alignVariationSelectorItem(b.data.qsUID,b.data.id)});f.declarative(g.getQsWidgetDropdownDecl(),"focusin",function(b){a.showPrice(b.data.qsUID,b.data.id)});f.declarative(g.getQsWidgetDropdownDecl(),
"mouseenter",function(b){a.showPrice(b.data.qsUID,b.data.id)});f.declarative(g.getQsWidgetDropdownDecl(),"mouseleave",function(d){d=d.data.qsUID;var e=b.getSelectedQsItemId(d);a.showPrice(d,e)});f.declarative(g.getQsWidgetQuantityChangelinkDecl(),"click",function(d){d=d.data.qsUID;a.showPopover(d);l.incrementChangeLinkCount();b.saveQsWidgetDropdownTopPosition(d);l.logCsm(d,"ccl")});f.declarative(g.getQsWidgetSummaryAtcDecl(),"click",function(d){d=d.data.qsUID;a.selectConfirmation(d);b.isQsWidgetDropdownScrolled(d)?
l.logCsm(d,"atc_scl"):l.logCsm(d,"atc")});f.declarative(g.getQsWidgetTextInputDecl(),"keydown",function(a){var d=a.data.qsUID,e=a.$event.which;8==e||9==e||13==e||37<=e&&40>=e||46==e||(!(48<=e&&57>=e||96<=e&&105>=e)||a.$event.shiftKey||a.$event.altKey||a.$event.ctrlKey||a.$event.metaKey?a.$event.preventDefault():3<=b.getQsWidgetTextInputElement(d).val().length&&a.$event.preventDefault())});f.declarative(g.getQsWidgetTextInputDecl(),"keyup",function(d){var e=d.data.qsUID;b.validateQsWidgetTextInput(e)&&
13==d.$event.keyCode?(d=b.isActionTriggerOnSelect(e)||b.isStepper(e),a.validateAndSelectQuantity(e,d)):b.showTextInput(e)});f.declarative(g.getQsWidgetTextInputDecl(),"focusout",function(a){a=a.data.qsUID;if(""===b.getQsWidgetTextInputElement(a).val()){var d=(d=k.getQsWidgetConfiguration(a).selectedId)?b.getQsItem(a,d).selectedText:b.getSelectedQuantity(a);b.showTextInput(a,d);b.validateQsWidgetTextInput(a)}});f.declarative(g.getQsWidgetTextInputDecl(),"change",function(a){b.showTextInput(a.data.qsUID)});
f.declarative(g.getQsWidgetTextInputUpdateButtonDecl(),"click",function(d){var e=d.data.qsUID;b.validateQsWidgetTextInput(e)&&(e=d.data.qsUID,d=b.isActionTriggerOnSelect(e)||b.isActionTriggerOnConfirmation(e),a.validateAndSelectQuantity(e,d))});f.$(document).click(function(d){0!=b.getActivatedQsWidgets().length&&(b.isUserClickInSummary(d)||a.hideAllPopover())});f.$(u).resize(function(){a.hideAllPopover()});f.on(g.getQsWidgetEventInitialize(),function(a,b){n.initialize();if("string"==typeof b)d(a,
b);else{b=k.getQsUIDs();for(var e=0;e<b.length;e++)d(a,b[e])}});f.on(g.getQsWidgetEventLoadStatesAndInitialize(),function(){for(var a=k.getQsUIDs(),d=0;d<a.length;d++){var f=a[d];b.isInitialized(f)||p(f)}});f.on(g.getQsWidgetEventConfigureEnable(),function(a){b.enableQsWidget(a)});f.on(g.getQsWidgetEventConfigureDisable(),function(a){b.disableQsWidget(a)});f.on(g.getQsWidgetEventConfigureReset(),function(a){for(var b=k.getQsUIDs(),d=0;d<b.length;d++){var e=b[d];if("string"!==typeof a||a==e)k.reloadQsWidgetStateConfiguration(e),
f.trigger(g.getQsWidgetEventInitialize(),!0,e)}});b.hideSpinner();var r=f.now();l.logLatencyMetric("JSReady",r);return{loadStateAndInitializeWidget:p}})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("ConsumablesATCActionAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(k){var v=window.AmazonUIPageJS||window.P,w=v._namespace||v.attributeErrors,p=w?w("QuantitySliderAssets",""):v;p.guardFatal?p.guardFatal(k)(p,window):p.execute(function(){k(p,window)})})(function(k,v,w){function p(t,g){try{k.register(t,g)}catch(f){if(-1===f.message.indexOf("reregistered by QuantitySliderAssets"))throw f;}}function y(){var t=arguments;return{register:function(g,f){try{k.when.apply(k,t).register(g,f)}catch(d){if(-1===d.message.indexOf("reregistered by QuantitySliderAssets"))throw d;
}}}}k.when("QuantitySliderAssetDuplicationGuard").execute(function(t){t.when("A").register("qs-cart-count-handler",function(g){var f=g.$,d={DEFAULT:function(c,d,l,a,b){g.post("/gp/api/cart/1.0/get-cart-count.json",{timeout:5E3,params:{sessionID:c,clientName:d},success:function(b){b&&b.isOK&&b.total?f.isFunction(a)&&a(b.total.numActiveItem):k.log("Malformed get-cart-count response for sessionId\x3d"+c,"ERROR",l)},error:function(){k.log("Failed to retrieve get-cart-count response for sessionId\x3d"+
c,"ERROR",l);f.isFunction(b)&&b()}})},UFG:function(f,d,l,a,b){}};return{getTotalCartCount:function(c,g){return(f.isFunction(d[g])?d[g]:d.DEFAULT)(c.request.sessionId,c.clientName,c.attribution,c.onSuccess,c.onError)}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(t){t.when("A","quantity-slider-utils","qs-cart-update-utils").register("qs-cart-update-handler",function(g,f,d){function c(a){r||(r="quantity-slider-widget-"+a);return r}function x(a,b){if(!b.atcFormSubmitDisabled){if((a=
a.$target&&a.$target.closest(".qs-atc-form"))&&0!==a.length)return a;k.log("Missing $form object","ERROR",c(b.clientName))}}function l(b,m,c){g.trigger(f.ACTIONS.ADD_TO_CART_SUBMIT_START,{asin:b,cartType:m.cartType,clientName:m.clientName,isQSAction:c,request:m});a(b,m,!0,c)}function a(a,m,n,l){var u=m.cartType,e=JSON.stringify(l?d.getQSRequestObject(m,n,u):d.getATCRequestObject(m,u)),h=d.getAjaxUrl(m,n,u);h&&b.ajax({url:h,type:d.getHttpMethodType(n,u),data:e,headers:d.getHeadersForRequest(m,n,u),
xhrFields:{withCredentials:!0},success:function(h,e,b){h.jqXHR=b;delete q[a];(h=d.adaptResponseObject(h,m,n,m.cartType))?(f.setUpdatedQSParamsForAsinOffer(a,m.additionalParams&&m.additionalParams.storeId,{quantityInCart:h.quantity,cartItemId:h.itemId}),g.trigger(n?f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS:f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,{asin:a,cartType:m.cartType,request:m,response:h,clientName:m.clientName,attribution:c(m.clientName),isQSAction:l,isDecreaseQuantityAction:!n}),f.logUrl(m.loggingUrl)):
k.log("Invalid Response from the server","ERROR",c(m.clientName))},error:function(h){delete q[a];h=h||{};k.log("Ajax request failed with type: "+(n?"addItems":"modifyItems")+", status code: "+h.status+", error: "+h.responseText,"ERROR",c(m.clientName));g.trigger(f.ACTIONS.QS_CART_SUBMIT_ERROR,{asin:a,cartType:u,clientName:m.clientName,isQSAction:l,isDecreaseQuantityAction:!n,isMaxOrderQuantityReached:m.quantityInCart>=m.maxOrderQuantity,response:h,request:m});n&&m.$form&&m.$form.submit()}})}var b=
g.$,r="",q={};g.declarative("qs-add-to-cart-trigger","click",function(a){var b=a.data&&a.data.asin,c=f.getQsParamsFromTargetAsinOffer(a,b);a.$event&&a.$event.preventDefault();q[b]||(q[b]=!0,c.isMultipleAsinsSubmitting=1<Object.keys(q).length,c.$form=x(a,c),c.triggeringEvent=a,l(b,c,!1))});g.declarative("qs-slider-widget-trigger","click",function(b){var c=b.data&&b.data.asin,d=f.getQsParamsFromTargetAsinOffer(b,c),r=b.$target[0]&&b.$target[0].className||"",k=g.contains(r,"qs-increase-quantity")||g.contains(r,
"qs-decrease-quantity");r=g.contains(r,"qs-decrease-quantity");b.$event&&b.$event.preventDefault();k&&!q[c]&&(q[c]=!0,d.isMultipleAsinsSubmitting=1<Object.keys(q).length,d.triggeringEvent=b,r?(g.trigger(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,{asin:c,cartType:d.cartType,clientName:d.clientName,isQSAction:!0,isDecreaseQuantityAction:!0,request:d}),a(c,d,!1,!0)):(d.$form=x(b,d),l(c,d,!0)))});return{setAttribution:function(a){r=a}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(k){k.when("A",
"qs-fresh-cart-update-utils").register("qs-cart-update-utils",function(g,f){function d(h){var a=h.quantityInCart||0;return{items:[{asin:h.asinId,offerListingId:h.offerListingId,quantity:a<h.minOrderQuantity?h.minOrderQuantity-a:1}]}}function c(h,a,e){return(k.isFunction(a[e])?a[e]:a.DEFAULT)(h)}var k=g.$,l={DEFAULT:d,UFG:f.getUfgCartRequestObject},a={DEFAULT:d,UFG:f.getUfgCartRequestObject},b={DEFAULT:function(a){var h=a.quantityInCart||0;var e=a.cartItemId;e=!e||"C"!==e[0]&&"S"!==e[0]?e:e.substring(1);
return{items:[{id:e,quantity:h<=a.minOrderQuantity?0:h-1}]}},UFG:f.getUfgCartRequestObject},r={DEFAULT:function(a){return a.ajaxCartUrl},UFG:function(a){return a.addToCartUrl}},q={DEFAULT:function(a){return a.ajaxCartUrl}},u={DEFAULT:function(a){return(a=a.entity&&a.entity.items&&a.entity.items[0])?{itemId:a.id,quantity:a.quantity,isTotal:!0}:null},UFG:f.ufgCartResponseAdapter},m={DEFAULT:function(a,e){a=(e.quantityInCart||0)-1;return 0>a?null:{itemId:a?e.cartItemId:"",quantity:a,isTotal:!0}},UFG:f.ufgCartResponseAdapter},
n={DEFAULT:"POST",UFG:"POST"},t={DEFAULT:"PUT",UFG:"POST"},p={DEFAULT:function(a){return{"x-api-csrf-token":a.csrfToken,Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.add-items/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.add-items.request/v1"'}},UFG:function(a){return{"Content-Type":"application/json"}}},e={DEFAULT:function(a){return{"x-api-csrf-token":a.csrfToken,Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items/v1"',"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.modify-items.request/v1"'}},
UFG:function(a){return{"Content-Type":"application/json"}}};return{getATCRequestObject:function(a,e){return c(a,l,e)},getQSRequestObject:function(e,f,d){return c(e,f?a:b,d)},adaptResponseObject:function(a,e,b,c){b=b?u:m;return(k.isFunction(b[c])?b[c]:b.DEFAULT)(a,e)},getHttpMethodType:function(a,e){a=a?n:t;return a[e]?a[e]:a.DEFAULT},getHeadersForRequest:function(a,b,c){b=b?p:e;return(k.isFunction(b[c])?b[c]:b.DEFAULT)(a)},getAjaxUrl:function(a,e,b){return c(a,e?r:q,b)}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(k){k.when("A").register("qs-fresh-cart-update-utils",
function(g){function f(f,c){return c&&c.items?c.items.find(function(c){return c.ASIN===f}):null}return{getUfgCartRequestObject:function(f){return f.additionalInput},ufgCartResponseAdapter:function(d,c){return(c=f(c.asinId,d.clientResponseModel))?{itemId:c.itemId,quantity:c.quantity,isTotal:!0,rawResponse:d}:{itemId:"invalidItemId",quantity:0,isTotal:!0,rawResponse:d}}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(k){k.when("A","quantity-slider-utils").register("quantity-slider-metrics-handler",
function(g,f){function d(a,b){return"QuantitySliderWidget::"+a+"::"+(b?b+"::":"")}function c(a){var b=v.ue;"undefined"!==typeof b&&b.count(a,1)}function k(a,b){f.assert(a&&b.clientName,"Missing required properties while logging metrics");if(b.isQSAction)if(b.isDecreaseQuantityAction){var g=l.QS_DECREASE;a=d(b.clientName,b.cartType)+a+"::"+g;c(a)}else g=l.QS_INCREASE,a=d(b.clientName,b.cartType)+a+"::"+g,c(a);else g=l.ATC,a=d(b.clientName,b.cartType)+a+"::"+g,c(a)}var l={ATC:"ATC",QS_INCREASE:"QSIncrease",
QS_DECREASE:"QSDecrease"};return{logRequestStartMetrics:function(a){k("CountStart",a)},logRequestSuccessMetrics:function(a){k("CountSuccess",a)},logRequestErrorMetrics:function(a){k("CountError",a)},logMaxQuantityReachedMetric:function(a){a=d(a.clientName,a.cartType)+"MaxQuantityReached";c(a)},logMultipleAsinsSubmittingMetric:function(a){a=d(a.clientName,a.cartType)+"MultipleAsinsSubmitting";c(a)}}})});"use strict";k.when("QuantitySliderAssetDuplicationGuard").execute(function(k){k.when("A","quantity-slider-utils",
"qs-cart-update-handler","quantity-slider-metrics-handler").register("quantity-slider-widget",function(g,f,d,c){function k(a,b,c,d){a=n(a,b,d);c?f.disableButton(a):f.enableButton(a)}function l(a,b,c){k("."+a+"-qs-slider-button .qs-decrease-quantity",a,b,c)}function a(a,b,c){k("."+a+"-qs-slider-button .qs-increase-quantity",a,b,c)}function b(a,b,c){k("."+a+"-qs-add-to-cart-button .qs-slider-atc-button",a,b,c)}function r(a){if(a.isQSAction){var e=a.asin,b=q(a);a.isDecreaseQuantityAction?f.deselectButton(n("."+
e+"-qs-slider-button .qs-decrease-quantity",e,b)):f.deselectButton(n("."+e+"-qs-slider-button .qs-increase-quantity",e,b))}}function q(a){return(a=(a=a.request)&&a.additionalInput)&&a.storeId}function u(e){var h=e.asin,d=q(e),g=n("."+h+"-qs-slider-spinner",h,d);f.toggleDomNodeVisibility(g,!1);e.isQSAction?(l(h,!1,d),a(h,!1,d)):b(h,!1,d);r(e);h=e.asin;f.assert(h&&e.request&&e.response&&e.response.quantity!==w,"Required properties missing in payload object for UpdateQSWidget");d=q(e);t(h,e.response.quantity,
e.request.maxOrderQuantity,d);e.request.enableQuantityLimitMessage&&(h=n("."+h+"-qs-quantity-limit-message",h,d),f.toggleDomNodeVisibility(h,e.response.quantity>=e.request.maxOrderQuantity));f.updateTotalCartCountOnUI(e,e.cartType);c.logRequestSuccessMetrics(e)}function m(e){var h=e.asin,d=q(e),g=n("."+h+"-qs-slider-spinner",h,d);f.toggleDomNodeVisibility(g,!0);e.isQSAction?(l(h,!0,d),a(h,!0,d)):b(h,!0,d);c.logRequestStartMetrics(e);e.request&&e.request.isMultipleAsinsSubmitting&&c.logMultipleAsinsSubmittingMetric(e)}
function n(a,b,c){if(!c)return p(a);b="."+b+"-qs-slider-data";a=document.querySelectorAll(a);for(var e=[],d=0;d<a.length;d++){var f=a[d],h=f&&p(f).closest(".qs-widget-container");(h=(h=h&&p(h).children(b))&&p(h).data("qs-model"))&&h.additionalInput&&h.additionalInput.storeId===c&&e.push(f)}return p(e)}function t(b,c,d,g){var e=n("."+b+"-qs-add-to-cart-button",b,g),h=n("."+b+"-qs-slider-button",b,g);0<c?(f.changeATCtoQS(e,h),e=Math.min(c,d),h=n("."+b+"-qs-qty-present-in-cart",b,g),Number.isInteger(e)&&
h.html(e),a(b,c>=d,g)):(f.changeQStoATC(e,h),a(b,!1,g))}var p=g.$;Number.isInteger||(Number.isInteger=function(a){return"number"===typeof a&&isFinite(a)&&-9007199254740992<a&&9007199254740992>a&&Math.floor(a)===a});g.on(f.ACTIONS.ADD_TO_CART_SUBMIT_START,function(a){m(a)});g.on(f.ACTIONS.ADD_TO_CART_SUBMIT_SUCCESS,function(a){setTimeout(function(){u(a)},1500);a.response.quantity===a.request.maxOrderQuantity&&c.logMaxQuantityReachedMetric(a)});g.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_START,function(a){m(a)});
g.on(f.ACTIONS.REMOVE_FROM_CART_SUBMIT_SUCCESS,function(a){setTimeout(function(){u(a)},1500)});g.on(f.ACTIONS.QS_CART_SUBMIT_ERROR,function(e){var d=e.asin,g=q(e),k=n("."+d+"-qs-slider-spinner",d,g);f.toggleDomNodeVisibility(k,!1);e.isQSAction&&e.isMaxOrderQuantityReached?l(d,!1,g):e.isQSAction?(l(d,!1,g),a(d,!1,g)):b(d,!1,g);r(e);c.logRequestErrorMetrics(e)});return{ACTIONS:f.ACTIONS,CART_IDEMPOTENT_REQUEST_DELAY:1500,setAttribution:d.setAttribution,updateQuantitySliderWidget:t}})});"use strict";
k.when("QuantitySliderAssetDuplicationGuard").execute(function(p){p.when("A","qs-cart-count-handler","a-button").register("quantity-slider-utils",function(g,f,d){function c(a){return l("."+a+"-qs-slider-data").first().data("qs-model")}function p(a,b){var d=c(a);l("."+a+"-qs-slider-data").data(g.extend(d,b))}var l=g.$;return{ACTIONS:{ADD_TO_CART_SUBMIT_START:"quantity-slider:add-to-cart-start",ADD_TO_CART_SUBMIT_SUCCESS:"quantity-slider:add-to-cart-success",REMOVE_FROM_CART_SUBMIT_START:"quantity-slider:remove-from-cart-start",
REMOVE_FROM_CART_SUBMIT_SUCCESS:"quantity-slider:remove-from-cart-success",QS_CART_SUBMIT_ERROR:"quantity-slider:cart-submit-error"},assert:function(a,b){if(!a)throw Error(b);},changeATCtoQS:function(a,b){l(a).hasClass("aok-hidden")||(l(a).addClass("aok-hidden"),l(b).removeClass("aok-hidden"))},changeQStoATC:function(a,b){l(b).hasClass("aok-hidden")||(l(b).addClass("aok-hidden"),l(a).removeClass("aok-hidden"))},disableButton:function(a){d(l(a)).disable()},deselectButton:function(a){a=d(l(a));a.isEnabled()&&
a.setStatus("normal")},enableButton:function(a){d(l(a)).enable()},getQSParamsForAsin:c,getQsParamsFromTargetAsinOffer:function(a,b){var d="."+b+"-qs-slider-data";return(d=(a=a.$event&&l(a.$event.target).closest(".qs-widget-container"))&&a.children(d).data("qs-model"))?d:c(b)},setUpdatedQSParamsForAsin:p,setUpdatedQSParamsForAsinOffer:function(a,b,d){b?l("."+a+"-qs-slider-data").map(function(a,c){a=l(c);(c=a.data("qs-model"))&&c.storeId===b&&a.data(g.extend(c,d))}):p(a,d)},toggleDomNodeVisibility:function(a,
b){b?l(a).removeClass("aok-hidden"):l(a).addClass("aok-hidden")},updateTotalCartCountOnUI:function(a,b){a=g.extend({},a);a.onSuccess=function(a){v.$Nav&&v.$Nav.when("api.setCartCount").run(function(b){b(a)});k.when("mash").execute("quantity-slider-mash-update",function(b){b.cart&&l.isFunction(b.cart.didUpdate)&&b.cart.didUpdate({newCartQuantity:a})})};f.getTotalCartCount(a,b)},logUrl:function(a){a&&g.post(a)}}})});"use strict";p("QuantitySliderAssetDuplicationGuard",function(){return{register:p,when:y}})});
/* ******** */
(function(e){var g=window.AmazonUIPageJS||window.P,t=g._namespace||g.attributeErrors,n=t?t("ALMCartActionAssets",""):g;n.guardFatal?n.guardFatal(e)(n,window):n.execute(function(){e(n,window)})})(function(e,g,t){function n(d,b){try{e.register(d,b)}catch(c){if(!c.message.includes("reregistered by ALMCartActionAssets"))throw c;}}function B(){var d=arguments;return{register:function(b,c){try{e.when.apply(e,d).register(b,c)}catch(a){if(!a.message.includes("reregistered by ALMCartActionAssets"))throw a;
}}}}e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("alm-cart-action-query-string-utils",function(b){function c(c,d){var u=f(c),k=a(c);u?d["discoveredAsins.0"]=c.asin:k&&(c=b.filter(c.items,function(a){return f(a)}),c=b.map(c,function(a){return a.asin}),b.each(c,function(a,f){d["discoveredAsins."+f.toString()]=a}));return d}function a(a){return a&&a.items&&b.$.isArray(a.items)&&0<a.items.length}function f(a){return a&&a.asin&&"string"===typeof a.asin&&""!==a.asin}
return{addQueryStringParamsToUrl:function(a,f){var d={};if(f&&f.reftag){var k=f.reftag;"string"===typeof k&&""!==k&&(d.ref_=k)}if(f&&f.queryLogInfoParams){k=f.queryLogInfoParams;for(var h in k)k.hasOwnProperty(h)&&"string"===typeof h&&""!==h&&"string"===typeof k[h]&&""!==k[h]&&(d[h]=k[h])}c(f,d);(f=b.$.param(d))&&"string"===typeof f&&""!==f&&(a+="?"+f);return a}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","jQuery").register("afx-add-all-helper",function(b,
c){return{updateQuantityForAsin:function(a,f,b){a&&f&&!isNaN(b)&&c("#"+a).closest("form").find("#afx-add-all-"+f+"-quantity").attr("value",b)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","jQuery","a-button").register("fx-atfc-button-utils",function(b,c,a){function f(a){return a.not(".aok-hidden").not(".non-spinner")}function d(a){return"atfc-spinner-"+(a.asin?a.asin:a.clientId?a.clientId:"noAsin")}var e=!1;return{hideButtonAndRenderSpinner:function(a){var b=
a.$currentTarget.find(".a-button");if(b&&b.length){e=!0;a=d(a.data);var h=f(b);h&&a.length&&(h.wrap('\x3cdiv id\x3d"'+a+'" class\x3d"atfc-spinner"\x3e\x3c/div\x3e'),c("#"+a).css({width:h.outerWidth()+"px"}),c("#"+a).css({height:h.outerHeight()+"px"}));b.css("visibility","hidden")}},showButtonAndRemoveSpinner:function(a){var b=a.$currentTarget.find(".a-button");a=d(a.data);a=c("#"+a);b&&b.length&&a&&a.length&&(e=!1,(a=f(b))&&a.length&&a.unwrap(),b.css("visibility","visible"))},shouldDisableButtonClicks:function(){return e}}})});
"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("fresh-shared-add-to-cart-v2","qs-fresh-shared-add-to-cart").register("fresh-add-to-cart",function(b,c){function a(a){b.attachCallbacks(a)}b.initialize("desktop");c.initialize("desktop");return{addToFreshCart:function(f){a(f)},attachCallbacks:a,updateAddAllQuantityForAsin:b.updateAddAllQuantityForAsin,updateQuantity:b.updateQuantity}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("shared-alm-multi-add-to-cart").register("alm-multi-add-to-cart",
function(b){function c(a){b.attachCallbacks(a)}b.initialize("desktop");return{multiAddToCart:function(a){c(a)},attachCallbacks:c,attachPreHandler:function(a){b.attachPreHandler(a)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","alm-cart-action-query-string-utils").register("afx-atfc-v2-proxy",function(b,c){return{addToFreshCart:function(a){var f=c.addQueryStringParamsToUrl("/alm/addtofreshcart",a.data);b.$.ajax(f,{type:"POST",contentType:"application/json",
data:JSON.stringify(a.data)}).done(a.success).fail(a.error)},showGenericErrorModal:function(a){b.post("/alm/atfcGenericErrorModal/",{timeout:5E3,success:a.success,error:a.error})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("fx-atfo-proxy",function(b){return{addToFreshOrder:function(c){var a="/fom/add-to-fresh-order";c.reftag!==t&&(a+="/ref\x3d"+c.reftag);c.data!==t&&c.data.csrfToken&&(a+="?csrf\x3d"+encodeURIComponent(c.data.csrfToken));
b.post(a,{success:c.success,error:c.error,params:JSON.stringify(c.data),paramsFormat:"json",contentType:"application/json"})},getFallbackErrorModalHtml:function(){return{header:"Item was not added to the order",errorMessage:"We're sorry, there was an error and \x3cb\x3ethis item was not added to your order.\x3c/b\x3e Please try again.",footer:"\x3cspan class\x3d'a-declarative' data-action\x3d'a-popover-close'data-a-popover-close\x3d'{}'\x3e\n\x3cspan class\x3d'a-button primary-fresh-btn'\x3e\x3cspan class\x3d'a-button-inner'\x3e\x3cinput class\x3d'a-button-input'type\x3d'submit'\x3e\x3cspan class\x3d'a-button-text' aria-hidden\x3d'true'\x3eOK\n\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e"}}}})});
"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("afx-atfc-cart-conflicts-proxy",function(b){function c(a){a.ref=a.reftag;a.client="atfc";return a}return{getConflictSummary:function(a){var f=c(a.data);b.post("/afx/cartconflicts/getconflictsummary",{timeout:5E3,success:a.success,error:a.error,params:f})},resolve:function(a){var f=c(a.data);b.post("/afx/cartconflicts/resolve",{timeout:5E3,success:a.success,error:a.error,params:f})},substitute:function(a){a=
c(a.data);a.sourceUrl=g.location.pathname+g.location.search;a=b.$.param(a);g.location.href="/afx/cartconflicts/resolve/substitute?"+a}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("afx-get-cart-count",function(b){return function(c){b.get("/alm/addtofreshcart/cartcount",{timeout:5E3,success:function(a){c.success&&c.success({isOK:!0,total:{numActiveItem:a.cartCount}})},error:function(a){c.error&&c.error(a)}})}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A",
"alm-cart-action-query-string-utils").register("alm-multi-add-to-cart-proxy",function(b,c){return{multiAddToCart:function(a){var f=c.addQueryStringParamsToUrl("/alm/addtocart/multiple",a.data);b.$.ajax(f,{type:"POST",contentType:"application/json",data:JSON.stringify(a.data)}).done(a.success).fail(a.error)}}})});"use strict";n("ALMCartActionAssetDuplicationGuard",function(){return{register:n,when:B}});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("afx-callbacks-helper",
function(b){function c(f){var b=f in a;!b&&e.log("Unable to retrieve callback for "+f,"Error");return b}var a={};return{addCallbacks:function(b){a[b.clientID||"default"]=b},success:function(b,d,e){b=b in a?b:"default";c(b)&&a[b].success&&a[b].success(d,e)},error:function(b,d,e,g){b=b in a?b:"default";c(b)&&a[b].error&&a[b].error(d,e,g)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("afx-preHandler-helper",function(b){var c={};return{addPreHandler:function(a){c[a.clientID||
"default"]=a},getPreHandler:function(a){return c[a]}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("afx-csm-metrics-utils",function(){var b={},c=function(a,b){g.ue&&g.ue.count&&a&&b&&g.ue.count(a,b)};return{startWidgetTimer:function(a){b[a]=Date.now()},endWidgetTimer:function(a,f){a=Date.now()-b[a];c(f,a)},setWidgetClickTimestamp:function(a){g.ue&&g.uet&&a&&g.uet("tc",a,{wb:1})},setWidgetTimestamp:function(a,b){g.ue&&g.uet&&a&&b&&g.uet(a,b,{wb:1})},
increment:function(a){g.ue&&g.ue.count&&a&&g.ue.count(a,(g.ue.count(a)||0)+1)},setCount:c,sendWidgetMetrics:function(a){g.ue&&g.uex&&a&&g.uex("ld",a,{wb:1})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("add-to-cart-common-utils",function(){return{vibrate:function(){return g.amazon&&g.amazon.cordova&&g.amazon.cordova.notification&&g.amazon.cordova.notification.vibrate&&g.amazon.cordova.notification.vibrate(50)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A",
"a-modal").register("fresh-atfc-modal-utils",function(b,c){return{removeModal:function(){var a=c.get("fresh-add-to-cart-modal");a&&c.remove(a)},showModal:function(a,f,d){f&&(f={name:"fresh-add-to-cart-modal",header:f.header,inlineContent:f.body,footer:f.footer},"desktop"===d&&(f.width=325),c.create(a.$currentTarget,f).show(),b.on("a:popover:afterHide:".concat("fresh-add-to-cart-modal"),function(a){c.remove(a.popover)}))}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A",
"jQuery","afx-atfc-v2-proxy","afx-csm-metrics-utils","afx-metrics-helper","afx-quantity-helper","fresh-atfc-ewc-helper").register("fresh-atfc-error-modal-utils",function(b,c,a,f,d,g,l){function k(a,c,f,d){e.when("a-modal").execute("showModal",function(e){c||h(a);a.data.quantity&&(g.updateQuantity("fresh-clear-slot-button",a.data.quantity),g.updateQuantity("alcohol-warning-fresh-add-to-cart-button",a.data.quantity));var m={name:"fresh-add-to-cart-error-modal",header:c.header,inlineContent:c.errorMessage,
footer:c.footer,data:{event:a,response:d}};"desktop"===f&&(m.width=325);e.create(a.$currentTarget,m).show();b.on("a:popover:afterHide:".concat("fresh-add-to-cart-error-modal"),function(b){l.refreshCart(a.data.sessionID);e.remove(b.popover)})})}function h(b,f){a.showGenericErrorModal({success:function(a,d,e){a&&(a=c.parseJSON(e.http.response),u(b,a,f))},error:function(){e.log("Failed to get the generic error modal","Error");k(b,{header:"Item was not added to the cart",errorMessage:"We're sorry, there was an error and \x3cb\x3ethis item was not added to your cart.\x3c/b\x3e Please try again.",
footer:'\x3cspan class\x3d"a-declarative" data-action\x3d"a-popover-close"data-a-popover-close\x3d"{}"\x3e\n\x3cspan class\x3d"a-button primary-fresh-btn"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input"type\x3d"submit"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3eOK\n    \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\n\x3c/span\x3e'},f)}})}function m(a,b){return a.data.asin&&a.data.storeId&&b.clientResponseModel&&b.clientResponseModel.items&&(b=b.clientResponseModel.items.filter(function(b){return b.ASIN===
a.data.asin&&b.storeId===a.data.storeId}),1===b.length&&b[0].hasOwnProperty("amountInCart"))?parseFloat(b[0].amountInCart):0}function u(a,c,e){var h=c.errorModalHtml,g=d.getMetricsForDevice(e);c.clientResponseModel&&c.clientResponseModel.uberCartStatus&&c.clientResponseModel.uberCartStatus.errorStatusCode in g&&f.increment(g[c.clientResponseModel.uberCartStatus.errorStatusCode]);a.data.qsUID&&(g=m(a,c),null!=g&&b.trigger("quantity-selector-widget:selectQuantity",a.data.qsUID,g,!1));k(a,h,e,c)}return{removeModal:function(){e.when("a-modal").execute("removeModal",
function(a){var b=a.get("fresh-add-to-cart-error-modal");b&&a.remove(b)})},showModal:k,showGenericErrorModal:h,parseResponseAndShowErrorModal:u}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","jQuery","afx-atfc-v2-proxy","afx-get-cart-count").register("fresh-atfc-ewc-helper",function(b,c,a,f){function d(a){f({sessionID:a,success:function(a){a&&a.isOK&&a.total&&g(a.total.numActiveItem)},error:function(){e.log("Failed to get cart count","Error",a)}})}function g(a){e.when("nav.setCartCount").execute(function(b){b(a)});
e.when("mash").execute(function(b){b.cart&&"function"===typeof b.cart.didUpdate&&b.cart.didUpdate({newCartQuantity:a})})}var l;e.when("EWC").execute("add-to-cart-refresh",function(a){l=a});e.when("nav.getFlyout").execute(function(a){a("ewc")});return{refreshCart:function(a){l!==t&&"function"===typeof l.refresh?l.refresh():d(a)}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","afx-storeIntroductionSheet-helper","afx-cpi-helper").register("f3-consumables-atc-helper",
function(b,c,a){return{handleAddToCart:function(f,d,e){d.storeIntroductionSheetHtml&&d.storeIntroductionSheetHtml.content?c.render(f,d,e):d.renderUFGCartProgressIndicator?a.render(f):b.trigger("fresh-atfc:success","false",{almBrandId:f.brandId})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.register("afx-metrics-helper",function(){var b={ATFC_COUNT:"afxAddToFreshCartCount",ALM_MULTI_ATC_COUNT:"almMultiAddToCartCount",ATFC_SUCCESSFUL_ADD_COUNT:"afxAddToFreshCartSuccessfulAddCount",
ALM_MULTI_ATC_COUNT_SUCCESS:"almMultiAddToCartCountSuccess",ATFC_ERROR_MODAL_COUNT:"afxAddToFreshCartErrorModalCount",ALM_MULTI_ATC_COUNT_ERROR_MODAL:"almMultiAddToCartCountErrorModal",ATFC_UNEXPECTED_ERROR_COUNT:"afxAddToFreshCartUnexpectedErrorCount",ALM_MULTI_ATC_COUNT_ERROR_UNEXPECTED:"almMultiAddToCartCountErrorUnexpected",ATFC_LATENCY_SCOPE:"afxAddToFreshCartLatencyScope",ATFC_ERROR_MODAL_LATENCY_SCOPE:"afxAddToFreshCartErrorModalLatencyScope",ATFC_CTCF:"afxAddToFreshCartCTCF",ATFC_STORE_INTRODUCTION_SHEET:"afxStoreIntroductionSheet",
ATFC_OCX_STORE_INTRODUCTION_SHEET:"afxOfferComparisonStoreIntroductionSheet",CLEAR_SLOT_ATFC_CTCF:"afxClearSlotAndAddToFreshCartCTFC",CART_SERVICE_RESPONSE_FALSE:"afxCartServiceResponseIsNotOKErrorCount",ITEM_NOT_AVAILABLE:"afxItemNotAvailableErrorModalCount",ITEM_PARTIALLY_AVAILABLE:"afxItemPartiallyAvailableErrorModalCount",ITEM_PARTIALLY_AVAILABLE_FOR_RESERVATION:"afxItemPartiallyAvailableErrorModalCount",ADDRESS_NOT_SELECTED:"afxAddressNotSelectedErrorCount",INPUT_INVALID:"afxGeneralErrorModalCount",
ITEM_NOT_AVAILABLE_FOR_RESERVATION:"afxItemNotAvailableForReservationErrorModalCount",INTERNAL_SERVER_ERROR:"afxGeneralErrorModalCount",PRICE_UNAVAILABLE:"afxItemNotAvailableErrorModalCount",QUANTITY_OVERFLOW:"afxUniqueItemQuantityOverflowErrorModalCount"};return{getMetricsForDevice:function(c){var a={};Object.keys(b).forEach(function(f){a[f]=b[f]+":"+c});return a}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("afx-quantity-helper",function(b){var c=
{};return{updateQuantity:function(a,b){"undefined"!==typeof a&&null!==a&&!isNaN(b)&&0<b&&(c[a]=b||1)},getQuantity:function(a){a=a.closest(".a-button");return 0<a.length?c[a.attr("id")]||1:1}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","afx-csm-metrics-utils","afx-metrics-helper").register("afx-storeIntroductionSheet-helper",function(b,c,a){function d(a,b){var c=b?400:190;e.when("a-sheet").execute(function(d){d.create({inlineContent:a,closeType:"icon",
height:c}).show();g("mobile",b)})}function g(b,d){b=a.getMetricsForDevice(b);d?c.increment(b.ATFC_OCX_STORE_INTRODUCTION_SHEET):c.increment(b.ATFC_STORE_INTRODUCTION_SHEET)}function y(){b.show(b.$("#sis-background"));b.$("body").css({overflow:"hidden"});b.$("#offer-comparison-store-introduction-side-sheet-container").show(function(){k({right:"0px"})});g("desktop",!0)}function l(){var a=b.$("#offer-comparison-store-introduction-side-sheet-container").width()+30;k({right:"-"+a+"px"},function(){b.$("#offer-comparison-store-introduction-side-sheet-container").remove()});
b.$("body").css({overflow:"scroll"});b.hide(b.$("#sis-background"));b.$("#offer-comparison-store-introduction-side-sheet-background-container").remove()}function k(a,c){b.animate(b.$("#offer-comparison-store-introduction-side-sheet-container"),a,300,"ease-out",c)}b.declarative("close-offer-comparison-store-introduction-side-sheet","click",function(a){l()});return{render:function(a,c,f){c=c.storeIntroductionSheetHtml.content;a=a.additionalParams&&a.additionalParams.shouldRenderSIS;"mobile"===f?d(c,
a):"desktop"===f&&(b.$("body").append(c),y())}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A").register("afx-cpi-helper",function(b){return{render:function(c){b.trigger("consumables-atc:success",{atcAction:{ASIN:c.asin,numberOfItems:c.quantity,operationType:"ADDED"},programDetails:{programType:"UFG",brandId:c.brandId,storeId:c.storeId},requestOverrides:{responseType:"HTML","cart-progress-indicator":{messageType:"topsheet"}}})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A",
"afx-atfc-cart-conflicts-proxy").register("afx-atfc-cart-conflicts-executor",function(b,c){return{execute:function(a){c.getConflictSummary({data:a.data,success:function(d,e,g){!0===d.isSuccess?!0===d.hasConflicts?c.substitute({data:a.data}):c.resolve({data:a.data,success:function(){b.trigger("fresh-cart-conflict-resolution:success");location.reload()},error:a.error}):a.error(g,e,"Failed to call getconflictsummary")},error:a.error})}}})});"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A",
"afx-atfc-v2-proxy","fx-atfo-proxy","fx-atfc-button-utils","afx-csm-metrics-utils","afx-metrics-helper","afx-quantity-helper","afx-callbacks-helper","afx-atfc-cart-conflicts-executor","fresh-atfc-error-modal-utils","fresh-atfc-ewc-helper","afx-add-all-helper","f3-consumables-atc-helper","add-to-cart-common-utils").register("fresh-shared-add-to-cart-v2",function(b,c,a,d,g,y,l,k,h,m,z,p,C,q){return{updateQuantity:l.updateQuantity,attachCallbacks:k.addCallbacks,updateAddAllQuantityForAsin:p.updateQuantityForAsin,
initialize:function(f){function w(a){return a.isItemSoldByCount?!JSON.parse(a.isItemSoldByCount):a.pickingStrategy?"bulk"===a.pickingStrategy||"catch"===a.pickingStrategy:!1}function p(a,b,e,h){q.vibrate();a.data.amountInUom===t&&w(a.data)&&(a.data.amountInUom=a.data.quantity,a.data.quantity=1);c.addToFreshCart({data:a.data,success:function(c,x,h){200===h.status&&(g.increment(r.ATFC_SUCCESSFUL_ADD_COUNT),x=r.ATFC_CTCF+":lineItemBucket:"+n(c),g.endWidgetTimer(b,x),z.refreshCart(a.data.sessionID),k.success(a.data.clientID,
a,c.clientResponseModel),C.handleAddToCart(a.data,c,f));m.removeModal();d.showButtonAndRemoveSpinner(a);e&&e()},error:function(c,e,x){var A=r.ATFC_CTCF,w=c.responseText;m.removeModal();if(w){var l=JSON.parse(w);A=r.ATFC_CTCF+":lineItemBucket:"+n(l.clientResponseModel)}400===c.status&&l?(g.increment(r.ATFC_ERROR_MODAL_COUNT),m.parseResponseAndShowErrorModal(a,l,f)):403===c.status?location.reload():(g.increment(r.ATFC_UNEXPECTED_ERROR_COUNT),m.showGenericErrorModal(a,f),k.error(a.data.clientID,a,c,
e,x));g.endWidgetTimer(b,A);d.showButtonAndRemoveSpinner(a);h&&h()}})}function u(a,c){g.startWidgetTimer(c);b.post("/afx/slotselection/cancel",{timeout:5E3,params:{token:a.data.additionalParams.csrfToken},success:function(){a.data.quantity=l.getQuantity(a.$target);p(a,c,function(){location.reload()})},error:function(){e.log("Failed to clear reservation");m.showGenericErrorModal(a,f)}})}function n(a){return a.items&&Math.ceil(a.items.length/5)}var r=y.getMetricsForDevice(f),v=r.ATFC_LATENCY_SCOPE+
Date.now();b.on("quantity-selector-widget:action:AddToCartAction",function(a){a.additionalParams&&(a.additionalParams=b.$.parseJSON(a.additionalParams));a.queryLogInfoParams&&(a.queryLogInfoParams=b.$.parseJSON(a.queryLogInfoParams));var c={data:a};if(a.tunneledData&&a.tunneledData.$target){var f=a.tunneledData.$target;c=b.$.extend(c,{$target:f,$currentTarget:f,$declarativeTarget:f});delete a.tunneledData}else a=b.$("#qs-widget-button-container-"+a.qsUID),c=b.$.extend(c,{$target:a,$currentTarget:a,
$declarativeTarget:a}),d.hideButtonAndRenderSpinner(c);p(c,v)});b.declarative("fresh-clear-slot","click",function(a){a.$currentTarget.context.disabled=!0;u(a,v)});b.declarative("fresh-add-to-cart","click",function(a){g.startWidgetTimer(v);g.increment(r.ATFC_COUNT);d.shouldDisableButtonClicks()||a.$currentTarget.find("input").is(":disabled")||(d.hideButtonAndRenderSpinner(a),a.data.qsUID?b.trigger("quantity-selector-widget:triggerAction",a.data.qsUID,"AddToCartAction",{$target:a.$currentTarget}):(a.data.quantity=
l.getQuantity(a.$target),p(a,v)))});b.declarative("fresh-add-to-cart-alcohol","click",function(a){a.$currentTarget.context.disabled=!0;g.startWidgetTimer(v);a.data.quantity=l.getQuantity(a.$target);p(a,v)});b.declarative("fresh-add-to-cart-regions-resolve","click",function(a){a.$currentTarget.context.disabled=!0;m.removeModal();h.execute({data:a.data,error:function(b,c,d){m.showGenericErrorModal(a,f);k.error(a.data.clientID,a,b,c,d)}})});b.declarative("fresh-add-to-order","click",function(b){d.shouldDisableButtonClicks()||
(d.hideButtonAndRenderSpinner(b),q.vibrate(),a.addToFreshOrder({data:b.data,success:function(a,c,f){200===f.http.status&&k.success(b.data.clientID,b,a.clientResponseModel);d.showButtonAndRemoveSpinner(b)},error:function(c,e,g){m.removeModal();if(400===c.http.status)c=JSON.parse(c.responseText),m.parseResponseAndShowErrorModal(b,c,f);else if(401===c.http.status)location.reload();else{var h=a.getFallbackErrorModalHtml();m.showModal(b,h,f);k.error(b.data.clientID,b,c,e,g)}d.showButtonAndRemoveSpinner(b)}}))})}}})});
"use strict";e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","alm-multi-add-to-cart-proxy","fx-atfc-button-utils","afx-csm-metrics-utils","afx-metrics-helper","afx-callbacks-helper","afx-preHandler-helper","fresh-atfc-error-modal-utils","fresh-atfc-ewc-helper","f3-consumables-atc-helper","add-to-cart-common-utils").register("shared-alm-multi-add-to-cart",function(b,c,a,d,e,g,l,k,h,m,z){return{attachCallbacks:g.addCallbacks,attachPreHandler:l.addPreHandler,initialize:function(f){function p(e,
l,p,n){z.vibrate();c.multiAddToCart({data:e.data,success:function(c,l,n){200===n.status&&(d.increment(q.ALM_MULTI_ATC_COUNT_SUCCESS),h.refreshCart(e.data.sessionID),b.trigger("multipleAddToCart:success",e.data),g.success(e.data.clientId,e,c),m.handleAddToCart(e.data,c,f));k.removeModal();a.showButtonAndRemoveSpinner(e);p&&p()},error:function(b,c,m){a.showButtonAndRemoveSpinner(e);var h;k.removeModal();b.responseText&&(h=JSON.parse(b.responseText));400===b.status&&h?(d.increment(q.ALM_MULTI_ATC_COUNT_ERROR_MODAL),
k.parseResponseAndShowErrorModal(e,h,f)):403===b.status?location.reload():(d.increment(q.ALM_MULTI_ATC_COUNT_ERROR_UNEXPECTED),k.showGenericErrorModal(e,f));g.error(e.data.clientId,e,b,c,m);n&&n()}})}var q=e.getMetricsForDevice(f),n=q.ATFC_LATENCY_SCOPE+Date.now();b.declarative("alm-multi-add-to-cart","click",function(b){d.increment(q.ALM_MULTI_ATC_COUNT);var c=l.getPreHandler(b.data.clientId);c&&c.preHandle&&(c=c.preHandle(b))&&(b=c);c=b.$currentTarget.find("input");!b.data.items||1>b.data.items.length||
a.shouldDisableButtonClicks()||c.is(":disabled")||(a.hideButtonAndRenderSpinner(b),p(b,n))})}}})});e.when("ALMCartActionAssetDuplicationGuard").execute(function(d){d.when("A","f3-consumables-atc-helper","fresh-atfc-ewc-helper","afx-callbacks-helper","fresh-atfc-error-modal-utils","add-to-cart-common-utils").register("qs-fresh-shared-add-to-cart",function(b,c,a,d,e,g){return{initialize:function(f){function k(a){return"UFG"==a.cartType&&a.response&&a.request&&a.request.additionalInput?!0:!1}function h(b){if(k(b)&&
b.response.rawResponse){var g=b.response.rawResponse,h=g.jqXHR,m=b.request,l=m.triggeringEvent;l.data=m.additionalInput;200===h.status&&(a.refreshCart(m.sessionId),d.success(b.clientName,l,g.clientResponseModel),c.handleAddToCart(l.data,g,f));e.removeModal()}}b.on("quantity-slider:add-to-cart-start",function(a){g.vibrate()});b.on("quantity-slider:remove-from-cart-start",function(a){g.vibrate()});b.on("quantity-slider:remove-from-cart-success",function(a){h(a)});b.on("quantity-slider:add-to-cart-success",
function(a){h(a)});b.on("quantity-slider:cart-submit-error",function(a){if(k(a)){var b=a.request.triggeringEvent,c=a.response,g=c.responseText,h;e.removeModal();g&&(h=JSON.parse(g));b.data=a.request.additionalInput;400===c.status&&h?e.showModal(b,h.errorModalHtml,f):403===c.status?location.reload():(e.showGenericErrorModal(b,f),d.error(a.clientName,b,c,"error",c.statusText))}})}}})})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,m=f._namespace||f.attributeErrors,c=m?m("APEAdaptiveSkyscraperWidgetAssets",""):f;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,f,m){"use strict";e.when("Rush","s-web-application-controller","ape-adaptive-skyscraper-constants","ape-adaptive-skyscraper-execute","ape-adaptive-skyscraper-metrics","s-skyscraper-slot","af").execute("ape-adaptive-skyscraper",function(c,f,e,u,B){function v(){try{u.execute()}catch(b){B.incrementMetric(e.METRIC_ERROR)}}
c.on(f.ACTIONS.LOAD_SEARCH_PAGE_COMPLETE,function(){setTimeout(v,e.PAGINATION_EXECUTE_TIMEOUT)});v()});"use strict";e.register("ape-adaptive-skyscraper-constants",function(){return{RESEND_ACTIVATE_EVENT_TIMEOUT:600,PAGINATION_EXECUTE_TIMEOUT:600,METRIC_DONE:"adplacements:adaptive-skyscraper:done",METRIC_ERROR:"adplacements:adaptive-skyscraper:error",METRIC_NO_ADAP_SKYS:"adplacements:adaptive-skyscraper:no-adaptive-skyscrapers",METRIC_NO_BLOCKING:"adplacements:adaptive-skyscraper:no-blocking-elements",
METRIC_NO_SPACE:"adplacements:adaptive-skyscraper:no-space"}});"use strict";e.when("ape-adaptive-skyscraper-constants","ape-adaptive-skyscraper-metrics","A").register("ape-adaptive-skyscraper-execute",function(c,e,m){function u(e){function f(){var b=e.querySelector("iframe");b&&b.contentWindow&&b.contentWindow.postMessage&&m.$.isFunction(b.contentWindow.postMessage)&&b.contentWindow.postMessage(JSON.stringify({action:"TRIGGER",eventName:"adaptiveSkyReady"}),"*")}f();setTimeout(f,c.RESEND_ACTIVATE_EVENT_TIMEOUT)}
return{execute:function(){function m(){function a(a){a=q[String(a)].querySelector("div");a.style.display="none";a.style.marginTop=""}function d(a,d){a=q[String(a)].querySelector("div");a.style.display="block";a.style.marginTop=String(d)+"px"}var h,l;h=1;for(l=0;h<n&&l<r.length;h++)"active"!==t[h]?a(h):(d(h,r[l]),l++);for(;h<n;h++)a(h)}function v(a){var d;if(a.data){try{d=JSON.parse(a.data)}catch(h){d={}}d&&d.frameId&&d.action&&"COLLAPSE"===d.action&&(a=x[d.frameId],"number"===typeof a&&0!==a&&(t[a]=
"inactive",m()))}}var b,q={},y,r=[],z,x={},n=0,A=f.innerHeight,w=[],t={};b={tops:[],bottoms:[]};b=function(){var a={},d,h,l,p={},b=0,g={},k=document.getElementsByClassName("slot\x3dSKYSCRAPER template\x3dSAFE_FRAME");0>=k.length&&(k=document.getElementsByClassName("slot\x3dLEFT template\x3dSAFE_FRAME"));for(l=0;l<k.length;l++)d=k[l].children[0],h=d.getElementsByTagName("iframe")[0].getAttribute("data-frame-id"),a[b]=d,p[h]=b,g[b]="active",b++;return{cachedFrameContainers:a,numByFrameId:p,numSkyscrapers:b,
skyscraperStates:g}}();q=b.cachedFrameContainers;x=b.numByFrameId;n=b.numSkyscrapers;t=b.skyscraperStates;1>=n?function(a,d){e.incrementMetric(c.METRIC_NO_ADAP_SKYS);d&&u(a["0"])}(q,1===n):(z=Math.ceil(q["0"].offsetTop+619+A),y=function(){var a=document.getElementsByClassName("s-result-list");if(0>=a.length)return 0;a=a[a.length-1];return Math.ceil(a.offsetTop+a.offsetHeight)}(),b=document.getElementsByClassName?document.getElementsByClassName("AdHolder"):document.querySelector(".AdHolder"),(!b||
b.length&&0>=b.length)&&e.incrementMetric(c.METRIC_NO_BLOCKING),b=function(a,d,h){var b=[h],p=[d],e={},g={},k,c,f;if(0>=a.length)return{tops:b,bottoms:p};for(k=0;k<a.length;k++)c=Math.floor(a[k].offsetTop),f=Math.ceil(c+a[k].offsetHeight),c>d&&c<h&&!e[c]&&(b.push(c),e[c]=!0),f>=d&&f<h&&!g[f]&&(p.push(f),g[f]=!0);[b,p].forEach(function(a){a.sort(function(a,d){return a-d})});return{tops:b,bottoms:p}}(b,z,y),w=function(a,d){for(var h=[],b=0,c=0,f=0,g=a.length+d.length,k,e;f<g&&c<d.length&&b<a.length;)f++,
k=d[c],e=a[b],k>=e?b++:c<d.length-2&&d[c+1]<e?c++:619>e-k?c++:(h.push([k,e]),c++,b++);return w=h}(b.tops,b.bottoms),r=function(a,d,b,c){var e=[];d=d.reverse();var f=1;a=Number(a.offsetTop);var g,k;if(0>=d.length)return e;for(g=d.pop();f<b&&g;)g[0]<a&&(g[0]=a),g[0]>g[1]||619>g[1]-g[0]?((k=d.pop())&&g[0]>k[0]&&(k[0]=g[0]),g=k):(e.push(g[0]-a-619),f++,a=g[0],g[0]+=619+c);return e}(q["0"],w,n,A),function(a,d){var b;if(!(a.length>=d||(a=d-a.length-1,0>=a)))for(b=0;b<a;b++)t[d-b-1]="inactive"}(r,n),0>=
r.length&&e.incrementMetric(c.METRIC_NO_SPACE),function(a,b,c,e){function f(a){return function(b){try{a(b)}catch(d){}}}a.addEventListener?a.addEventListener(b,f(c),!0===e):a.attachEvent&&a.attachEvent("on"+b,f(c))}(f,"message",v),m(),function(a,b){var c;for(c=0;c<a;c++)"active"===b[c]&&u(q[String(c)])}(n,t),e.incrementMetric(c.METRIC_DONE))}}});"use strict";e.register("ape-adaptive-skyscraper-metrics",function(){return{incrementMetric:function(c){f.ue&&f.ue.count&&c&&f.ue.count(c,(f.ue.count(c)||
0)+1)}}})});
/* ******** */
(function(r){var u=window.AmazonUIPageJS||window.P,q=u._namespace||u.attributeErrors,f=q?q("SponsoredBrandsVideoAssets",""):u;f.guardFatal?f.guardFatal(r)(f,window):f.execute(function(){r(f,window)})})(function(r,u,q){r.when("A","rush-framework","sbv-single-product","sbv-slideshow-product-mixin").register("sbv-slideshow-single-product",function(f,p,k,g){var c=function(){this.attribution=this.name="sbv-slideshow-single-product"};f.mixin(c.prototype,g);var e=new c;p.registerComponent(e.name,e.attribution,
function(b){var c=f.$(b.elem()),a=c.find(".sbv-product:first"),a=0===a.length?c.children().get(-1):a.get(0);e.setup(e.attribution,c,a,b,k)})});"use strict";r.when("A","rush-framework","sbv-single-product","sbv-multi-brand-video-mixin").register("sbv-multi-brand-video",function(f,p,k,g){var c=function(){this.attribution=this.name="sbv-multi-brand-video"};f.mixin(c.prototype,g);var e=new c;p.registerComponent(e.name,e.attribution,function(b){var c=f.$(b.elem());e.setup(e.attribution,c,null,null,b,k,
null)})});r.when("A","base-mixin","sbv-multi-brand-video-carousel").register("sbv-multi-brand-video-mixin",function(f,p,k){return{setup:function(g,c,e,b,h,a,d){e=c.find(".sbv-mbv-carousel-container");c=p.setup(g,c,h).build();c.reportAceVideoResponseReceived();k.initialize(e,c,g,h.prop("instrumentationPixelUrl"))}}});"use strict";r.when("A","rush-framework","sbv-video-single-mixin","sbv-single-product","sbv-store-ingress").register("sbv-video-single-product",function(f,p,k,g,c){var e=function(){this.attribution=
this.name="sbv-video-single-product"};f.mixin(e.prototype,k);var b=new e;p.registerComponent(b.name,b.attribution,function(e){var a=f.$(e.elem()),d=a.find(".sbv-product:first").get(0),n=a.find(".sbv-store-ingress:first").get(0);b.setup(b.attribution,a,d,n,e,g,c)})});"use strict";r.when("A","rush-framework","sbv-single-link","sbv-video-single-mixin").register("sbv-video-single-link",function(f,p,k,g){var c=function(){this.attribution=this.name="sbv-video-single-link"};f.mixin(c.prototype,g);var e=
new c;p.registerComponent(e.name,e.attribution,function(b){var c=f.$(b.elem()),a=c.find(".sbv-link:first").get(0);e.setup(e.attribution,c,a,null,b,k,null)})});r.when("A","base-mixin","sbv-video").register("sbv-video-single-mixin",function(f,p,k){return{dupeCheck:function(g,c){var e=g.prop("widgetGroupId")||"";c=0;if("1"===(g.prop("pageNumber")||"")){if("loom-mobile-inline-slot"===e||"loom-desktop-inline-slot"===e)return"NO_DUPE_INLINE";if("loom-mobile-bottom-slot"===e||"loom-desktop-bottom-slot"===
e){g=document.getElementsByClassName("sbv-video-single-product");for(var e=g.length,b="",h="",a=0;a<e;a++){var d=g[a].getAttribute("data-component-props"),d=JSON.parse(d);if("1"===d.pageNumber)if(c++,""===b)b=d.advertiserId||"",h=d.campaignId||"";else if(d.advertiserId===b&&d.campaignId===h)return"DUPE_BOTTOM"}}}return 1<c?"NO_DUPE_BOTTOM_MULTI":"NO_DUPE_BOTTOM_SINGLE"},init:function(g,c,e,b,h,a,d){var n=c.find(".sbv-video:first"),l=p.setup(g,c,h).withVideoPreviewImageSrc(h.prop("videoPreviewImageSrc")).withContentHash(h.prop("contentHash")||
"").withVideoSrc(h.prop("videoSrc")).withHasAudio("true"===h.prop("hasAudio")).withStoreName(h.prop("storeName")||"").withStoreUrl(h.prop("storeUrl")||"").withStoreCta(h.prop("storeCta")||"").withVideoType(h.prop("videoType")||"").build();c.hasClass("aok-hidden")&&c.hasClass("sbv-abd")||"none"==c.css("display")?l.reportAdRenderSuppressed():(l.reportAceVideoResponseReceivedWithDupeInfo(this.dupeCheck(h,l)),g=k.initialize(g,n.get(0),l,h.prop("instrumentationPixelUrl")),a.initialize(e,l,g),d&&b&&d.initialize(b,
l,g))},setup:function(g,c,e,b,h,a,d){this.init(g,c,e,b,h,a,d)}}});r.when("A").register("sbv-video-single-content-mixin",function(f){return{loadAdFeedback:function(p,k,g,c){try{if(c){var e=f.$(c).attr("data-cid"),b=f.$(c).attr("data-aid"),h=f.$(c).data("slotname"),a=f.$(c).data("searchkeywords");"true"===f.$(c).data("keywordEncodingFailed")&&p.reportAdFeedbackKeywordEncodingFailure();var d=JSON.stringify({adPlacementMetaData:{adElementId:k,pageType:"Search",slotName:h,pageUrl:"",searchTerms:a},adCreativeMetaData:{adNetwork:"aax",
adProgramId:1010,adImpressionId:"",adId:b,adCreativeDetails:[{campaignId:e}]}}),n=u.location.protocol+"//"+u.location.hostname+"/af/feedback-link?pl\x3d"+encodeURIComponent(d),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState&&200===l.status){var b=JSON.parse(l.responseText);if(b&&"ok"===b.status){"html"in b&&b.html&&(g.addClass("aok-hidden"),c.innerHTML=b.html,f.$(c).removeClass("aok-hidden"),p.reportAdFeedbackLoadSucceeded(l.status));if("script"in b&&b.script){var a=document.createElement("script");
a.type="text/javascript";a.innerHTML=b.script;c.appendChild(a)}f.$(c).find("a").click(function(){p.reportAdFeedbackPopoverOpened()})}else p.reportAdFeedbackLoadFailed(l.status)}};l.open("GET",n,!0);l.send()}}catch(m){k=4E3<m.message.length?m.message.substring(0,3997)+"...":m.message,p.reportAdFeedbackLoadFailedFromErr(k)}}}});r.when("A","sbv-metrics-manager","sbv-automated-test-metrics-client","sbv-platform-compatibility","sbv-latency-event-handler").register("base-mixin",function(f,p,k,g){return{setup:function(c,
e,b){g.setAppVersion(b.prop("appVersion"));return p.builder().withAttribution(c).withMetricsIdentifier(b.prop("metricsIdentifier")).withAdvertiserId(b.prop("advertiserId")).withCampaignId(b.prop("campaignId")).withSlotId(b.prop("slotId")).withSearchQuery(b.prop("searchQuery")).withWidgetIndex(b.prop("widgetIndex")).withDeviceEnv(b.prop("deviceEnv")||"").withDeviceOs(b.prop("deviceOs")||"").withDeviceType(b.prop("deviceType")||"").withDevicePlatformVersion(b.prop("devicePlatformVersion")||"").withDeviceModel(b.prop("deviceModel")||
"").withDeviceMake(b.prop("deviceMake")||"").withAppVersion(b.prop("appVersion")||"").withStage(b.prop("stage")).withClientId(b.prop("clientId")).withWeblabs(b.prop("weblabs")).withLanguage(b.prop("language")).withMarketplaceId(b.prop("marketplaceId")).withWidgetType(b.prop("widgetType")).withWidgetGroupId(b.prop("widgetGroupId")).withPageType(b.prop("pageType")).withPageNumber(b.prop("pageNumber")).withSushiSourceGroupEndpoint(b.prop("sushiSourceGroupEndpoint"))}}});r.when("base-mixin","sbv-slideshow").register("sbv-slideshow-product-mixin",
function(f,p){return{setup:function(k,g,c,e,b){var h=g.find(".sbv-slideshow-view-container:first").get(0);k=f.setup(k,g,e).build();k.reportSlideshowWidgetResponseReceived();h=p.initialize(h,k);(g=g.find(".sbv-slideshow-timer:first").get(0))&&g.dataset&&g.dataset.jsploadedtime&&(g=Date.now()-g.dataset.jsploadedtime,k.reportTimeWaitingForScriptToExecute(g));b.initialize(c,k,h)}}});r.when("A","3p-promise").register("sbv-adblock-detector",function(f,p){var k={method:"HEAD",mode:"no-cors",headers:{"Content-Type":"plain/text"}};
return{timeoutWrapper:function(g){return new p(function(c,e){var b=setTimeout(function(){clearTimeout(b);c()},g)})},fetchWrapper:function(g,c,e){e=this.timeoutWrapper(e);g=u.fetch(g,c);return p.race([g,e])},init:function(){if(f.$(".sbv-video-single-product").find(".sbv-compliant-abd").length){var g=this.fetchWrapper("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?_\x3d1607460946161",k,2E3);return new p(function(c,e){g.then(function(b){e(b)}).catch(function(b){c(b)})})}}}});r.when("af",
"ready").register("sbv-latency-event-handler");r.when("A","sbv-video-single-content-mixin").register("sbv-single-link",function(f,p){var k=function(){this.init=function(g,c,e){f.$(g).find("a").click(function(){c.reportLinkClicked(e&&e.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-cta-container").click(function(){c.reportCallToActionClicked(e&&e.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-img-container").click(function(){c.reportImageClicked(e&&e.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-small-img-container").click(function(){c.reportImageClicked(e&&
e.getVideoCurrentTimeMs())});f.$(g).find(".sbv-link-headline").click(function(){c.reportHeadlineClicked(e&&e.getVideoCurrentTimeMs())})}};f.mixin(k.prototype,p);return{initialize:function(g,c,e){var b=new k,h=f.$(g).find(".sbv-link-sponsored-label"),a=f.$(g).find(".sbv-link-ad-feedback").get(0);b.init(g,c,e);b.loadAdFeedback(c,"video-single-link",h,a)}}});"use strict";r.when("A","sbv-sushi-client").register("sbv-metrics-manager",function(f,p){function k(a,d){function n(a,d){var n=l(e.VM_POST_FAILURE);
n[b.VIEW_METRICS_FAILURE]=a;n[b.ERROR_MESSAGE]=d;m(n)}function l(a){var l=f.$.extend({},v);l[b.EVENT_TYPE]=a;l[b.METRICS_SEQUENCE_NUMBER]=g++;l[b.NETWORK_TYPE]=navigator&&navigator.connection&&navigator.connection.type||"Unknown";return l}function m(b,a){k&&k.processEvent(b,h);r&&r.processEvent(b)}var g=0,k=p.newClient(a,u,d,"AceVisClientMetrics"),v=null,r=null;this.setSushiClient=function(b){k=b};this.setDefaultEventAttributes=function(a){v=f.$.extend({},a);v[b.USER_AGENT]=navigator.userAgent};this.setAutomatedTestMetricsClient=
function(b){r=b};this.reportAceVideoResponseReceived=function(){var b=l(e.ACE_VIDEO_RESPONSE_RECEIVED);m(b)};this.reportAceVideoResponseReceivedWithDupeInfo=function(a){var d=l(e.ACE_VIDEO_RESPONSE_RECEIVED);d[b.DEBUG_INFO_CONTENT]=a;m(d)};this.reportDupe=function(){var b=l(e.DUPE);m(b)};this.reportDupeByCampaignAndAdvertiserId=function(){var b=l(e.DUPE_BY_ADVID_CAMPAIGNID);m(b)};this.reportDupeByContentHash=function(){var b=l(e.DUPE_BY_CONTENT_HASH);m(b)};this.reportAdBlockDetected=function(){var b=
l(e.AD_BLOCK_DETECTED);m(b)};this.reportTimeWaitingForScriptToExecute=function(a){var d=l(e.TIME_WAITING_FOR_SCRIPT_TO_EXECUTE);d[b.LOAD_TIME_MS]=a;m(d)};this.reportAdRenderSuppressed=function(){var b=l(e.AD_RENDER_SUPPRESSED);m(b)};this.reportSlideshowWidgetResponseReceived=function(){var b=l(e.SLIDESHOW_WIDGET_RESPONSE_RECEIVED);m(b)};this.reportSlideshowClicked=function(a,d){var n=l(e.SLIDESHOW_CLICKED);n[b.SLIDESHOW_TOTAL_SLIDES]=a;n[b.SLIDESHOW_CURRENT_INDEX]=d;m(n)};this.reportSlideshowSwiped=
function(a){var d=l(e.SLIDESHOW_SWIPED);d[b.SLIDESHOW_TOTAL_SLIDES]=a;m(d)};this.reportSlideshowOnScreen=function(a){var d=l(e.SLIDESHOW_ON_SCREEN);d[b.SLIDESHOW_TOTAL_SLIDES]=a;m(d)};this.reportSlideshowOffScreen=function(a,d){var n=l(e.SLIDESHOW_OFF_SCREEN);n[b.SLIDESHOW_TOTAL_SLIDES]=a;n[b.TIME_ON_SCREEN_MS]=d;m(n)};this.reportSlideshowLoop=function(a,d){var n=l(e.SLIDESHOW_LOOP);n[b.SLIDESHOW_TOTAL_SLIDES]=a;n[b.SLIDESHOW_LOOP_COUNT]=d;m(n)};this.reportSlideshowLoadFailed=function(a,d){var n=
l(e.SLIDESHOW_LOAD_FAILED);n[b.SLIDESHOW_TOTAL_SLIDES]=a;n[b.ERROR_MESSAGE]=d;m(n)};this.reportSlideshowLoadCompleted=function(a){var d=l(e.SLIDESHOW_LOAD_COMPLETED);d[b.SLIDESHOW_TOTAL_SLIDES]=a;m(d)};this.reportAdFeedbackLoadFailed=function(a){var d=l(e.AD_FEEDBACK_LOAD_FAILED);d[b.STATUS_CODE]=a;m(d)};this.reportAdFeedbackLoadFailedFromErr=function(a){var d=l(e.AD_FEEDBACK_LOAD_FAILED_FROM_ERR);d[b.ERROR_MESSAGE]=a;m(d)};this.reportAdFeedbackLoadSucceeded=function(a){var d=l(e.AD_FEEDBACK_LOAD_SUCCEEDED);
d[b.STATUS_CODE]=a;m(d)};this.reportAdFeedbackKeywordEncodingFailure=function(){var a=l(e.AD_FEEDBACK_KEYWORD_ENCODING_FAILURE);m(a)};this.reportAdFeedbackPopoverOpened=function(){var a=l(e.AD_FEEDBACK_POPOVER_OPENED);m(a)};this.reportMissingVideoFunction=function(a){var d=l(e.MISSING_VIDEO_FUNCTION);d[b.ERROR_MESSAGE]=a;m(d)};this.reportPreviewImageLoadSuccess=function(a,d){var n=l(e.PREVIEW_IMAGE_LOAD_SUCCESS);n[b.LOAD_TIME_MS]=a;n[b.RETRY_COUNT]=d;m(n)};this.reportPreviewImageLoadFailure=function(a,
d){var n=l(e.PREVIEW_IMAGE_LOAD_FAILURE);n[b.LOAD_TIME_MS]=a;n[b.STATUS_CODE]=d;m(n)};this.reportVideoDomainVerificationFailure=function(a){var d=l(e.VIDEO_DOMAIN_VERIFICATION_FAILURE);d[b.ERROR_MESSAGE]=a;m(d)};this.reportVideoReadyForPlayback=function(a,d,n,c,g,h){var f=l(e.VIDEO_READY_FOR_PLAYBACK);f[b.LOAD_TIME_MS]=a;f[b.RETRY_COUNT]=d;f[b.PERCENT_DOWNLOADED]=n;f[b.VIDEO_TOTAL_LENGTH_MS]=c;f[b.START_TIME_MS]=g;f[b.END_TIME_MS]=h;m(f)};this.reportVideoPlaybackInitiated=function(a){var d=l(e.VIDEO_PLAYBACK_INITIATED);
d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportVideoPlaybackStarted=function(a,d,n){var c=l(e.VIDEO_PLAYBACK_STARTED);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.PERCENT_DOWNLOADED]=d;c[b.DROPPED_FRAMES]=n;m(c)};this.reportTimeToFirstFrame=function(a,d,n,c,g){var f=l(e.TIME_TO_FIRST_FRAME);f[b.LOAD_TIME_MS]=a;f[b.PERCENT_DOWNLOADED]=d;f[b.DROPPED_FRAMES]=n;f[b.START_TIME_MS]=c;f[b.END_TIME_MS]=g;m(f)};this.reportVideoBufferingStarted=function(a,d,n){var c=l(e.VIDEO_BUFFERING_STARTED);c[b.VIDEO_CURRENT_TIME_MS]=
a;c[b.PERCENT_DOWNLOADED]=d;c[b.DROPPED_FRAMES]=n;m(c)};this.reportVideoBufferingEnded=function(a,d,n){var c=l(e.VIDEO_BUFFERING_ENDED);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.PERCENT_DOWNLOADED]=d;c[b.DROPPED_FRAMES]=n;m(c)};this.reportVideoPlaybackFailure=function(a,d,n){var c=l(e.VIDEO_PLAYBACK_FAILURE);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.ERROR_MESSAGE]=d;c[b.ERROR_CODE]=n;m(c)};this.reportVideoDurationPlayed=function(a,d,n){var c=l(e.VIDEO_DURATION_PLAYED);c[b.VIDEO_BOUNDRY_CROSSED_TIME_MS]=a;c[b.PERCENT_DOWNLOADED]=
d;c[b.DROPPED_FRAMES]=n;m(c)};this.reportPlaybackCompleted=function(a,d){var n=l(e.PLAYBACK_COMPLETED);n[b.VIDEO_CURRENT_TIME_MS]=a;n[b.DROPPED_FRAMES]=d;m(n)};this.reportVideoOnScreen=function(a){var d=l(e.VIDEO_ON_SCREEN);d[b.PERCENT_DOWNLOADED]=a;m(d)};this.reportVideoOffScreen=function(a,d,n){var c=l(e.VIDEO_OFF_SCREEN);c[b.TIME_ON_SCREEN_MS]=a;c[b.WAS_BUFFERING]=d;c[b.VIDEO_CURRENT_TIME_MS]=n;m(c)};this.reportVideoView=function(a,d){var n=l(e.VIDEO_VIEW);n[b.CONTINUOUS_PLAYBACK_DURATION_MS]=
a;m(n);d&&k&&k.flush(k,!0)};this.reportVideoPauseInitiated=function(a){var d=l(e.VIDEO_PAUSED_INITIATED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportVideoPaused=function(a,d,n){var c=l(e.VIDEO_PAUSED);c[b.VIDEO_CURRENT_TIME_MS]=a;c[b.PERCENT_DOWNLOADED]=d;c[b.DROPPED_FRAMES]=n;m(c)};this.reportVideoSoundOn=function(a,d){var n=l(e.VIDEO_SOUND_ON);n[b.VIDEO_CURRENT_TIME_MS]=a;n[b.SOUND_TOGGLE_METHOD]=d;m(n)};this.reportVideoSoundOff=function(a,d){var n=l(e.VIDEO_SOUND_OFF);n[b.VIDEO_CURRENT_TIME_MS]=
a;n[b.SOUND_TOGGLE_METHOD]=d;m(n)};this.reportVideoClicked=function(a){var d=l(e.VIDEO_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportProductClicked=function(a){var d=l(e.PRODUCT_CLICKED);a!==q&&(d[b.VIDEO_CURRENT_TIME_MS]=a);m(d)};this.reportProductTitleClicked=function(){var a=l(e.PRODUCT_TITLE_CLICKED);m(a)};this.reportProductReviewCountClicked=function(){var a=l(e.PRODUCT_REVIEW_COUNT_CLICKED);m(a)};this.reportProductPriceClicked=function(){var a=l(e.PRODUCT_PRICE_CLICKED);m(a)};this.reportLinkClicked=
function(a){var d=l(e.LINK_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportCallToActionClicked=function(a){var d=l(e.CALL_TO_ACTION_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportHeadlineClicked=function(a){var d=l(e.HEADLINE_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportImageClicked=function(a){var d=l(e.IMAGE_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportStoreIngressClicked=function(a){var d=l(e.STORE_INGRESS_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportBlankScreenLoadFailure=
function(){var a=l(e.BLANK_SCREEN_LOAD_FAILURE);m(a)};this.reportPlaybackFailedToStartAfterPlay=function(){var a=l(e.PLAYBACK_FAILED_TO_START_AFTER_PLAY);m(a)};this.reportAudioToggleIconDisplayed=function(){var a=l(e.AUDIO_TOGGLE_ICON_DISPLAYED);m(a)};this.reportPlayButtonShown=function(){var a=l(e.PLAY_BUTTON_SHOWN);m(a)};this.reportPlayButtonClicked=function(a){var d=l(e.PLAY_BUTTON_CLICKED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportDurationTickerDisplayed=function(a){var d=l(e.VIDEO_DURATION_TICKER_SHOWN);
d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportVideoAborted=function(a){var d=l(e.VIDEO_ABORTED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportVideoSuspended=function(a){var d=l(e.VIDEO_SUSPENDED);d[b.VIDEO_CURRENT_TIME_MS]=a;m(d)};this.reportVideoPlayPromiseRejected=function(a){var d=l(e.VIDEO_PLAY_PROMISE_REJECTED);d[b.ERROR_MESSAGE]=a;m(d)};this.reportVideoPlayPromiseNotSupported=function(){var a=l(e.VIDEO_PLAY_PROMISE_NOT_SUPPORTED);m(a)};this.reportDebugInfoCopiedSuccess=function(a){var d=l(e.DEBUG_INFO_COPIED_SUCCESS);
d[b.DEBUG_INFO_CONTENT]=a;m(d)};this.reportDebugInfoCopiedFailure=function(a){var d=l(e.DEBUG_INFO_COPIED_FAILURE);d[b.ERROR_MESSAGE]=a;m(d)};this.reportDebugInfoCopiedMessageShown=function(){var a=l(e.DEBUG_INFO_COPIED_MESSAGE_SHOWN);m(a)};this.reportDebugInfoCopiedMessageHidden=function(){var a=l(e.DEBUG_INFO_COPIED_MESSAGE_HIDDEN);m(a)};this.reportViewMetricsPostRequestFailure=n;this.reportViewMetricsVideoViewed=function(a){var d=l(e.VM_VIDEO_VIEWED);m(d);this.emitViewMetrics(a,c.VIEWED)};this.reportViewMetricsVideoProgressFiveSeconds=
function(a){var d=l(e.VM_VIDEO_PROGRESS_FIVE_SECONDS);m(d);this.emitViewMetrics(a,c.PROGRESS_FIVE_SECONDS)};this.reportViewMetricsVideoFirstQuartile=function(a){var d=l(e.VM_VIDEO_FIRST_QUARTILE);m(d);this.emitViewMetrics(a,c.FIRST_QUARTILE)};this.reportViewMetricsVideoMidpoint=function(a){var d=l(e.VM_VIDEO_MIDPOINT);m(d);this.emitViewMetrics(a,c.MIDPOINT)};this.reportViewMetricsVideoThirdQuartile=function(a){var d=l(e.VM_VIDEO_THIRD_QUARTILE);m(d);this.emitViewMetrics(a,c.THIRD_QUARTILE)};this.reportViewMetricsVideoComplete=
function(a){var d=l(e.VM_VIDEO_COMPLETE);m(d);this.emitViewMetrics(a,c.COMPLETE)};this.reportViewMetricsVideoUnmute=function(a){var d=l(e.VM_VIDEO_UNMUTE);m(d);this.emitViewMetrics(a,c.UNMUTE)};this.emitViewMetrics=function(a,d){if(a===q)n(d,"instrumentationPixelUrl is undefined");else{var b=JSON.stringify({v:{def:"iab",event:d}});a="/"===a.substr(-1)?a+"v/":a+"/v/";fetch(a+encodeURI(b),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:b}).then(function(a){if(!a.ok&&0!==
a.status)throw Error(a.status+" "+a.statusText);}).catch(function(a){n(d,a.message)})}};this.getDebugMetricAttributes=function(){var a=v[b.SEARCH_QUERY],n=v[b.ADVERTISER_ID],l=v[b.CAMPAIGN_ID],c=v[b.CONTENT_HASH],e=v[b.METRICS_IDENTIFIER],m=v[b.CLIENT_ID],g;a:{if(d&&(g=d.split("-")[1])){g=g.split(".")[0].toUpperCase();break a}g="UNKNOWN"}return{searchQuery:a,advertiserId:n,campaignId:l,contentHash:c,metricsIdentifier:e,clientId:m,region:g,stage:v[b.STAGE]}}}function g(){function a(){var a=[];a[b.METRICS_IDENTIFIER]=
n;a[b.ADVERTISER_ID]=l;a[b.CAMPAIGN_ID]=c;a[b.CONTENT_HASH]=e;a[b.WIDGET_INDEX]=h;a[b.DEVICE_ENV]=p;a[b.DEVICE_OS]=r;a[b.DEVICE_TYPE]=u;a[b.DEVICE_PLATFORM_VERSION]=E;a[b.DEVICE_MODEL]=B;a[b.DEVICE_MAKE]=F;a[b.APP_VERSION]=x;a[b.STAGE]=y;a[b.SLOT_ID]=g;a[b.SEARCH_QUERY]=f;a[b.CLIENT_ID]=G;a[b.WEBLABS]=H;a[b.LANGUAGE]=I;a[b.VIDEO_PREVIEW_IMAGE_SRC]=J;a[b.VIDEO_SRC]=K;a[b.VIDEO_TYPE]=C;a[b.HAS_AUDIO]=t;a[b.STORE_NAME]=w;a[b.STORE_URL]=z;a[b.STORE_CTA]=O;a[b.MARKETPLACE_ID]=P;a[b.WIDGET_TYPE]=Q;a[b.WIDGET_GROUP_ID]=
R;a[b.PAGE_TYPE]=S;a[b.PAGE_NUMBER]=M;return a}var d="sbv-search-widget",n=q,l=q,c=q,e=q,g=q,f=q,h=q,p=q,r=q,u=q,E=q,B=q,F=q,x=q,y=q,G=q,H=q,I=q,J=q,K=q,C=q,t=q,w=q,z=q,O=q,P=q,T="https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events",N=q,Q=q,R=q,S=q,M=q,L=q;this.withAttribution=function(a){d=a||"sbv-search-widget";return this};this.withSearchQuery=function(a){f=a;return this};this.withMetricsIdentifier=function(a){n=a;return this};this.withAdvertiserId=function(a){l=a;return this};
this.withCampaignId=function(a){c=a;return this};this.withContentHash=function(a){e=a;return this};this.withSlotId=function(a){g=a;return this};this.withWidgetIndex=function(a){h=a;return this};this.withDeviceEnv=function(a){p=a;return this};this.withDeviceOs=function(a){r=a;return this};this.withDeviceType=function(a){u=a;return this};this.withDevicePlatformVersion=function(a){E=a;return this};this.withDeviceModel=function(a){B=a;return this};this.withDeviceMake=function(a){F=a;return this};this.withAppVersion=
function(a){x=a;return this};this.withStage=function(a){y=a;return this};this.withClientId=function(a){G=a;return this};this.withWeblabs=function(a){H=a;return this};this.withLanguage=function(a){I=a;return this};this.withVideoPreviewImageSrc=function(a){J=a;return this};this.withVideoSrc=function(a){K=a;return this};this.withVideoType=function(a){C=a;return this};this.withHasAudio=function(a){t=a;return this};this.withStoreName=function(a){w=a;return this};this.withStoreUrl=function(a){z=a;return this};
this.withStoreCta=function(a){O=a;return this};this.withMarketplaceId=function(a){P=a;return this};this.withSushiSourceGroupEndpoint=function(a){T=a||"https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events";return this};this.withAutomatedTestMetricsClient=function(a){N=a;return this};this.withWidgetType=function(a){Q=a;return this};this.withWidgetGroupId=function(a){R=a;return this};this.withPageType=function(a){S=a;return this};this.withPageNumber=function(a){if(a){var d=parseInt(a,
10);if(!isNaN(d))return M=d,this}M=a;return this};this.build=function(){L=new k(d,T);N!==q&&L.setAutomatedTestMetricsClient(N);L.setDefaultEventAttributes(a());return L}}var c={VIEWED:"VIEWED",PROGRESS_FIVE_SECONDS:"PROGRESS_5_SEC",FIRST_QUARTILE:"FIRST_QUARTILE",MIDPOINT:"MIDPOINT",THIRD_QUARTILE:"THIRD_QUARTILE",COMPLETE:"COMPLETE",UNMUTE:"UNMUTE"},e={ACE_VIDEO_RESPONSE_RECEIVED:"AceVideoResponseReceived",AD_BLOCK_DETECTED:"AdBlockDetected",AD_RENDER_SUPPRESSED:"AdRenderSuppressed",AUDIO_TOGGLE_ICON_DISPLAYED:"AudioToggleIconDisplayed",
BLANK_SCREEN_LOAD_FAILURE:"BlankScreenLoadFailure",CALL_TO_ACTION_CLICKED:"CallToActionClicked",AD_FEEDBACK_KEYWORD_ENCODING_FAILURE:"AdFeedbackKeywordEncodingFailure",AD_FEEDBACK_LOAD_FAILED:"AdFeedbackLoadFailed",AD_FEEDBACK_LOAD_FAILED_FROM_ERR:"AdFeedbackLoadFailedFromErr",AD_FEEDBACK_LOAD_SUCCEEDED:"AdFeedbackLoadSucceeded",AD_FEEDBACK_POPOVER_OPENED:"AdFeedbackPopoverOpened",DUPE:"Dupe",DUPE_BY_CONTENT_HASH:"DupeByContentHash",DUPE_BY_ADVID_CAMPAIGNID:"DupeByAdvIdCampaignId",DEBUG_INFO_COPIED_SUCCESS:"DebugInfoCopiedSuccess",
DEBUG_INFO_COPIED_FAILURE:"DebugInfoCopiedFailure",DEBUG_INFO_COPIED_MESSAGE_SHOWN:"DebugInfoCopiedMessageShown",DEBUG_INFO_COPIED_MESSAGE_HIDDEN:"DebugInfoCopiedMessageHidden",HEADLINE_CLICKED:"HeadlineClicked",IMAGE_CLICKED:"ImageClicked",LINK_CLICKED:"LinkClicked",MISSING_VIDEO_FUNCTION:"MissingVideoFunction",NO_VIDEO_SRC_ON_ELEMENT:"NoVideoSrcOnElement",PLAY_BUTTON_CLICKED:"PlayButtonClicked",PLAY_BUTTON_SHOWN:"PlayButtonShown",PLAYBACK_COMPLETED:"PlaybackCompleted",PREVIEW_IMAGE_LOAD_FAILURE:"PreviewImageLoadFailure",
PREVIEW_IMAGE_LOAD_SUCCESS:"PreviewImageLoadSuccess",PRODUCT_CLICKED:"ProductClicked",PRODUCT_TITLE_CLICKED:"ProductTitleClicked",PRODUCT_REVIEW_COUNT_CLICKED:"ProductReviewCountClicked",PRODUCT_PRICE_CLICKED:"ProductPriceClicked",STORE_INGRESS_CLICKED:"StoreIngressClicked",TIME_TO_FIRST_FRAME:"TimeToFirstFrame",VIDEO_BUFFERING_ENDED:"VideoBufferingEnded",VIDEO_BUFFERING_STARTED:"VideoBufferingStarted",VIDEO_CLICKED:"VideoClicked",VIDEO_DOMAIN_VERIFICATION_FAILURE:"VideoDomainVerificationFailure",
VIDEO_DURATION_PLAYED:"VideoDurationPlayed",VIDEO_DURATION_TICKER_SHOWN:"VideoDurationTickerShown",VIDEO_OFF_SCREEN:"VideoOffScreen",VIDEO_ON_SCREEN:"VideoOnScreen",VIDEO_PAUSED:"VideoPaused",VIDEO_PAUSED_INITIATED:"VideoPausedInitiated",VIDEO_PLAYBACK_FAILURE:"VideoPlaybackFailure",VIDEO_PLAYBACK_INITIATED:"VideoPlaybackInitiated",VIDEO_PLAYBACK_STARTED:"VideoPlaybackStarted",VIDEO_READY_FOR_PLAYBACK:"VideoReadyForPlayback",VIDEO_SOUND_OFF:"VideoSoundOff",VIDEO_SOUND_ON:"VideoSoundOn",VIDEO_VIEW:"VideoView",
PLAYBACK_FAILED_TO_START_AFTER_PLAY:"PlaybackFailedToStartAfterPlay",VIDEO_ABORTED:"VideoAborted",VIDEO_SUSPENDED:"VideoSuspended",VIDEO_PLAY_PROMISE_REJECTED:"VideoPlayPromiseRejected",VIDEO_PLAY_PROMISE_NOT_SUPPORTED:"VideoPlayPromiseNotSupported",SLIDESHOW_WIDGET_RESPONSE_RECEIVED:"SlideshowWidgetResponseReceived",SLIDESHOW_CLICKED:"SlideshowClicked",SLIDESHOW_SWIPED:"SlideshowSwiped",SLIDESHOW_ON_SCREEN:"SlideshowOnScreen",SLIDESHOW_OFF_SCREEN:"SlideshowOffScreen",SLIDESHOW_LOOP:"SlideshowLoop",
SLIDESHOW_LOAD_COMPLETED:"SlideshowLoadCompleted",SLIDESHOW_LOAD_FAILED:"SlideshowLoadFailed",SLIDESHOW_IMAGE_LOAD_ERROR:"SlideshowImageLoadError",SLIDESHOW_IMAGE_LOAD_SUCCESS:"SlideshowImageLoadSuccess",VM_VIDEO_VIEWED:"ViewMetricsVideoViewed",VM_VIDEO_PROGRESS_FIVE_SECONDS:"ViewMetricsVideoProgressFiveSeconds",VM_VIDEO_FIRST_QUARTILE:"ViewMetricsVideoFirstQuartile",VM_VIDEO_MIDPOINT:"ViewMetricsVideoMidpoint",VM_VIDEO_THIRD_QUARTILE:"ViewMetricsVideoThirdQuartile",VM_VIDEO_COMPLETE:"ViewMetricsVideoComplete",
VM_VIDEO_UNMUTE:"ViewMetricsVideoUnmute",VM_POST_FAILURE:"ViewMetricsPostFailure"},b={APP_VERSION:"appVersion",CLIENT_ID:"clientId",SEARCH_QUERY:"searchQuery",CONTINUOUS_PLAYBACK_DURATION_MS:"continuousPlaybackDurationMs",DEVICE_MAKE:"deviceMake",DEVICE_MODEL:"deviceModel",DEVICE_ENV:"deviceEnv",DEVICE_OS:"deviceOs",DEVICE_TYPE:"deviceType",DEVICE_PLATFORM_VERSION:"devicePlatformVersion",DEBUG_INFO_CONTENT:"debugInfoContent",DROPPED_FRAMES:"droppedFrames",ERROR_MESSAGE:"errorMessage",ERROR_CODE:"errorCode",
EVENT_TYPE:"eventType",HAS_AUDIO:"hasAudio",LOAD_TIME_MS:"loadTimeMs",START_TIME_MS:"startTimeMs",END_TIME_MS:"endTimeMs",MARKETPLACE_ID:"marketplaceId",METRICS_SEQUENCE_NUMBER:"metricsSequenceNumber",METRICS_IDENTIFIER:"metricsIdentifier",ADVERTISER_ID:"advertiserId",CAMPAIGN_ID:"campaignId",CONTENT_HASH:"contentHash",NETWORK_TYPE:"networkType",PAGE_TYPE:"pageType",PAGE_NUMBER:"pageNumber",PERCENT_DOWNLOADED:"percentDownloaded",RETRY_COUNT:"retryCount",LANGUAGE:"language",SLOT_ID:"slotId",SOUND_TOGGLE_METHOD:"soundToggleMethod",
STAGE:"stage",STATUS_CODE:"statusCode",STORE_CTA:"storeCta",STORE_NAME:"storeName",STORE_URL:"storeUrl",TIME_ON_SCREEN_MS:"timeOnScreenMs",USER_AGENT:"userAgent",VIDEO_BOUNDRY_CROSSED_TIME_MS:"videoBoundaryCrossedTimeMs",VIDEO_CURRENT_TIME_MS:"videoCurrentTimeMs",VIDEO_SRC:"videoSrc",VIDEO_PREVIEW_IMAGE_SRC:"videoPreviewImageSrc",VIDEO_TOTAL_LENGTH_MS:"videoTotalLengthMs",VIDEO_TYPE:"videoType",WAS_BUFFERING:"wasBuffering",WIDGET_INDEX:"widgetIndex",WEBLABS:"weblabs",WIDGET_TYPE:"widgetType",WIDGET_GROUP_ID:"widgetGroupId",
SLIDESHOW_LOOP_COUNT:"slideshowLoopCount",SLIDESHOW_CURRENT_INDEX:"slideshowCurrentIndex",SLIDESHOW_TOTAL_SLIDES:"slideshowTotalSlides",VIEW_METRICS_FAILURE:"viewMetricsFailure"},h={n:1};return{EVENT_TYPES:e,SOUND_TOGGLE_OFF_CAUSE:{ICON_TAP:"IconTap",VIDEO_OFF_SCREEN:"VideoOffScreen"},SOUND_TOGGLE_ON_CAUSE:{ICON_TAP:"IconTap"},DEFAULT_SUSHI_SOURCE_GROUP_ENDPOINT:"https://unagi-na.amazon.com/1/events/com.amazon.eel.sbv.client.prod.events",builder:function(){return new g}}});r.register("sbv-transportation-client",
function(){var f=function(){},p=function(){function g(){if(u.XDomainRequest){var c=new u.XDomainRequest;c.onerror=f;c.ontimeout=f;c.onprogress=f;c.onload=f;c.timeout=0;return c}if(u.XMLHttpRequest){c=new u.XMLHttpRequest;if(!("withCredentials"in c))throw"";return c}return null}return{send:function(c,e){if(e&&c){var b=g();if(!b)throw"";b.open("POST",c,!0);b.setRequestHeader&&b.setRequestHeader("Content-type","text/plain");b.send(e)}},isSupported:!0}}(),k=function(){return{send:function(g,c){if(g&&
c&&!u.navigator.sendBeacon(g,c))throw"";},isSupported:!!u.navigator.sendBeacon}}();return{ajaxClient:p,beaconClient:k}});r.when("sbv-transportation-client","sbv-event-manager").register("sbv-sushi-client",function(f,p){function k(c,e,b,h){this.endpoint=b;this.window=e;this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.eventSequence=this.lowPriorityTimer=this.highPriorityTimer=this.dictionaryIndex=this.batchSize=0;this.unloadHandlerCalled=!1;this.highPriorityFlushInterval=
1E3;this.lowPriorityFlushInterval=1E4;this.transportationClient=f;var a=this;this.compressor=function(a){function d(b){if(b)switch(typeof b){case "number":return!(isNaN(b)||Infinity===b)&&b.toString().length>a.dictionaryIndex.length;case "boolean":break;case "string":return b.length>a.dictionaryIndex.length;default:return!0}return!1}function b(d){a.eventsDictionary[d]="#"+a.dictionaryIndex++;a.reverseEventsDictionary[a.eventsDictionary[d]]=d;return a.eventsDictionary[d]}function c(e){if(d(e)){var f=
0;e instanceof Array?f=2:e instanceof Function?f=null:e instanceof Object&&(f=1);switch(f){case 0:return a.eventsDictionary[e]?a.eventsDictionary[e]:b(e);case 2:for(var h=[],f=0;f<e.length;f++)h[f]=c(e[f]);return h;case 1:f={};for(h in e)Object.prototype.hasOwnProperty.call(e,h)&&(f[a.eventsDictionary[h]?a.eventsDictionary[h]:b(h)]=-1===g.indexOf(h)?c(e[h]):e[h]);return f}}return e}return{compressData:c,buildPOSTObject:function(){return a.stringify({cs:{dct:a.reverseEventsDictionary},events:a.eventsQueue})}}}(this);
this.onBeforeUnload=function(){!0!==a.unloadHandlerCalled&&(a.flush(a,!0),a.unloadHandlerCalled=!0)};this.stringify=function(a){try{return JSON.stringify(a)}catch(d){}return null};this.resetBatch=function(){this.eventsQueue=[];this.eventsDictionary={};this.reverseEventsDictionary={};this.highPriorityTimer=this.lowPriorityTimer=this.batchSize=this.dictionaryIndex=0};this.sendWithClient=function(a){if(null==this.endpoint||""===this.endpoint)this.ueCount("SushiClientEndpointMissing");else{if(a.isSupported){var d=
this.compressor.buildPOSTObject();return a.send(this.endpoint,d)}throw"";}};this.sendWithPriority=function(){for(var a=0;a<arguments.length;a++){var d=arguments[a];try{return this.sendWithClient(d)}catch(b){}}return null};this.flush=function(a,d){a.eventsQueue.length&&(d||!1!==a.window.navigator.onLine)&&(d=a.eventsQueue.length,a.sendWithPriority(a.transportationClient.beaconClient,a.transportationClient.ajaxClient),a.resetBatch(),a.ueCount("EventsSent",d))};this.startHighPriorityQueueTimer=function(){0===
this.highPriorityFlushInterval?this.flush(this,!1):this.highPriorityTimer||(this.highPriorityTimer=setTimeout(this.flush,this.highPriorityFlushInterval,this,!1))};this.startLowPriorityQueueTimer=function(){this.lowPriorityTimer||(this.lowPriorityTimer=setTimeout(this.flush,this.lowPriorityFlushInterval,this,!1))};this.generateMessageId=function(a,d){return a+"-"+d+"-"+this.eventSequence};this.getCurrentISODate=function(){var a=new Date,d=function(a){return 10>a?"0"+a:a};return Date.prototype.toISOString?
a.toISOString():a.getUTCFullYear()+"-"+d(a.getUTCMonth()+1)+"-"+d(a.getUTCDate())+"T"+d(a.getUTCHours())+":"+d(a.getUTCMinutes())+":"+d(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"};this.decorateEvent=function(a){a.timestamp=this.getCurrentISODate();a.sequence=this.eventSequence;a.messageId=this.generateMessageId(a.request_id,Date.now?Date.now():(new Date).getTime())};this.startTimers=function(a){a.n?this.startHighPriorityQueueTimer():this.startLowPriorityQueueTimer()};
this.encodeEvent=function(a,d,b){d=d.length;(499===this.eventsQueue.length||524288<this.batchSize+d)&&this.flush(this,!0);this.batchSize+=d;a={data:this.compressor.compressData(a)};this.eventsQueue.push(a);this.startTimers(b)};this.addEvent=function(a,d){this.decorateEvent(a,d);var b=this.stringify(a);return b?(this.encodeEvent(a,b,d),!0):!1};this.isValidAPIParam=function(a,d){return a&&-1<a.constructor.toString().indexOf(d)};this.isMaxCallsReached=function(){this.eventSequence++;1E3<this.eventSequence&&
this.ueCount("SushiClientMaxCallsReached");return 1E3<this.eventSequence};this.isValidAPICall=function(a){return!this.isMaxCallsReached()&&this.isValidAPIParam(a,"Object")};this.ueCount=function(a,d){if("undefined"!==typeof ue&&ue&&ue.count)return d=0===d?0:d||(ue.count(h+":"+a)||0)+1,ue.count(h+":"+a,d),d};this.processEvent=function(a,d){var b=this.unloadHandlerCalled=!1;this.options=d||{};this.isValidAPICall(a)&&(b=this.addEvent(a,this.options));b?this.ueCount("ClientEventsSuccess"):this.ueCount("ClientEventsFailed");
return b};p.addEventListener(c,u,"beforeunload",100,this.onBeforeUnload);p.addEventListener(c,document,"visibilitychange",100,this.onBeforeUnload);p.addEventListener(c,u,"blur",100,this.onBeforeUnload);p.addEventListener(c,u,"pagehide",100,this.onBeforeUnload);u.app||(u.app={});var d=u.app.willDisappear;u.app.willDisappear=function(){d&&d();a.onBeforeUnload()}}var g=["messageId","timestamp"];return{newClient:function(c,e,b,g){return new k(c,e,b,g)}}});r.when("A").register("sbv-automated-test-metrics-client",
function(f){function p(f){this.videoSingleProduct=f;this.processEvent=function(g){var c=this.videoSingleProduct.data("AUTOMATED_TEST_METRICS_ATTR");c===q&&(c=[]);c.push(g);this.videoSingleProduct.data("AUTOMATED_TEST_METRICS_ATTR",c)}}return{newClient:function(f){return new p(f)}}});r.when("A").register("sbv-platform-compatibility",function(f){function p(){return f.capabilities.isAmazonApp&&f.capabilities.ios}var k=null,g=navigator;return{isIOS:function(){return f.capabilities.ios},isIOSWebView:p,
canUseViewWillDisappearToReportMetrics:function(){if(!p()||!k)return!1;var c=k.split(".");if(2>c.length)return!1;var e=parseInt(c[0]),c=parseInt(c[1]);return 13<e||13===e&&18<=c},setAppVersion:function(c){k=c},isSafari:function(){return!(!g.vendor||!g.vendor.match(/apple/i))},isWebView:function(){return f.capabilities.isAmazonApp},_setNavigator:function(c){g=c}}});r.when("A","sbv-video-single-content-mixin").register("sbv-single-product",function(f,p){var k=function(){this.init=function(g,c,e){f.$(g).find("a:not(.sbv-store-ingress-link)").click(function(){var b=
e&&e.getVideoCurrentTimeMs&&e.getVideoCurrentTimeMs();c.reportProductClicked(b)});var b=f.$(g).find(".sbv-product-img");b.data("imgsrc")&&b.attr("src",b.data("imgsrc"));b=f.$(g).find(".faceout-product-title");f.$(b).find("a").click(function(){c.reportProductTitleClicked()});b=f.$(g).find(".faceout-product-review");f.$(b).find("a").click(function(){c.reportProductReviewCountClicked()});g=f.$(g).find(".faceout-product-price");f.$(g).find("a").click(function(){c.reportProductPriceClicked()})}};f.mixin(k.prototype,
p);return{initialize:function(g,c,e){var b=new k,h=f.$(g).find(".sbv-sponsored-label"),a=f.$(g).find(".sbv-ad-feedback").get(0);b.init(g,c,e);b.loadAdFeedback(c,"video-single-product",h,a);return b}}});r.when("A").register("sbv-store-ingress",function(f){function p(){this.init=function(k,g,c){f.$(k).find("a").click(function(){g.reportStoreIngressClicked(c&&c.getVideoCurrentTimeMs())})}}return{initialize:function(f,g,c){(new p).init(f,g,c)}}});r.register("sbv-retryable",function(){return function(f,
p,k,g){function c(){0<h?(h--,e()):(a.cancel(),b())}var e=f,b=g,h=p,a=this;this._init=function(){e();this._intervalID=setInterval(c,k)};this.cancel=function(){clearInterval(this._intervalID)};this._init()}});r.when("A","sbv-video-mixin").register("sbv-video",function(f,p){var k=function(){this.metricsManager=this.$muteClickRegion=this.$unmuteIcon=this.$muteIcon=this.videoPlayer=null;this.onScreenStartTime=0;this.videoTag=null};f.mixin(k.prototype,p);return{initialize:function(g,c,e,b){var f=new k;
f.init(g,c,e,b);return f}}});r.when("A","sbv-viewability-manager","sbv-metrics-manager","sbv-video-player-builder","sbv-platform-compatibility","3p-promise","sbv-adblock-detector").register("sbv-video-mixin",function(f,p,k,g,c,e,b){var h=0,a={isViewedLogged:!1,isProgressFiveSecondsLogged:!1,isFirstQuartileLogged:!1,isMidpointLogged:!1,isThirdQuartileLogged:!1,isCompleteLogged:!1,isUnmuteLogged:!1};return{load:function(){this.videoPlayer.load()},toggleAudio:function(){var a=!this.videoPlayer.isMuted();
this.setMuteStatus(a,a?k.SOUND_TOGGLE_OFF_CAUSE.ICON_TAP:k.SOUND_TOGGLE_ON_CAUSE.ICON_TAP)},updateMuteClickRegionAriaPressed:function(){var a="true"===this.$muteClickRegion.attr("aria-pressed");this.$muteClickRegion.attr("aria-pressed",!a)},setMuteButtonStatus:function(a){var b=this.$muteIcon,c=this.$unmuteIcon;a?(b.css("fill-opacity",1),c.css("fill-opacity",0)):(b.css("fill-opacity",0),c.css("fill-opacity",1))},setMuteStatus:function(a,b){var c=this.videoPlayer,e=this.metricsManager;this.setMuteButtonStatus(a);
a?(c.mute(),e&&e.reportVideoSoundOff(c.getCurrentTimeMs(),b)):(c.unmute(),e&&e.reportVideoSoundOn(c.getCurrentTimeMs(),b))},initPreviewImage:function(){var a=this.videoTag.dataset.videopreviewsrc;this.videoTag.getAttribute("poster")!==a&&this.videoTag.setAttribute("poster",a)},displayMuteClickRegion:function(a){a?(this.$muteClickRegion.addClass("aok-block"),this.$muteClickRegion.removeClass("aok-hidden"),this.metricsManager.reportAudioToggleIconDisplayed()):(this.$muteClickRegion.addClass("aok-hidden"),
this.$muteClickRegion.removeClass("aok-block"))},displayDurationTicker:function(a){this.$durationTicker&&this.$durationTicker.length&&(a?(this.$durationTicker.removeClass("aok-hidden"),this.metricsManager.reportDurationTickerDisplayed()):this.$durationTicker.addClass("aok-hidden"))},showPlayButton:function(a){var b=this.attribution;a?(this.$playButtonClickRegion.removeClass("aok-hidden"),this.metricsManager.reportPlayButtonShown()):(this.$playButtonClickRegion.addClass("aok-hidden"),p.registerElement(b,
this.videoTag,.5,!0,!0,!0,this.onFiftyPercentViewability.bind(this)),p.registerElement(b,this.videoTag,.01,!0,!0,!0,this.onOnePercentViewability.bind(this)))},showDebugInfoCopiedHint:function(a){a?(this.$debugInfoCopiedHint.addClass("aok-block"),this.$debugInfoCopiedHint.removeClass("aok-hidden"),this.metricsManager.reportDebugInfoCopiedMessageShown()):(this.$debugInfoCopiedHint.addClass("aok-hidden"),this.$debugInfoCopiedHint.removeClass("aok-block"),this.metricsManager.reportDebugInfoCopiedMessageHidden())},
copyDebugInfoToClipboard:function(){var a=this,b=this.metricsManager;if(navigator&&navigator.clipboard&&navigator.clipboard.writeText){var c=JSON.stringify(this.metricsManager.getDebugMetricAttributes());navigator.clipboard.writeText(c).then(function(){b.reportDebugInfoCopiedSuccess(c);a.showDebugInfoCopiedHint(!0);setTimeout(function(){a.showDebugInfoCopiedHint(!1)},3E3)}).catch(function(a){b.reportDebugInfoCopiedFailure(a.message)})}else b.reportDebugInfoCopiedFailure("No Supports Clipboard API")},
manualPlay:function(){var a=this.videoPlayer,b=this.metricsManager;this.showPlayButton(!1);a.play();b.reportPlayButtonClicked(a.getCurrentTimeMs());b.reportVideoPlaybackInitiated(a.getCurrentTimeMs())},onOnePercentViewability:function(a,b){a=this.videoPlayer;var c=this.metricsManager;b?(this.onScreenStartTime=this.getCurrentTimeMs(),c.reportVideoOnScreen(a.getPercentDownloaded())):(a.isMuted()||this.setMuteStatus(!0,k.SOUND_TOGGLE_OFF_CAUSE.VIDEO_OFF_SCREEN),b=this.getCurrentTimeMs()-this.onScreenStartTime,
c.reportVideoOffScreen(b,0!=this.videoBufferingStartTime,a.getCurrentTimeMs()),this.onScreenStartTime=0,a.seekToStart(),a.resetContinuousPlaybackDurationMs())},onFiftyPercentViewability:function(a,b){a=this.videoPlayer;var e=this.metricsManager;b?(a.play(),a.resetContinuousPlaybackDurationMs(),e.reportVideoPlaybackInitiated(a.getCurrentTimeMs()),this.viewSessionStartTime=this.getCurrentTimeMs()):(a.pause(),e.reportVideoPauseInitiated(a.getCurrentTimeMs()),e.reportVideoView(a.getContinuousPlaybackDurationMs(),
c.isIOSWebView()),a.resetContinuousPlaybackDurationMs(),this.viewSessionBufferingDuration=0)},onVideoReadyForPlayback:function(a,b,c,e,f,g){this.metricsManager.reportVideoReadyForPlayback(a,b,c,e,f,g);this.onDurationLeftUpdated(0,e)},onVideoPlaybackFailure:function(a,b,c){this.displayMuteClickRegion(!1);this.displayDurationTicker(!1);this.metricsManager.reportVideoPlaybackFailure(a,c,b)},onVideoPlaying:function(a,b,c){this.displayMuteClickRegion(!0);this.displayDurationTicker(!0);this.metricsManager.reportVideoPlaybackStarted(a,
b,c)},onVideoPlaybackPaused:function(a,b,c){this.displayMuteClickRegion(!1);this.displayDurationTicker(!1);this.metricsManager.reportVideoPaused(a,b,c)},onVideoBufferingStarted:function(a,b,c){var e=this.metricsManager;this.videoBufferingStartTime=this.getCurrentTimeMs();e.reportVideoBufferingStarted(a,b,c)},getCurrentTimeMs:function(){return Date.now()},onVideoBufferingEnded:function(a,b,c){var e=this.metricsManager;this.videoBufferingStartTime=0;e.reportVideoBufferingEnded(a,b,c)},onTimeToFirstFrame:function(a,
b,c,e,f){this.metricsManager.reportTimeToFirstFrame(a,b,c,e,f)},onPlaybackCompleted:function(d,b,c){this.metricsManager.reportPlaybackCompleted(d,b);a.isCompleteLogged||(a.isCompleteLogged=!0,this.metricsManager.reportViewMetricsVideoComplete(c))},onDurationPlayed:function(a,b,c){this.metricsManager.reportVideoDurationPlayed(a,b,c)},onContinuousDurationPlayed:function(a){this.metricsManager.reportVideoView(a,!0)},logClick:function(){var a=this.videoPlayer,b=this.metricsManager;b&&b.reportVideoClicked(a.getCurrentTimeMs())},
getVideoCurrentTimeMs:function(){return this.videoPlayer.getCurrentTimeMs()},onVideoAborted:function(a){var b=this.metricsManager;b&&b.reportVideoAborted(a)},onVideoSuspended:function(a){var b=this.metricsManager;b&&b.reportVideoSuspended(a)},onDurationLeftUpdated:function(a,b){this.$durationTickerSeconds&&this.$durationTickerSeconds.length&&(a=("0"+Math.floor((b-a)/1E3)).slice(-2),!isNaN(a)&&isFinite(a)&&this.$durationTickerSeconds.html(a))},onVideoUnmute:function(b){a.isUnmuteLogged||(a.isUnmuteLogged=
!0,this.metricsManager.reportViewMetricsVideoUnmute(b))},onVideoViewMetricsEvent:function(b,c,e){!a.isViewedLogged&&2E3<=b&&(a.isViewedLogged=!0,this.metricsManager.reportViewMetricsVideoViewed(e));!a.isProgressFiveSecondsLogged&&5E3<=b&&(a.isProgressFiveSecondsLogged=!0,this.metricsManager.reportViewMetricsVideoProgressFiveSeconds(e));!a.isFirstQuartileLogged&&b>=.25*c&&(a.isFirstQuartileLogged=!0,this.metricsManager.reportViewMetricsVideoFirstQuartile(e));!a.isMidpointLogged&&b>=.5*c&&(a.isMidpointLogged=
!0,this.metricsManager.reportViewMetricsVideoMidpoint(e));!a.isThirdQuartileLogged&&b>=.75*c&&(a.isThirdQuartileLogged=!0,this.metricsManager.reportViewMetricsVideoThirdQuartile(e))},onVideoPlayPromiseRejected:function(a){var b=this.metricsManager;c.isIOS()&&null!==a&&""!==a&&a.startsWith("NotAllowedError")&&this.showPlayButton(!0);b&&b.reportVideoPlayPromiseRejected(a)},onVideoPlayPromiseNotSupported:function(){var a=this.metricsManager;a&&a.reportVideoPlayPromiseNotSupported()},init:function(d,
e,l,m){function k(a,b,d,c,e,f){t.onVideoReadyForPlayback(a,b,d,c,e,f)}function r(a,b,d,c,e){t.onTimeToFirstFrame(a,b,d,c,e)}function u(a,b,d){t.onVideoPlaybackFailure(a,b,d)}function A(a,b,d){t.onVideoPlaying(a,b,d)}function D(a,b,d){t.onVideoPlaybackPaused(a,b,d)}function U(a,b,d){t.onVideoBufferingStarted(a,b,d)}function V(a,b,d){t.onVideoBufferingEnded(a,b,d)}function E(a,b){t.onPlaybackCompleted(a,b,m)}function B(a,b,d){t.onDurationPlayed(a,b,d)}function F(a){t.onContinuousDurationPlayed(a)}function x(a){t.onVideoAborted(a)}
function y(a){t.onVideoSuspended(a)}function G(a,b){t.onDurationLeftUpdated(a,b);t.onVideoViewMetricsEvent(a,b,m)}function H(a){t.onVideoPlayPromiseRejected(a)}function I(){t.onVideoPlayPromiseNotSupported()}function J(a,b){t.onOnePercentViewability(a,b)}function K(a,b){t.onFiftyPercentViewability(a,b)}function C(){t.load();p.registerElement(d,t.videoTag,.5,!0,!0,!0,K);p.registerElement(d,t.videoTag,.01,!0,!0,!0,J)}e=f.$(e);this.videoTag=e.find("video:first").get(0);var t=this;t.attribution=d;t.metricsManager=
l;a={isViewedLogged:!1,isProgressFiveSecondsLogged:!1,isFirstQuartileLogged:!1,isMidpointLogged:!1,isThirdQuartileLogged:!1,isCompleteLogged:!1,isUnmuteLogged:!1};if(this.videoTag===q||null===this.videoTag||this.videoTag.load===q||null===this.videoTag.load)l.reportMissingVideoFunction(this.videoTag===q||null===this.videoTag?"videoTag is undefined":this.videoTag.outerHTML?this.videoTag.outerHTML:"load function is undefined and outerHTML is not supported");else{t.initPreviewImage();var w=g.builder(this.videoTag).withVideoReadyForPlaybackHandler(k).withTimeToFirstFrameHandler(r).withVideoPlaybackFailureHandler(u).withVideoPlayingHandler(A).withVideoPlaybackPausedHandler(D).withPlaybackCompletedHandler(E).withVideoBufferingStartedHandler(U).withVideoBufferingEndedHandler(V).withVideoPlayedToBoundaryHandler(2E3,
B).withVideoPlayedToBoundaryHandler(15E3,B).withVideoPlaybackFailedAfterPlayErrorCallback(function(){l.reportPlaybackFailedToStartAfterPlay()}).withVideoAbortedHandler(x).withVideoSuspendedHandler(y).withTimeUpdateHandler(G).withVideoPlayPromiseRejectedHandler(H).withVideoPlayPromiseNotSupportedHandler(I);c.isIOSWebView()&&!c.canUseViewWillDisappearToReportMetrics()&&(w=w.withVideoPlayedToContinuousBoundaryHandler(2E3,F));var z=w.build();t.videoPlayer=z;e.find("a").click(function(){t.logClick()});
w=e.find('[data-itemid\x3d"sbv-video-mute-click-region"]');t.$muteClickRegion=w;t.$muteIcon=e.find('[data-itemid\x3d"sbv-video-mute-icon"]');t.$unmuteIcon=e.find('[data-itemid\x3d"sbv-video-unmute-icon"]');t.setMuteButtonStatus(z.isMuted());w.click(function(){t.updateMuteClickRegionAriaPressed();t.toggleAudio();t.$debugInfoCopiedHint&&t.$debugInfoCopiedHint.length&&(h+=1,5===h&&(t.copyDebugInfoToClipboard(),h=0));if(!z.isMuted())t.onVideoUnmute(m)});w.keydown(function(a){if(" "===a.key||"Enter"===
a.key||"Spacebar"===a.key)a.preventDefault(),t.updateMuteClickRegionAriaPressed(),t.toggleAudio()});w=e.find(".sbv-duration-ticker-seconds");t.$durationTickerSeconds=w;w=e.find(".sbv-duration-ticker-container");t.$durationTicker=w;w=e.find('[data-itemid\x3d"sbv-video-play-click-region"]');t.$playButtonClickRegion=w;w.click(function(){t.manualPlay()});e=e.find(".sbv-video-debug-info-copied-message-container");t.$debugInfoCopiedHint=e;(e=b.init())?e.then(function(){navigator.onLine&&(t.load(),t.showPlayButton(!0),
l.reportAdBlockDetected())}).catch(function(){C()}):C()}}}});r.when("A","sbv-slideshow-mixin").register("sbv-slideshow",function(f,p){var k=function(){this.metricsManager=this.carousel=q;this.numOfSlides=this.currentSlideIndex=0};f.mixin(k.prototype,p);return{initialize:function(f,c){var e=new k;e.init(f,c);c.reportSlideshowLoadCompleted(e.numOfSlides);return e}}});r.when("A","a-carousel-framework","sbv-viewability-manager","sbv-metrics-manager").register("sbv-slideshow-mixin",function(f,p,k,g){var c=
0,e=0,b=0,h=this,a=function(a,b){h.carousel===q?h.metricsManager.reportSlideshowLoadFailed(h.numOfSlides,"slideshow.carousel is undefined"):b?(e=f.interval(function(){c+=1},1),h.metricsManager.reportSlideshowOnScreen(h.numOfSlides),d(!0)):(h.status="IDLE",h.metricsManager.reportSlideshowOffScreen(h.numOfSlides,c),clearInterval(e),c=0,d(!1))},d=function(a){a&&h.autoRotate===q?h.autoRotate=f.interval(function(){h.status="AUTO_PLAYING";h.carousel.gotoNextPage({accessibleSafe:!0})},2500):(b=0,h.autoRotate!==
q&&(clearInterval(h.autoRotate),h.autoRotate=q))};return{onFiftyPercentViewability:a,autoPlay:d,init:function(c,e){var g=f.$(c),q=g.get(0);h=this;h.metricsManager=e;p.onInit("sbv-slideshow-carousel",function(c){h.carousel=c;h.numOfSlides=h.carousel.getAttr("totalPages");h.status="IDLE";c=h.carousel.dom.$viewport;f.on("a:pan-horizontal:"+c[0].id,function(a){h.status="SWIPING";d(!1);a.ended&&d(!0)});c.bind(f.action.end,function(a){"SWIPING"===h.status&&h.metricsManager.reportSlideshowSwiped(h.numOfSlides);
d(!0)});g.find("a").click(function(){h.metricsManager.reportSlideshowClicked(h.numOfSlides,h.currentSlideIndex)});f.on("a:carousel:sbv-slideshow-carousel:change:pageNumber",function(a){var d=a.newValue-1;h.currentSlideIndex=d;var c=a.oldValue-1;0===d&&c===h.numOfSlides-1&&(b+=1,h.metricsManager.reportSlideshowLoop(h.numOfSlides,b));f.$(".sbv-slideshow-pagination-container").each(function(){f.$(this).children("ul").children("li:eq("+c+")").removeClass("a-selected");f.$(this).children("ul").children("li:eq("+
d+")").addClass("a-selected")})});k.registerElement(this.attribution,q,.5,!0,!0,!0,a)});return this}}});r.when("A","sbv-multi-brand-video-carousel-mixin").register("sbv-multi-brand-video-carousel",function(f,p){var k=function(){this.currentPlayingIndex=this.mbvCarouselItemElements=q};f.mixin(k.prototype,p);return{initialize:function(f,c,e,b){var h=new k;h.init(f,c,e,b);return h}}});r.when("A","a-carousel-framework","sbv-video","sbv-single-product","sbv-viewability-manager","sbv-metrics-manager").register("sbv-multi-brand-video-carousel-mixin",
function(f,p,k,g,c,e){var b=this,h=function(a){a=a.newValue-1;var c=b.mbvCarouselItemElements[b.currentPlayingIndex].video;c.onFiftyPercentViewability(0,!1);c.onOnePercentViewability(0,!1);c=b.mbvCarouselItemElements[a].video;c.onOnePercentViewability(1,!0);c.onFiftyPercentViewability(1,!0);b.currentPlayingIndex=a},a=function(a,c,e,f){a.get().reduce(function(a,b){var d=b.getElementsByClassName("sbv-video")[0],d=k.initialize(e,d,c,f),h=b.getElementsByClassName("sbv-product")[0],h=g.initialize(h,c,
d);a[b.dataset.mbvIndex]={video:d,product:h};return a},b.mbvCarouselItemElements)};return{init:function(d,c,e,g){b.mbvCarouselItemElements={};b.currentPlayingIndex=0;var k=d.find(".sbv-mbv-carousel-element");p.onInit("mbv-carousel",function(b){a(k,c,e,g);f.on("a:carousel:mbv-carousel:change:pageNumber",h)});return this},onCarouselPageChange:h,initializeCarouselElements:a,getMbvCarouselItemElements:function(){return b.mbvCarouselItemElements}}});r.when("A").register("sbv-page-state",function(f){function p(g,
c){var e=k();e[g]=c;f.state("sb-video-state",e)}function k(){return f.state("sb-video-state")||{}}return{addItem:p,getItem:function(f){return k()[f]},getState:k,removeItem:function(g){var c=k();delete c[g];f.state("sb-video-state",c)},updateItem:p}});"use strict";r.when("sbv-retryable","sbv-platform-compatibility").register("sbv-video-player-builder",function(f,p){function k(c){var a=this,d=0,e=0;this._videoElement=c;this._onVideoBufferingEnded=this._onVideoBufferingStarted=this._onPlaybackCompleted=
this._onPlaybackPaused=this._onVideoPlaying=this._onVideoPlaybackFailure=this._onTimeToFirstFrame=this._onVideoReadyForPlayback=q;this._lastOnTimeUpdateCurrentTimeMs=0;this._boundaryChecks=[];this._continuousDurationBoundaryChecks=[];this._retryable=null;this._registerEventListeners=function(){var c=a._videoElement;c.oncanplay=function(){return a._handleVideoReadyForPlaybackEvent()};c.onerror=function(){!a._assetLoaded&&3>a._retryLoadCount?(a._retryLoadCount++,setTimeout(a._videoElement.load.bind(a._videoElement),
2E3)):a._handleVideoPlaybackFailureEvent()};c.onplaying=function(){a._handleFirstFramePlayedEvent();a._playbackstate===b.BUFFERING&&a._onVideoBufferingEnded(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames());a._playbackstate!==b.END&&a._onVideoPlaying(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames());a._playbackstate=b.PLAYING};c.onpause=function(){a._videoElement.currentTime!==a._videoElement.duration&&(a._playbackstate=b.PAUSED,a._onPlaybackPaused(a.getCurrentTimeMs(),
a.getPercentDownloaded(),a.getDroppedFrames()))};c.onended=function(){a._playbackstate=b.END;var c=a.getDurationMs();e+=c-d;d=0;a._onPlaybackCompleted(a.getDurationMs(),a.getDroppedFrames());a._playInternal()};c.onwaiting=function(){a._playbackstate=b.BUFFERING;a._onVideoBufferingStarted(a.getCurrentTimeMs(),a.getPercentDownloaded(),a.getDroppedFrames())};c.ontimeupdate=function(){a.cancelPlayRetryable();var b=a.getCurrentTimeMs(),d=a.getDurationMs(),c=a.getContinuousPlaybackDurationMs();a._continuousDurationBoundaryChecks.forEach(function(a){a.reportIfBoundaryCrossed(c)});
a._boundaryChecks.forEach(function(d){d.reportIfBoundaryCrossed(a._lastOnTimeUpdateCurrentTimeMs,b,a.getDurationMs(),a.getPercentDownloaded(),a.getDroppedFrames())});a._lastOnTimeUpdateCurrentTimeMs=b;a._onTimeUpdated(b,d)};c.onabort=function(){var b=a.getCurrentTimeMs();a._onAborted(b)};c.onsuspend=function(){var b=a.getCurrentTimeMs();a._onSuspended(b)}};this._getDateTime=function(){return(new Date).getTime()};this._playInternal=function(){a._initiatedPlayTime||(a._initiatedPlayTime=a._getDateTime());
var b=a._videoElement.play();b?b.catch(function(b){var d="Unknown";"string"===typeof b?d=b:b instanceof DOMException&&(d=b.name+": "+b.message);a._onVideoPlayPromiseRejected(d)}):a._onVideoPlayPromiseNotSupported()};this.cancelPlayRetryable=function(){a._retryable&&(a._retryable.cancel(),a._retryable=null)};this._init=function(){a._playbackstate=b.INITIATED;a._loadStartTime=a._getDateTime();a._assetLoaded=!1;a._retryLoadCount=0;a._firstFramePlayed=!1;a._initiatedPlayTime=q};this._init();this._registerEventListeners();
this._handleVideoReadyForPlaybackEvent=function(){if(!a._assetLoaded){var b=a._loadStartTime,d=a._getDateTime();a._onVideoReadyForPlayback(d-b,a._retryLoadCount,a.getPercentDownloaded(),a.getDurationMs(),b,d);a._assetLoaded=!0}};this._handleFirstFramePlayedEvent=function(){if(!a._firstFramePlayed){var b=a._initiatedPlayTime,d=a._getDateTime();a._onTimeToFirstFrame(d-b,a.getPercentDownloaded(),a.getDroppedFrames(),b,d);a._firstFramePlayed=!0}};this._handleVideoPlaybackFailureEvent=function(){var b=
a._videoElement;if(b.error){var d="UNKNOWN";if(b.error.code)switch(b.error.code){case 1:d="MEDIA_ERR_ABORTED";break;case 2:d="MEDIA_ERR_NETWORK";break;case 3:d="MEDIA_ERR_DECODE";break;case 4:d="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:d=b.error.code.toString()}a._onVideoPlaybackFailure(a.getCurrentTimeMs(),d,b.error.message)}};this.addVideoReadyForPlaybackListener=function(b){a._onVideoReadyForPlayback=b;4==a._videoElement.readyState&&(a._onVideoReadyForPlayback(0,0,a.getPercentDownloaded(),a.getDurationMs(),
0,0),a._assetLoaded=!0)};this.addVideoPlaybackFailureListener=function(b){a._onVideoPlaybackFailure=b;if(a._videoElement.error&&a._videoElement.error.code)a._videoElement.onerror()};this.play=function(){p.isIOS()?(a._retryable&&a.cancelPlayRetryable(),a._retryable=new f(a._playInternal,10,200,function(){a._assetLoaded&&null!=a._playbackFailedAfterPlayErrorCallback&&a._playbackFailedAfterPlayErrorCallback()})):a._playInternal()};this.pause=function(){a.cancelPlayRetryable();a._videoElement.pause()};
this.seekToStart=function(){var b=a.getCurrentTimeMs();e+=b-d;d=0;a._lastOnTimeUpdateCurrentTimeMs=0;a._videoElement.currentTime=0};this.mute=function(){a._videoElement.muted=!0};this.unmute=function(){a._videoElement.muted=!1};this.isMuted=function(){return a._videoElement.muted};this.getCurrentTimeMs=function(){return Math.round(1E3*a._videoElement.currentTime)};this.getDurationMs=function(){return Math.round(1E3*a._videoElement.duration)};this.getDroppedFrames=function(){return a._videoElement.getVideoPlaybackQuality?
a._videoElement.getVideoPlaybackQuality().droppedVideoFrames:a._videoElement.webkitDroppedFrameCount!=q?a._videoElement.webkitDroppedFrameCount:-1};this.getContinuousPlaybackDurationMs=function(){return e+(a.getCurrentTimeMs()-d)};this.resetContinuousPlaybackDurationMs=function(){var b=a.getCurrentTimeMs();e=0;d=b===a.getDurationMs()?0:b;a._continuousDurationBoundaryChecks.forEach(function(a){a.resetReported()})};this.getPercentDownloaded=function(){var b=a._videoElement.buffered,d=0;if(b){for(var c=
0;c<b.length;c++)d+=b.end(c)-b.start(c);return d/a._videoElement.duration}return 0};this.load=function(){a._videoElement.load()}}function g(b,a){this.reportIfBoundaryCrossed=function(d,c,e,f,g){!isNaN(b)&&0<=b&&b<=e&&(d<=c?b>d&&b<=c&&a(b,f,g):(0<b&&b<=c||b>d&&b<=e)&&a(b,f,g))}}function c(b,a){var d=!1;this.resetReported=function(){d=!1};this.reportIfBoundaryCrossed=function(c){var e;if(e=!d)e=!isNaN(b)&&0<=b&&b<c;e&&(d=!0,a(c))}}function e(b){var a=this;this._videoPlayer=new k(b);this.withVideoReadyForPlaybackHandler=
function(b){a._videoPlayer.addVideoReadyForPlaybackListener(b);return a};this.withTimeToFirstFrameHandler=function(b){a._videoPlayer._onTimeToFirstFrame=b;return a};this.withVideoPlaybackFailureHandler=function(b){a._videoPlayer.addVideoPlaybackFailureListener(b);return a};this.withVideoPlayingHandler=function(b){a._videoPlayer._onVideoPlaying=b;return a};this.withVideoPlaybackPausedHandler=function(b){a._videoPlayer._onPlaybackPaused=b;return a};this.withPlaybackCompletedHandler=function(b){a._videoPlayer._onPlaybackCompleted=
b;return a};this.withVideoBufferingStartedHandler=function(b){a._videoPlayer._onVideoBufferingStarted=b;return a};this.withVideoBufferingEndedHandler=function(b){a._videoPlayer._onVideoBufferingEnded=b;return a};this.withVideoPlayedToBoundaryHandler=function(b,c){a._videoPlayer._boundaryChecks.push(new g(b,c));return a};this.withVideoPlayedToContinuousBoundaryHandler=function(b,e){a._videoPlayer._continuousDurationBoundaryChecks.push(new c(b,e));return a};this.withVideoPlaybackFailedAfterPlayErrorCallback=
function(b){a._videoPlayer._playbackFailedAfterPlayErrorCallback=b;return a};this.withVideoAbortedHandler=function(b){a._videoPlayer._onAborted=b;return a};this.withVideoSuspendedHandler=function(b){a._videoPlayer._onSuspended=b;return a};this.withTimeUpdateHandler=function(b){a._videoPlayer._onTimeUpdated=b;return a};this.withVideoPlayPromiseRejectedHandler=function(b){a._videoPlayer._onVideoPlayPromiseRejected=b;return a};this.withVideoPlayPromiseNotSupportedHandler=function(b){a._videoPlayer._onVideoPlayPromiseNotSupported=
b;return a};this.build=function(){var b=a._videoPlayer;if(b._onVideoReadyForPlayback&&b._onTimeToFirstFrame&&b._onVideoPlaybackFailure&&b._onVideoPlaying&&b._onPlaybackPaused&&b._onPlaybackCompleted&&b._onVideoBufferingStarted&&b._onVideoBufferingEnded&&b._onAborted&&b._onSuspended&&b._onTimeUpdated&&b._onVideoPlayPromiseRejected&&b._onVideoPlayPromiseNotSupported)return a._videoPlayer;throw Error("Need implements all event listeners");}}var b={PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",
INITIATED:"initiated",END:"ended"};return{builder:function(b){return new e(b)}}});r.register("sbv-event-manager",function(){function f(f){var c=0,e;for(e in f)c++;return c}function p(f,c,e){return function(b){k[c]&&k[c][e]&&k[c][e].listeners.forEach(function(c){if(c.callback)try{c.callback(b)}catch(a){r.log(a&&a.message||"Unknown error in callback.","ERROR",f),ue&&ue.count&&ue.count("sbv-js-errors",(ue.count("sbv-js-errors")||0)+1)}})}}var k={};return{addEventListener:function(f,c,e,b,h){k[c]||(k[c]=
{});k[c][e]||(k[c][e]={listeners:[],generatedCallback:p(f,c,e)},c.addEventListener(e,k[c][e].generatedCallback));k[c][e].listeners.push({priority:b,callback:h});k[c][e].listeners.sort(function(a,b){return a.priority-b.priority})},removeEventListener:function(g,c,e,b){k[g]&&k[g][c]&&(k[g][c].listeners=k[g][c].listeners.filter(function(c){return c.priority!==e||c.callback!==b}),0===k[g][c].listeners.length&&(g.removeEventListener(c,k[g][c].generatedCallback),delete k[g][c],f(k[g])&&delete k[g]))}}});
"use strict";r.when("A","amzn-safe-frame-viewability","sbv-platform-compatibility","sbv-event-manager").register("sbv-viewability-manager",function(f,p,k,g){function c(a,b){a.isInView=b;a.callback(a.ratio,b);a.recurring||m(a.element,a.ratio,a.dispatchOnElementInView,a.dispatchOnElementOutOfView,a.recurring)}function e(a,b){a.dispatchOnElementInView&&b>=a.ratio&&!a.isInView&&c(a,!0);a.dispatchOnElementOutOfView&&b<a.ratio&&a.isInView&&c(a,!1)}function b(a){e(a,0)}function h(a){var b=p.geom(a.element);
e(a,b&&b.self&&b.self.iv||0)}function a(){r.forEach(b)}function d(){r.forEach(h)}function n(){document.hidden?a():setTimeout(d,50)}function l(){a();d()}function m(b,c,e,h,m){var p=r.length;r=r.filter(function(a){return!(a.element===b&&a.ratio===c&&a.dispatchOnElementInView===e&&a.dispatchOnElementOutOfView===h&&a.recurring===m)});0===r.length&&(f.off("afterReady",v),f.off(f.constants.BROWSER_EVENTS.SCROLL,v),f.off(f.constants.BROWSER_EVENTS.RESIZE,v),f.off(f.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,
v),g.removeEventListener(document,"visibilitychange",1,n),g.removeEventListener(u,"beforeunload",1,a),k.isWebView()||(g.removeEventListener(u,"focus",1,d),g.removeEventListener(u,"blur",1,a)),k.isSafari()&&!k.isWebView()&&(g.removeEventListener(u,"pagehide",1,a),g.removeEventListener(u,"pageshow",1,d),g.removeEventListener(u,"popstate",1,l)));return p!==r.length}function q(){k.canUseViewWillDisappearToReportMetrics()&&!D&&(D=!0,u.app||(u.app={}),A=u.app.willDisappear,u.app.willDisappear=function(){a();
A&&A()})}var r=[],v,A,D=!1;v=f.throttle(function(){r.forEach(h)},50);return{registerElement:function(b,c,e,m,p,x,y){c={element:c,ratio:e,dispatchOnElementInView:m,dispatchOnElementOutOfView:p,recurring:x,callback:y};0===r.length&&(f.on("afterReady",v),f.on(f.constants.BROWSER_EVENTS.SCROLL,v),f.on(f.constants.BROWSER_EVENTS.RESIZE,v),f.on(f.constants.BROWSER_EVENTS.ORIENTATION_CHANGE,v),g.addEventListener(b,document,"visibilitychange",1,n),k.isWebView()||(g.addEventListener(b,u,"focus",1,d),g.addEventListener(b,
u,"blur",1,a)),k.isSafari()&&!k.isWebView()&&(g.addEventListener(b,u,"pagehide",1,a),g.addEventListener(b,u,"pageshow",1,d),g.addEventListener(b,u,"popstate",1,l)),q());r.push(c);h(c);return c},deregisterElement:m,_handleRatioInViewChange:e,_onBrowserVisibilityChange:n}})});
/* ******** */
(function(f){var k=window.AmazonUIPageJS||window.P,p=k._namespace||k.attributeErrors,a=p?p("SearchQuestionAnswerWidgetAssets",""):k;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,k,p){f.when("A","ready").execute("aspa-partial-collapse-expander",function(a){a.on("a:expander:qna_answer_expander:toggle:expand",function(a){a.expander.$expander.find(".a-expander-partial-collapse-header").addClass("aok-hidden");a.expander.$expander.find(".a-expander-partial-collapse-content").addClass("aspa-padding-none")});
a.on("a:expander:qna_question_expander:toggle:expand",function(e){var d=e.expander.$expander.find(".s-line-clamp-2");d.addClass("aok-block").removeClass("aok-inline-block");a.delay(function(){d.addClass("aok-inline-block").removeClass("aok-block")},0);f.when("aspa-sqa-event-module").execute("aspa-sqa-register-event",function(c){var a,d;e.expander.$expander.find("#aspa-sqa-event")&&e.expander.$expander.find("#aspa-sqa-event")[0]&&e.expander.$expander.find("#aspa-sqa-event")[0].dataset&&(a=e.expander.$expander.find("#aspa-sqa-event")[0].dataset.aspaSqaEventUrl,
d=e.expander.$expander.find("#aspa-sqa-event")[0].dataset.aspaSqaEventCsrftoken,a&&d&&c.registerSqaEvent(a.concat("\x26aspa_ctype\x3dquestion_expansion"),d))});f.when("a-expander").execute("aspa-question-expander",function(c){c.initializeExpanders()})})});"use strict";f.when("jQuery","rush-framework","a-button","lagoon-feedback-form").register("aspa-voting-component",function(a,e,d,c){function h(c,b){for(var g=0;g<c.length;++g)if(c[g].name===b)return c[g].value;return null}function f(c){var b={};
a.map(c,function(g){b[g.name]=g.value});return b}function m(l){function b(){t||(u.addClass("aok-hidden"),v.addClass("aok-hidden"),z.removeClass("aok-hidden"))}function g(g){g.feedbackSelectors={feedbackContainer:q,buttonSection:q.find(".aspa-vote-buttons"),loadingSection:q.find(".aspa-loading-section"),successSection:q.find(".aspa-success-section"),errorSection:q.find(".aspa-error-section")}}function d(){t?(g(l.currentTarget),c.show(l.currentTarget)):A.removeClass("aok-hidden")}function m(g){401===
g.status?(n.unbind("submit"),n.submit()):(u.removeClass("aok-hidden"),v.removeClass("aok-hidden"))}function e(g){401!==g.status&&z.addClass("aok-hidden")}function p(){for(var b={},a=0;a<r.length;++a)"csm-producer"!==r[a].name&&"csm-schema"!==r[a].name&&(b[r[a].name]=r[a].value);k.ue&&k.ue.event&&k.ue.event(b,B,C);t?(g(l.currentTarget),c.show(l.currentTarget)):(u.addClass("aok-hidden"),v.addClass("aok-hidden"),A.removeClass("aok-hidden"))}var n=a(l.currentTarget),q=n.closest(".aspa-feedback-container"),
u=q.find(".aspa-vote-buttons"),z=q.find(".aspa-loading-section"),A=q.find(".aspa-success-section"),v=q.find(".aspa-error-section"),w=n.attr("action"),D=n.attr("method"),r=n.serializeArray(),x=f(r),B=h(r,"csm-producer"),C=h(r,"csm-schema"),t="THUMBS_DOWN"===(n[0]&&n[0].mainFeedback?n[0].mainFeedback.value:null)&&n[0].useFollowupFeedback&&"true"===n[0].useFollowupFeedback.value,E={"X-Requested-With":"XMLHttpRequest"};l.preventDefault();w?"application/json"===x.contentType?(delete x.contentType,a.ajax({url:w,
type:D,contentType:"application/json",data:JSON.stringify(x),withCredentials:!0,headers:E,beforeSend:b,success:d,error:m,complete:e})):a.ajax({url:w,type:D,data:r,withCredentials:!0,headers:E,beforeSend:b,success:d,error:m,complete:e}):B&&C&&p()}e.registerComponent("aspa-voting-component","aspa-voting-component",function(c){c=a(c.elem()).find(".aspa-vote-form");var b=d(".aspa-upvote-button"),g=d(".aspa-downvote-button");b.isEnabled()||b.enable();g.isEnabled()||g.enable();c.submit(m)})});"use strict";
f.when("A").register("aspa-sqa-event-module",function(a){return{registerSqaEvent:function(e,d){var c={};c["anti-csrftoken-a2z"]=d;a.post(e,{headers:c,timeout:500})}}});"use strict";f.when("A","jQuery","a-modal","ready").register("lagoon-feedback-form-modal",function(a,e,d){var c=null,h=null,f=null,m={name:"lagoon-feedback-form-modal",width:480,height:400,header:"",data:""};return{show:function(a){a&&(m.data=a,c=m,c.header=a.detailFeedbackWelcomeText.value,m.url=a.url,null===f&&(h=e("\x3cdiv/\x3e",
{id:"lagoon-feedback-modal"}),e(document.body).append(h),f=d.create(h,m)),f.update(c).lock().show())},hide:function(){f.unlock().hide()}}});"use strict";f.when("A","jQuery","ready").register("lagoon-feedback-form-bottom-sheet",function(a,e){function d(a,c){var b=h.instance.getContentContainer();e.ajax(a).done(function(g){b.html(g)}).fail(function(){b.html('\x3cdiv class\x3d"lagoon-feedback-form-error"\x3e'+c+"\x3c/div\x3e")});b.addClass("lagoon-feedback-bottom-sheet-container-round-corner")}var c=
null,h=null,y=e('\x3cdiv class\x3d"a-spinner-wrapper"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium lagoon-feedback-bottom-sheet-spinner"\x3e\x3c/span\x3e\x3c/div\x3e');f.when("a-sheet").execute("init",function(a){var d;d=360>k.innerWidth?.7*k.innerHeight:385;h={id:0,instance:null,options:{name:"lagoon-feedback-form-bottom-sheet",height:d,inlineContent:y.html(),closeType:"message"}};c=a});a.on("a:sheet:beforeShow:lagoon-feedback-form-bottom-sheet",function(a){(a=a.sheet?a.sheet.getContentContainer():
p)&&0<a.length&&a.addClass("lagoon-feedback-bottom-sheet-container-round-corner")});return{show:function(a){var e;null!==c&&a&&(h.options.data=a,null===h.instance&&(h.instance=c.create(h.options)),c.showSheet(h.instance),h.instance.$container.attr("id","lagoon-feedback-bottom-sheet-container"),e=a.detailFeedbackSomethingWrongText.value,d(a.url,e))},hide:function(){c.hideSheet(h.instance)},afterHide:function(){h.instance.getContentContainer().html(y.html())}}});"use strict";f.when("A","jQuery","lagoon-feedback-form-modal",
"lagoon-feedback-form-bottom-sheet","ready").register("lagoon-feedback-form-instance",function(a,e,d,c){return{getFeedbackForm:function(){return/(^| )a-mobile( |$)/.test(document.documentElement.className)?c:d}}});"use strict";f.when("A","jQuery","a-tooltip","lagoon-feedback-form-instance","ready").register("lagoon-feedback-form",function(a,e,d,c){function f(a){var b=c.getFeedbackForm();return e.isFunction(b[a])}function k(){b.feedbackSelectors.buttonSection.addClass("aok-hidden");b.feedbackSelectors.loadingSection.addClass("aok-hidden");
b.feedbackSelectors.successSection.removeClass("aok-hidden")}function m(){f("hide")&&c.getFeedbackForm().hide()}var l=!1,b={actionValue:"",cxId:"",feedbackOptionType:"",id:"",idType:"",url:"",detailFeedbackWelcomeText:"",detailFeedbackSomethingWrongText:"",feedbackSelectors:""};return{show:function(a){a&&a.id&&a.cxId&&a.idType&&a.feedbackSelectors&&a.feedbackOptionType&&a.detailFeedbackWelcomeText&&a.detailFeedbackSomethingWrongText?(b.id=a.id.value,b.cxId=a.cxId.value,b.idType=a.idType.value,b.feedbackSelectors=
a.feedbackSelectors,b.feedbackOptionType=a.feedbackOptionType.value,b.detailFeedbackWelcomeText=a.detailFeedbackWelcomeText.value,b.detailFeedbackSomethingWrongText=a.detailFeedbackSomethingWrongText.value,b.url="mashov/lagoon/feedback/form?feedbackOptionType\x3d"+a.feedbackOptionType.value+"\x26answerResponseId\x3d"+a.id.value,a.url=b.url,b.actionValue="",l=!1,c.getFeedbackForm().show(a)):k()},submit:function(a){""!==b.actionValue&&(e.ajax({type:"POST",url:"/mashov/v1/feedback",data:JSON.stringify({cxId:b.cxId,
idType:b.idType,id:b.id,detailFeedback:b.actionValue,feedbackType:"DETAIL_FEEDBACK"}),contentType:"application/json"}),b.actionValue="",l=!1,k(a),m())},hide:m,update:function(a){b.actionValue=a.data.optionStringId;var c,d=null;l||(a=e("#lagoon-feedback-submit-mobile"),c=e("#lagoon-feedback-submit-desktop"),a[0]!==p?(a.removeClass("a-button-disabled"),a.css("background-color","#007185"),d=a.find(".a-button-input")):c[0]!==p&&(c.removeClass("a-button-disabled"),d=c.find(".a-button-input")),d&&d[0]!==
p&&(d[0].disabled=!1),l=!0)},afterHide:function(){f("afterHide")&&c.getFeedbackForm().afterHide();b.actionValue="";l=!1;k()},setDefaultFeedbackContext:function(){b.idType="ANS_RES_ID";b.id="TEST_ID";b.cxId="LAGOON_FEEDBACK"}}});"use strict";f.when("A","jQuery","lagoon-feedback-form","ready").execute("lagoon-feedback-form-signals",function(a,e,d){a.declarative("lagoon-feedback-submit-button-click","click",function(a){d.submit(a)});a.declarative("lagoon-feedback-cancel-button-click","click",function(a){d.hide(a)});
a.declarative("lagoon-accordion-detail-feedback-click","click",function(a){d.update(a)});a.on("a:sheet:afterHide:lagoon-feedback-form-bottom-sheet",function(a){d.afterHide(a)});a.on("a:popover:afterHide:lagoon-feedback-form-modal",function(a){d.afterHide(a)})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("PantryCPIMobileAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(b){var d=window.AmazonUIPageJS||window.P,c=d._namespace||d.attributeErrors,a=c?c("InterstitialProgramInformationSheetAssets",""):d;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,d,c){b.when("A").register("lucid-metrics-logger",function(a){var b=function(b,a){var c=d.ue;"undefined"!==typeof c&&c.count(b,a)};return{logCountMetrics:b,incrementCountMetrics:function(a){b(a,1)}}})});
/* ******** */
(function(h){var k=window.AmazonUIPageJS||window.P,v=k._namespace||k.attributeErrors,a=v?v("SearchWebVSEVideoWidgetAssets",""):k;a.guardFatal?a.guardFatal(h)(a,window):a.execute(function(){h(a,window)})})(function(h,k,v){h.register("vse-search-utils",function(){function a(a){var b,g;"undefined"!==typeof a&&(b=k.ue)&&(g=b.count(a)||0,b.count(a,g+1))}return{postCountMetric:a,postTimeMetric:function(a,b){var g;"undefined"!==typeof a&&"undefined"!==typeof b&&(g=k.ue)&&g.count(a,b)},logError:function(a,
b,g,f){k.ueLogError&&k.ueLogError(f,{logLevel:a,attribution:b,message:g})},logHideWidgetMetrics:function(c){a("vse_search_widget_hidden");c.trigger("vse:search:widget:hidden")},getAssetSpec:function(a,b){a=a.$(b.currentTarget);b=a.parent().data();var g=a.closest("li").index(),f=a.find(".vse-video-image").data("img");return{contentId:b.asin,aciContentId:b.aciContentId,title:b.title,vendorName:b.vendorName,vendorCode:b.vendorCode,referenceUrl:b.referenceUrl,referenceLinkTitle:b.referenceTitle,videoUrl:b.videoUrl,
$el:a,duration:b.duration,imageUrl:f,sponsored:b.sponsored|0,videoVoteContainer:{},productAsin:b.productAsin,refTag:"vse-s-ic-"+g,relatedProducts:b.relatedProducts,sponsorProducts:b.sponsorProducts,vendorTrackingId:b.vendorTrackingId,videoReferenceId:b.videoRefId,index:a.closest("li").index()}},reSize:function(a){a.trigger("resize",{},{width:k.innerWidth,height:k.innerHeight})},getModalFactory:function(a){var b=null;a.capabilities.mobile?h.now("a-secondary-view").execute("vse-search-secondary-view-factory",
function(a){b=a}):h.now("a-modal").execute("vse-search-modal-factory",function(a){b=a});return b},refTagRecorder:function(a,b,g,f){f=f||0;if(!(3<=f)){var d=this;a.post("/gp/mobile/tag/?ref\x3dvse_vws_vc_"+b+g,{error:function(){d.refTagRecorder(a,b,g,++f)}})}}}});h.when("vse-search-utils").execute("vse-search-ajax-calls",function(a){h.register("vse-search-preLoadCallHook",function(){function c(b,g){try{var f=b.A,d=b.request,n=b.block,h=b.handleFailure,k=b.handleSuccess;g--;var q=3-g-1,l=f.now();f.ajax("/vap/ew/componentbuilder",
{params:d,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:d.timeout||4E3,withCredentials:!0,success:function(b){var c=f.now()-l;a.postTimeMetric("vse_search:preload:success:",c);a.postCountMetric("vse_search:preload:success:"+d.page+":"+d.placement+":"+q);f.$(n).html(b);k(f,d,b)},error:function(e){a.postCountMetric("vse_search:preload:error:"+d.page+":"+d.placement+":"+q);(0===e.http.status||500<=e.http.status&&599>=e.http.status)&&0<g?c(b,g):(a.postCountMetric("vse_search:preload:error:"),
h(f,e))}})}catch(e){a.logError("FATAL","vse_search","[vse_search_preLoadCallHook] ",e)}}return{get:function(a,g,f,d,n){c({A:a,block:g,request:f,handleFailure:n,handleSuccess:d},3)}}});h.register("vse-search-lazyLoadCallHook",function(){function c(b,g,f){try{var d=b.A,n=b.context,h=b.handleFailure,k=b.handleSuccess,q=atob(g.attr("data-configuration")),l=JSON.parse(q),e={pageContext:n,configuration:l},r=d.now();f--;var w=3-f-1;d.ajax("/vap/ew/subcomponent/"+l.type,{params:e,paramsFormat:"json",method:"post",
contentType:"application/json",timeout:n.timeout||4E3,withCredentials:!0,success:function(b){var c=d.now()-r;a.postTimeMetric("vse_search:lazyload:success:",c);a.postCountMetric("vse_search:lazyload:success:"+e.page+":"+e.placement+":"+w);g.html(b);k(d,e,b,l.type)},error:function(n){a.postCountMetric("vse_search:lazyload:error:"+e.page+":"+e.placement+":"+w);(0===n.http.status||500<=n.http.status&&599>=n.http.status)&&0<f?c(b,g,f):(a.postCountMetric("vse_search:lazyload:error:"),h(d,e,n,l.type))}})}catch(B){a.logError("FATAL",
"vse_search","[vse_search_lazyLoadCallHook] ",B)}}return{get:function(a,g,f,d,n){var h=a.$;h(g+" div[data-configuration]").each(function(){c({A:a,context:f,handleFailure:n,handleSuccess:d},h(this),3)})}}});h.register("vse-search-relatedProductsHook",function(){function c(b,g,f){try{var d=b.A,n=b.context,h=b.handleFailure,k=b.handleSuccess,q=b.block,l={pageContext:n,configuration:b.config},e=d.now();f--;var r=3-f-1;0<r&&(l.configuration.assets=[]);d.ajax("/vap/ew/subcomponent/relatedproducts/",{params:l,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:n.timeout||4E3,withCredentials:!0,success:function(b){var c=d.now()-e;a.postTimeMetric("vse_search:preload:success:",c);a.postCountMetric("vse_search:preload:success:"+l.page+":"+l.placement+":"+r);d.$(q).html(b);d.$(q).removeClass("aok-hidden");k(d,b)},error:function(e){a.postCountMetric("vse_search:preload:error:"+l.page+":"+l.placement+":"+r);(0===e.http.status||500<=e.http.status&&599>=e.http.status)&&0<f?c(b,g,f):(a.postCountMetric("vse_search:lazyload:error:"),
h(d,e))}})}catch(w){a.logError("FATAL","vse_search","[vse_search_preLoadCallHook] ",w)}}return{get:function(a,g,f,d,n,h){c({A:a,context:f,handleFailure:h,handleSuccess:n,block:g,config:d},3)}}})});"use strict";h.when("A","vse-search-utils","vse-search-preLoadCallHook","vse-search-lazyLoadCallHook","vse-search-relatedProductsHook","rush-framework").register("vse-search-widget",function(a,c,b,g,f,d){a.$(".vse-search-video-carousel").delegate(".vse-video-card.vse-avoid-clicks","click",function(){c.postCountMetric("vse-search.widgetClickedBeforeRushFramework")});
d.registerComponent("vse-search-widget","vse-search-widget",function(d){try{var k=a.now();c.postTimeMetric("vse-search-preload-load-time",k);var v,q,l,e,r=!1,w=!1,B=!1,C=!1,y=!0,I=!1,z,E=!1,A=!1,p=d.elem();h.when("af").execute("vse-search-widget-load-images-lazily",function(){a.loadDescendantImagesManually(a.$(p));a.$(".vse-video-image").addClass("vse-show-img-after-af");a.trigger("a:image:vse:manualLoaded")});d=function O(){if(p)if(B)a.off("scroll",O);else if(a.onScreen(a.$(p),0)){var b=a.now()-
k;r?(c.postCountMetric("vse-search.widgetViewedWithLightboxWidgetsCount"),c.postTimeMetric("vse-search.widgetViewedWithLightboxWidgetsDuration",b)):(c.postCountMetric("vse-search.widgetViewedWithNoLightboxWidgetsCount"),c.postTimeMetric("vse-search.widgetViewedWithNoLightboxWidgetsDuration",b));c.postTimeMetric("vse-search-preload.pageLoadToWidgetViewedDuration",b);B=!0}};d();a.on("scroll",d);var D=a.$(p).attr("data-page-state");if(D){var F=atob(D),m=JSON.parse(F);e=m.clientPrefix;var P=m.popoverTriggerId,
t=m.popoverContainerId,J=m.popoverName,u=m.initialVideo,Q=m.celQueryStringParam,G=m.videoDataList,x=m.relatedProductsConfig,K=0;l={requester:m.requester,clientPrefix:e,page:m.page,placement:m.placement,device:m.device,locale:m.locale,requestId:m.requestId,sessionId:m.sessionId,customerId:m.customerId,marketplaceID:m.marketplaceID,metadata:m.metadata,videoDataList:G,video:{contentID:u.contentId,contentIDType:"ASIN",videoURL:u.videoURL,imageURL:u.videoImageUrl},product:{contentID:u.relatedProductsAsins,
contentIDType:"ASIN"}};var D=function(){var b=a.$(".vse-search-video-carousel").find(".vse-search-video-profile");0<b.length&&(a.$(".vse-search-active-profile-container").removeClass("aok-hidden"),a.$(".vse-search-active-profile-container").html(b.clone().removeClass("aok-hidden").html()),a.$(".vse-vendor-title-container").addClass("vse-vendor-has-profile"))},F=function(){var b=a.$(".vse-search-video-carousel").find(".vse-search-disclosure-container");0<b.length&&a.$(".vse-vendor-disclosure-container").html(b.clone().removeClass("aok-hidden").html())},
H=function(b){var c=a.$(".vse-search-ingress-product-carousel").find(".vse-product-item");if(0<c.length){for(var d="",e=0;e<c.length;e++)d+=c[e].getAttribute("data-asin"),e!==c.length-1&&(d+=";");c=b.buildSushiPayload({eventName:"vse-search.pfoRender",stringPayload:"",intPayload:1,productAsinList:d})}else c=b.buildSushiPayload({eventName:"vse-search.pfoNotRendered",stringPayload:"",intPayload:1,videoAsin:u.contentId});b.postMetric.emitSushiMetric(c,b.endpoint)},m=function(a){E=!0;A&&z&&(A=!1,H(z));
a.trigger("vse:"+e+":relatedproducts:preload:succeeded")};d=function(a){E=!0;A&&z&&(A=!1,H(z));a.trigger("vse:"+e+":relatedproducts:preload:failed")};if(x){C=!0;D();F();var R={id:x.id,type:x.type,binder:x.binder,assets:[x.assets],features:{features:x.features}};l.metadata.relatedProductsAsins=u.relatedProductsAsins;f.get(a,"#"+e+"-ingress-product-carousel-container",l,R,m,d)}var L=function(a,b){a.trigger("vse:"+e+":lazyload:"+b.configuration.type+":failed")},M=function(a,b){a.trigger("vse:"+e+":lazyload:"+
b.configuration.type+":succeeded")};b.get(a,"#"+t+" .vse-search-video-block",l,function(a){y=!1;h.when("VSEComponentAssets").execute("vse-search-preload-success",function(){r=!0;w&&(a.trigger("vse:"+e+":page:lightBoxOpened",{assetSpec:q,lightBoxId:t}),g.get(a,"#"+t,l,M,L),c.postCountMetric("vse-search.lightBoxOpenedBeforePreload"));a.delay(function(){c.reSize(a)},500)});a.trigger("vse:"+e+":preload:succeeded")},function(a){r=!1;a.trigger("vse:"+e+":preload:failed");c.logHideWidgetMetrics(a)});a.$(p).find(".vse-search-video-carousel").delegate(".vse-video-card .vse-carousel-item",
"click",function(b){if(!(C&&(a.$(b.target).closest(".vse-search-active-profile-container").length||a.$(b.target).closest(".vse-disclosure").length)||y)){b.preventDefault();var e=c.getModalFactory(a);q=c.getAssetSpec(a,b);a.objectIsEmpty(e)?(y=!0,c.logHideWidgetMetrics(a)):(v=e.get(a.$("#"+P)),a.objectIsEmpty(v)?(y=!0,c.logHideWidgetMetrics(a)):(v.show(),c.refTagRecorder(a,q.index,Q,0)))}});a.on("a:popover:afterShow:"+J,function(b){w=!0;a.$(b.popover.$popover).addClass(a.$("#"+t).data("cssClass"));
K++;r&&(a.trigger("vse:"+e+":page:lightBoxOpened",{assetSpec:q,lightBoxId:t}),1===K&&(g.get(a,"#"+t,l,M,L),c.postCountMetric("vse-search.lightBoxOpenedAfterPreload")));c.reSize(a)});a.on("a:popover:beforeHide:"+J,function(){r&&(a.trigger("vse:"+e+":page:lightBoxClosed"),a.$("#"+t+" .vse-placeholder").addClass("aok-hidden"),a.$("#"+t+" .vse-search-video-block").removeClass("vse-search-absolute-lb"))});a.on(e+":vse:player:registered",function(){a.$("#"+t+" .vse-search-video-block").first().animate({opacity:1})});
a.declarative(e+"-carousel-see-more","click touch",function(){a.$(p).find(".vse-video-card").first().find(".vse-carousel-item").click()});a.$(".vse-search-see-more.a-link-normal").click(function(b){b.preventDefault();a.$(p).find(".vse-video-card").first().find(".vse-carousel-item").click()});a.on(e+"-leave-pip",function(b){0<=b.index&&a.$(p).find(".vse-carousel-item").eq(b.index).click()});a.on(e+":vse:sushiMetrics",function(b){z=b;var c=G.map(function(a){return a.contentId}).join(","),e=function(a){a=
b.buildSushiPayload({eventName:"vse-search.thumbnailImpression",stringPayload:"",intPayload:1,videoAsin:a});b.postMetric.emitSushiMetric(a,b.endpoint)},d=function(){h.when("A","a-carousel-framework").execute("vse-carousel-metric-handler",function(a,b){var c=b.getCarousel(a.$(p).find(".vse-search-video-carousel")),d=c.getAttr("name"),f=[];G.map(function(a){f.push({videoAsin:a.contentId,impressionRecorded:!1})});b=function N(){for(var b=c.getAttr("pageNumber"),g=c.getAttr("pageSize"),h=c.getAttr("totalPages"),
k=0;k<Math.min(b*g,f.length);k++)f[k].impressionRecorded||(e(f[k].videoAsin),f[k].impressionRecorded=!0);b===h&&(a.off("a:carousel:"+d+":change:pageSize",N),a.off("a:carousel:"+d+":change:pageNumber",N))};b();a.on("a:carousel:"+d+":change:pageSize",b);a.on("a:carousel:"+d+":change:pageNumber",b)})},f=function S(){if(p)if(I)a.off("scroll",S);else if(a.onScreen(a.$(p),0)){var f=b.buildSushiPayload({eventName:"vse-search.pageView",stringPayload:"",intPayload:1,videoAsinList:c});b.postMetric.emitSushiMetric(f,
b.endpoint);C?e(u.contentId):d();I=!0}},g=b.buildSushiPayload({eventName:"vse-search.pageRender",stringPayload:"",intPayload:1,videoAsinList:c});b.postMetric.emitSushiMetric(g,b.endpoint);C&&(E?H(b):A=!0,a.$(p).find(".vse-search-ingress-product-carousel").delegate(".vse-product-item","click",function(c){c=a.$(c.target).closest("li").find(".vse-product-item").attr("data-asin");c=b.buildSushiPayload({eventName:"vse-search.pfoClick",stringPayload:"",intPayload:1,videoAsin:u.contentId,productAsin:c});
b.postMetric.emitSushiMetric(c,b.endpoint)}));f();a.on("scroll",f)});a.$(p).find(".vse-sm-link").removeClass("vse-avoid-clicks");a.$(p).find(".vse-video-card").removeClass("vse-avoid-clicks");a.$(p).find(".vse-search-container-spinner").addClass("aok-hidden");c.postTimeMetric("vse-search.timeToRemoveSpinner",a.now()-k)}else c.logHideWidgetMetrics(a),c.postCountMetric("vse-search-preload-page-state-not-found")}catch(T){y=!0,c.logHideWidgetMetrics(a)}})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("MiraiDiscoverWidgetSearchWebAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(g){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,e=l?l("ListsCommonUtilityAssets",""):h;e.guardFatal?e.guardFatal(g)(e,window):e.execute(function(){g(e,window)})})(function(g,h,l){g.when("A").register("al-ajax-response-state-parser",function(e){var d=e.$;return{getState:function(b){b=d(b).filter("#listsAjaxResponseStateSection");var a=d("#listsAjaxResponseStateSection");a&&0<=a.length&&a.remove();d(b).appendTo("body");e.state.parse();b=e.state("listsAjaxResponseState")||
{};return{hasError:b.hasError,authRequired:b.authRequired,authUrl:b.authUrl,error:b.error}}}});"use strict";g.when("A","al-bottomsheet-with-fallback","iphone-x-detector").register("bottom-sheet-utils",function(e,d,b){var a=e.$;e.declarative("al-sheet-with-fallback","click",function(f){f.$event.preventDefault();var a=f.data;f=d.create(d.buildComponentParams(a.componentName,a.showCloseButton,b.getAdjustedHeightPx(a.bottomsheetHeight),a.popoverHeight,a.popoverWidth,a.headerForPopover,a.viewLabel,a.viewDescription?
a.viewDescription:a.viewLabel,a.paddingForPopover,a.closeMessage),f.$target);d.show(f)});return{raiseBottomsheet:function(b){b=a(b).parents(".a-sheet-web-container");b.css("z-index",1E4);b.siblings(".a-sheet-lightbox").css("z-index",8E3)}}});"use strict";g.when("A").register("al-bottomsheet-with-fallback",function(e){function d(c){h.ueLogError&&h.ueLogError({logLevel:"ERROR",message:c})}var b,a;g.when("a-sheet").execute(function(c){b=c});g.when("a-modal").execute(function(c){a=c});var f=function(c){if(c)return b?
b.get(c.name):a.get(c.name);d("No ComponentParams specified. Please generate componentParams using .create(component)")},p={IS_POPOVER_LABEL:"IS_POPOVER",IS_BOTTOMSHEET_LABEL:"IS_BOTTOMSHEET"};return{create:function(c,f){if(c)return b?b.create(c):a.create(f,c),c;d("No ComponentParams specified. Please generate componentParams using .create(component)")},show:function(c){(c=f(c))?c.show():d("No View Created. Please create a view first by calling .create(component)")},hide:function(c){(c=f(c))?c.hide():
d("No View Created. Please create a view first by calling .create(component)")},changeHeight:function(c,a,e){var g=f(c);g?b?(g.changeHeight({height:a,duration:e}),c.bottomsheetHeight=a):(g.update({height:a}),c.popoverHeight=a):d("No View Found. Please create a view first by calling .create(component)")},remove:function(c){(c=f(c))?c.$container.remove():d("No View Created. Please create a view first by calling .create(component)")},exists:function(c){return f(c)?!0:!1},onCloseExecute:function(c,a,
f){if("function"!==typeof a)d("Expected onCloseFunction to be of type function");else if(c)e.on((b?"a:sheet":"a:popover")+":"+(f?"beforeHide":"afterHide")+":"+c.name,a);else d("No ComponentParams specified. Please generate componentParams using .create(component)")},onOpenExecute:function(a,f,g){if("function"!==typeof f)d("Expected onOpenFunction to be of type function");else if(a)e.on((b?"a:sheet":"a:popover")+":"+(g?"beforeShow":"afterShow")+":"+a.name,f);else d("No ComponentParams specified. Please generate componentParams using .create(component)")},
buildComponentParams:function(a,f,d,e,g,h,u,y,v,w){var x=b!==l,k={viewTypeLabel:x?p.IS_BOTTOMSHEET_LABEL:p.IS_POPOVER_LABEL,name:a};x?(k.closeType=w?"message":f?"icon":l,k.closeMessage=w,k.height=d,k.sheetLabel=u,k.sheetDescription=y,k.preloadDomId=a):(k.closeButton=f,k.height=e,k.width=g,k.dataStrategy="preload",k.header=h,k.hideHeader=h===l,k.padding=v!==l?v:"none",k.popoverLabel=u);return k},VIEW_TYPE_LABELS:p}});"use strict";g.when("A").register("lists-dpx-common-utils",function(e){return{urlParamValue:function(d){for(var b=
h.location.search.substring(1).split("\x26"),a=0;a<b.length;a++){var f=b[a].split("\x3d");if(f[0]===d)return f[1]}}}});"use strict";g.when("A").register("iphone-x-detector",function(){function e(){try{var a=d();b.forEach(function(b){if(-1<a.indexOf(b))return!0})}catch(f){}return!1}function d(){try{var a;a:{for(var b=document.cookie.split(";"),d=0;d<b.length;d++){for(var c=b[d];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf("amzn-app-ctxt\x3d")){a=c.substring(14,c.length);break a}}a=
null}if(a){var e=a.match(/"v":.*%2C*/);if(e)return e.toString().toLowerCase()}}catch(g){}return""}var b=["iphone10","iphone11"];return{isIphoneX:e,getDeviceType:d,getAdjustedHeightPx:function(a){try{if(a=parseInt(a,10),e())return a+40}catch(b){}return a}}});"use strict";g.when("A").register("amazon-lists-csrf-utils",function(e){var d=function(b,a){var d=e.$("["+a+"]");0!==d.length&&(b["anti-csrftoken-a2z"]=d.attr(a))};return{addCsrfToken:function(b){d(b,"data-amazon-lists-csrf-token");d(b,"data-amazon-lists-partner-page-csrf-token")},
hasCsrfToken:function(b){b=b["anti-csrftoken-a2z"];return""!==b&&b!==l}}});"use strict";g.when("A","amazon-lists-csrf-utils").register("lists-ajax-handler",function(e,d){function b(a){d.hasCsrfToken(a)||d.addCsrfToken(a)}function a(a,b){"function"===typeof a?a(b):r("callableFunction passed in is not callable: "+a)}function f(a,b,c){m(a);c&&m(n(a,c));b&&m(n(a,b));b&&c&&m(n(a,b,c))}function g(a){m("lists_ajax_before_send");a&&m(n("lists_ajax_before_send",a))}function c(a){try{return a.replaceAll("/",
"_")}catch(b){r("Replace all failed for URL: "+a)}}function n(a,b,c){return[a,b,c].filter(function(a){return""!==a&&a!==l}).join(":")}function m(a){q&&q.count(a,(q.count(a)||0)+1)}function r(a){h.ueLogError(l,{logLevel:"ERROR",attribution:"ListsCommonUtilityAssets::ListsAjaxHandler",message:a})}var t=e.$,q=h.ue;return{post:function(d){var e=d.headers||[];b(e);var h=c(d.url);g(h);t.ajax({type:"POST",url:d.url,cache:d.isCached,headers:e,data:d.params,timeout:d.timeout,success:function(b,c){f("lists_ajax_success",
h,c);a(d.successCallback,b)},error:function(b,c){f("lists_ajax_error",h,c);a(d.errorCallback)}})},get:function(b){var d=c(b.url);g(d);t.ajax({type:"GET",url:b.url,headers:b.headers,cache:b.isCached,data:b.params,timeout:b.timeout,success:function(c,e){f("lists_ajax_success",d,e);a(b.successCallback,c)},error:function(c,e){f("lists_ajax_error",d,e);a(b.errorCallback)}})}}});"use strict";g.when("A").register("lists-mash-overlay-helper",function(){function e(b){return d&&d.dispatchEvent&&"function"===
typeof d.dispatchEvent?(d.dispatchEvent({type:b}),!0):!1}var d;g.when("mash").execute("amazon-lists-mash-api-registration",function(b){d=b});return{hideGLOWOverlay:function(){return e("appOverlays.Hide")},showGlowOverlay:function(){return e("appOverlays.Show")}}})});
/* ******** */
(function(g){var e=window.AmazonUIPageJS||window.P,n=e._namespace||e.attributeErrors,c=n?n("ListsCreateAssets",""):e;c.guardFatal?c.guardFatal(g)(c,window):c.execute(function(){g(c,window)})})(function(g,e,n){g.when("A","al-bottomsheet-with-fallback","al-ajax-response-state-parser","create-new-list-hz","bottom-sheet-utils","lists-dpx-common-utils").execute(function(c,f,p,z,v,q){function d(){v.raiseBottomsheet("#create-list-form-wrapper")}function r(b){var a=e.ue?e.ue.rid:n;b={createIngressName:b.createIngressName};
a&&(b.relatedRequestID=a);h.ajax({type:"GET",url:"/hz/wishlist/create",data:b,success:A,error:function(b,a,c){t("Failed to fetch CreateList-Form. Status: "+a+"; Error: "+c)},timeout:2E4})}function A(b){var c=h(b).filter("#createlist-form-container");b=p.getState(b);b.authRequired&&b.authUrl?e.location.href=b.authUrl:b.hasError?t("CreateList form has error \x3d "+b.error):(h("#create-list-form-wrapper").html(c),a("#create-list-form-spinner"),w("#create-list-form-wrapper"))}function a(b){h(b).addClass("aok-hidden")}
function w(b){h(b).removeClass("aok-hidden")}function t(b){f.changeHeight(k,110);a("#create-list-form-spinner");a("#create-list-form-wrapper");w("#createlist-form-loading-error-section");e.ueLogError&&e.ueLogError({logLevel:"FATAL",message:b});if(!l())f.onCloseExecute(k,B,!1)}function B(){a("#createlist-form-loading-error-section");a("#create-list-form-wrapper");w("#create-list-form-spinner");e.location.reload()}function x(b,a,c){t("List creation failed. Status: "+a+"; Error: "+c)}function m(b){b.hasError?
t("List creation failed with Error: "+b.error):e.location="/hz/wishlist/ls/"+b.listExternalId}function l(){return"DETAIL_PAGE"===(c.state("createListIngressState")||{}).ingressName&&u}var h=c.$,u,y,k;c.declarative("awl-create-list-bottomsheet","click",function(b){var a=b.data||{};c.state("createListIngressState",{ingressName:a.ingressName});var e=a.componentName;e&&"function"==typeof uet&&uet("bb",e,{wb:1});e=b.data||{};k=f.create(f.buildComponentParams(e.componentName,!0,340,430,400,n,e.viewName,
e.viewDescription,n,n),b.$target);f.show(k);if(l())f.onOpenExecute(k,d);r(a);(b=a.componentName)&&"function"==typeof uet&&uet("cf",b,{wb:1});b&&"function"==typeof uex&&uex("ld",b,{wb:1})});c.declarative("create-list-bottomsheet-submit","click",function(b){b=b.data||{};var d=e.ue?e.ue.rid:n;d&&(b.relatedRequestID=d);d=h("#createlist-list-name-textinput").val();d===n||0===d.length?h("#createlist-list-name-textinput").parent("div").addClass("a-form-error"):(a("#createlist-form-loading-error-section"),
a("#create-list-form-wrapper"),w("#create-list-form-spinner"),b.listName=d,(d=q.urlParamValue("createAndAddAsin"))&&0<d.length&&(b.asin=d),l()?((d=u.getAsin())&&0<d.length&&(b.asin=d),z(b,u.handleSuccess,u.handleError)):"HEARTS_BOTTOMSHEET"===(c.state("createListIngressState")||{}).ingressName&&y?(b.isDefault=!0,f.hide(k),z(b,y.onCreateSuccess,y.onCreateError)):z(b,m,x))});g.when("dp-create-list-handler").execute(function(b){u=b});g.when("hearts-create-list-handler").execute(function(b){y=b});c.on("a:expander:create-list-learn-more-popover:toggle:expand",
function(){k.viewTypeLabel===f.VIEW_TYPE_LABELS.IS_BOTTOMSHEET_LABEL?f.changeHeight(k,425):f.changeHeight(k,580)});c.on("a:expander:create-list-learn-more-popover:toggle:collapse",function(){f.changeHeight(k,340);k.viewTypeLabel===f.VIEW_TYPE_LABELS.IS_BOTTOMSHEET_LABEL?f.changeHeight(k,340):f.changeHeight(k,430)});c.declarative("createlist-list-name-validation",["keyup"],function(b){0!==b.$target.context.value.length&&h("#createlist-list-name-textinput").parent("div").hasClass("a-form-error")&&h("#createlist-list-name-textinput").parent("div").removeClass("a-form-error")})});
"use strict";g.when("A","create-new-list-hz","a-modal","lists-dpx-common-utils","create-list-state-util").register("create-utils",function(c,f,p,g,v){function q(a){a&&"function"==typeof uet&&uet("cf",a,{wb:1});a&&"function"==typeof uex&&uex("ld",a,{wb:1})}var d=c.$,r=function(a){a="#"+(a.formId||"addToCart");0===d(a).length&&(a="#atwl-form");return a};c.declarative("show-create-list",["click touchstart"],function(a){a.$event.preventDefault();var d=a.data;if(d.url||d.name)"function"==typeof uet&&uet("bb",
"create-list-dp-widget",{wb:1}),p.create(a.$target,d).show({padding:"none"}),q("create-list-dp-widget");c.on("a:popover:afterHide:create-list",function(){p.remove("create-list")});c.on("a:popover:show:create-list",function(a){A(a.popover.$popover)});d.createAndAddAsin&&v.saveCreateAndAddAsin(d.createAndAddAsin)});c.declarative("list-name-validation",["keyup"],function(a){0!==a.$target.context.value.length&&d("#alert-list-name").is(":visible")&&(d("#alert-list-name").addClass("aok-hidden"),d("#alert-list-name").parent("div").find("input").each(function(){d(this).removeClass("a-form-error")}))});
var A=function(a){a.delegate("input:text","keypress",function(a){13===a.which&&a.preventDefault()})};return{submitCreate:function(a,p,t){a.$event.preventDefault();var q=d("#create-list-form").closest(".a-popover"),x=d("#list-name").val();if(""===x)d("#alert-list-name").removeClass("aok-hidden"),d("#alert-list-name").parent("div").find("input").each(function(){d(this).addClass("a-form-error")});else{var m={},l=c.state("popoverState")||{},l=r(l),h=g.urlParamValue("createAndAddAsin");h&&1<h.length&&
(m.asin=h);"1"===d("#is-create-and-add").val()&&(l=d(l).find("#ASIN, [name^\x3d'ASIN'], [name\x3d'a'], [name\x3d'asin']").val(),"undefined"!==l&&(m.asin=d.trim(l)));(l=v.getCreateAndAddAsin())&&"undefined"!==l&&(m.asin=l);d("#create-list-loading").removeClass("aok-hidden");q.find("#popover-spinner .a-popover-loading").show();d("#create-list-form").addClass("aok-hidden");m.listName=x;m.sid=a.data.sessionId;m.vendorId=a.data.sourceVendorId;m.privacyStatus=a.data.privacyStatus;m.listType=a.data.listType;
if(a=e.ue?e.ue.rid:n)m.relatedRequestID=a;f(m,p,t)}}}});"use strict";g.when("A","amazon-lists-csrf-utils").register("create-new-list-hz",function(c,f){var p=c.$;return function(c,g,q){var d=[];f.addCsrfToken(d);var r=e.ue?e.ue.rid:n;r&&(c.relatedRequestID=r);c.isJson=!0;return p.ajax("/hz/wishlist/create/newlist",{type:"POST",headers:d,data:c,success:g,error:q,timeout:1E4})}});"use strict";g.when("A").register("create-list-state-util",function(c){var e=c.$;(function(){var c=e('\x3cinput type\x3d"hidden"\x3e');
c.attr("id","lists-createlist-createAndAddAsin");c.appendTo("body")})();return{getCreateAndAddAsin:function(){return e("#lists-createlist-createAndAddAsin").val()},saveCreateAndAddAsin:function(c){e("#lists-createlist-createAndAddAsin").val(c)}}})});
/* ******** */
(function(m){var n=window.AmazonUIPageJS||window.P,p=n._namespace||n.attributeErrors,c=p?p("HeartsAssets",""):n;c.guardFatal?c.guardFatal(m)(c,window):c.execute(function(){m(c,window)})})(function(m,n,p){"use strict";m.when("A","content-margin-utils","hearts-logging-utils","heart-error-utils","hearts-enabled").register("heart-icon-event-handlers-module",function(c,f,b,h){var e={},d;c.declarative("lists-hearts-heart-action","click",function(a){var q=a.data||{},k=a.$currentTarget.closest(".amazon-lists-heart-container"),
f=k.find(".amazon-lists-heart-icon-container"),h=k.find(".amazon-lists-filled-heart"),x=k.find(".amazon-lists-empty-heart"),r=k.find("[aria-checked]"),t=k.find(".amazon-lists-heart-flyout");if(1===h.length&&1===x.length&&1===t.length){a.$event.stopPropagation();a.$event.preventDefault();var u=q.itemExternalId;u in e||(e[u]=!0,k={itemExternalId:u,$heartsContainer:k,$heartsIconContainer:f,$filledHeart:h,$emptyHeart:x,$heartButton:r,isFilledByAttribute:0<r.length,$flyout:t},f=q.flyoutMarginSelector,
h=k.isFilledByAttribute?"true"===k.$heartButton.attr("aria-checked"):k.$emptyHeart.hasClass("aok-hidden"),h?(v(k),b.incrementCount(b.REMOVE_FROM_HEARTS_COUNTER),b.logEventDetails(a.$event),a=k.$heartsContainer.data("heartsListId"),a===p&&d!==p&&(a=d),c.post("/hz/wishlist/hearts/remove",{headers:y(q),params:z(q,a),success:l(k,f,q.isShortenedResponseView),error:n(k)})):(w(k),b.incrementCount(b.ADD_TO_HEARTS_COUNTER),b.logEventDetails(a.$event),c.post("/hz/wishlist/hearts/add",{headers:y(q),params:z(q),
success:m(k,f,q.isShortenedResponseView),error:g(k)})))}});var m=function(a,q,f){return function(b){delete e[a.itemExternalId];if(b.hasError)v(a),h.showError(a,b.errorContent,f,q);else{var c=b.listExternalId;a.$heartsContainer.data("heartsListId",c);d===p&&(d=c);t(a,b.flyoutContent,q);r(a.itemExternalId,!0)}}},g=function(a){return function(){delete e[a.itemExternalId];v(a)}},l=function(a,b,f){return function(c){delete e[a.itemExternalId];if(c.hasError)w(a),h.showError(a,c.errorContent,f,b);else{var g=
a.$heartsContainer,l=c.listExternalId;g.data("heartsListId",l);d===p&&(d=l);g.data("heartsListId")&&g.removeData("heartsListId");t(a,c.flyoutContent,b);r(a.itemExternalId,!1)}}},n=function(a){return function(){delete e[a.itemExternalId];w(a)}},r=function(a,b){c.trigger("hearts:stateChange",{itemExternalId:a,isHearted:b})},z=function(a,b){a={vendorId:a.vendorId||"listsadoption.hearts.unknown",itemType:a.itemType.toLowerCase(),itemExternalId:a.itemExternalId,isShortenedResponseView:a.isShortenedResponseView};
b&&(a.listExternalId=b);return a},y=function(a){var b=[];a.antiCsrfToken&&(b["anti-csrftoken-a2z"]=a.antiCsrfToken);return b},w=function(a){a.isFilledByAttribute?a.$heartButton.attr("aria-checked","true"):(a.$emptyHeart.addClass("aok-hidden"),a.$filledHeart.removeClass("aok-hidden"))},v=function(a){a.isFilledByAttribute?a.$heartButton.attr("aria-checked","false"):(a.$filledHeart.addClass("aok-hidden"),a.$emptyHeart.removeClass("aok-hidden"))},t=function(a,b,e){var h=a.$flyout,d=a.$heartsContainer,
g=d.data("timer");g&&clearTimeout(g);h.html(b);b=h.find(".amazon-lists-heart-list-name-template");b.remove();g=a.$flyout.find(".amazon-lists-heart-flyout-text");g.html(g.html().replace("LIST_NAME",b[0].outerHTML));h.removeClass("aok-hidden");b=d.attr("style");d.attr("style","");g=h.outerWidth(!0)+2+1;e=f.getMaxHeartsContainerWidth(d,e);e=Math.min(g,e);h.addClass("aok-hidden");d.attr("style",b);c.animate(d,{width:e},300,"ease-out",function(){h.removeClass("aok-hidden");var b=c.delay(function(){A(a)},
5E3);d.data("timer",b)})},A=function(a){var b=a.$flyout;b.html("");c.animate(a.$heartsContainer,{width:34},300,"ease-out",function(){b.addClass("aok-hidden")})};(function(){var a=document.createElement("style");document.head.appendChild(a);a.sheet.insertRule(".amazon-lists-heart-container.amazon-lists-heart-container{visibility: visible;opacity: 0.95;}",0)})()});"use strict";m.when("A","hearts-logging-utils","hearts-enabled").register("heart-flyout-event-handlers",function(c,f){c.declarative("amazon-lists-heart-add-flyout-action",
"click",function(b){var c=b.data||{};b.$event.stopPropagation();b.$event.preventDefault();f.incrementCount(f.CLICK_ADD_TO_HEARTS_LIST_TOAST_COUNTER);c.listExternalId&&(n.location.href="/hz/wishlist/ls/"+c.listExternalId)})});"use strict";m.when("A","hearts-enabled").register("content-margin-utils",function(c){return{getMaxHeartsContainerWidth:function(f,b){var h=.8*c.$(n).width(),e=0;f=f.closest(b);1===f.length&&(h=f.width(),e=4);return h-e},getErrorDisplayWidth:function(c,b){c=c.closest(b);return 1===
c.length?c.width():null}}});"use strict";m.when("hearts-enabled").register("hearts-logging-utils",function(){var c=n.ue,f=function(b){c&&c.count(b,(c.count(b)||0)+1)};return{ADD_TO_HEARTS_COUNTER:"addToHeartsList",REMOVE_FROM_HEARTS_COUNTER:"removeFromHeartsList",CLICK_ADD_TO_HEARTS_LIST_TOAST_COUNTER:"clickAddToHeartsListToast",MOVE_ITEM_COUNTER:"reusablehearts:moveToList",CHANGE_DEFAULT_AND_MOVE_COUNTER:"reusablehearts:changeDefaultAndMove",CREATE_LIST_COUNTER:"reusablehearts:createList",LISTS_HEARTS_BOTTOMSHEET_REMOVAL_349794_T1:"LISTS_HEARTS_BOTTOMSHEET_REMOVAL_349794:T1",
incrementCount:f,logEventDetails:function(b){if("undefined"!==typeof b){var c=b.offsetX-13;b=b.offsetY-10;if("undefined"!==typeof c&&"undefined"!==typeof b){var e,d;17<c?e="Right":-17>c&&(e="Left");17<b?d="Bottom":-17>b&&(d="Top");e&&f("heartsListClickMargin"+e);d&&(f("heartsListClickMargin"+d),e&&f("heartsListClickMargin"+d+e))}}}}});m.when("A","content-margin-utils","hearts-enabled").register("heart-error-utils",function(c,f){var b=function(b,e){var d=b.$heartsContainer,f=b.$heartsIconContainer,
g=b.$flyout;c.animate(d,e?{height:0,"margin-top":0}:{width:0},300,"ease-out",function(){d.addClass("aok-hidden");d.removeClass("amazon-lists-popup-error-container");d.addClass("amazon-lists-heart-container");d.attr("style","");f.removeClass("aok-hidden");g.html("");g.addClass("amazon-lists-heart-flyout");e&&g.addClass("aok-nowrap");d.removeClass("aok-hidden")})};return{showError:function(h,e,d,m){var g=h.$flyout,l=h.$heartsContainer,n=h.$heartsIconContainer,r,p;d?r=f.getErrorDisplayWidth(l,m):p=f.getMaxHeartsContainerWidth(l,
m);if(null!==r||null!==p)l.addClass("aok-hidden"),n.addClass("aok-hidden"),l.removeClass("amazon-lists-heart-container"),d?l.addClass("amazon-lists-popup-error-container"):l.addClass("amazon-lists-flyout-error-container"),d?(g.width(r),l.height(0),l.css("margin",0),l.css("top",0)):l.width(0),l.removeClass("aok-hidden"),g.html(e),g.removeClass("amazon-lists-heart-flyout"),d&&g.removeClass("aok-nowrap"),g.removeClass("aok-hidden"),g.children().first().width("100%"),d?(e=g.height(),e={height:e,"margin-top":-1*
e}):e={width:Math.min(g.width(),p)},c.animate(l,e,300,"ease-out",function(){g.removeClass("aok-hidden");c.delay(function(){b(h,d)},5E3)})}}})});
/* ******** */
(function(k){var l=window.AmazonUIPageJS||window.P,m=l._namespace||l.attributeErrors,f=m?m("SearchMultiQuestionWidgetAssets",""):l;f.guardFatal?f.guardFatal(k)(f,window):f.execute(function(){k(f,window)})})(function(k,l,m){k.when("rush-dispatcher","rush-util").register("cse-multi-question-actions",function(f,b){return{listeners:{update:function(c){if(!b.isNotBlank(c))throw Error("widget must be a non-empty string");return c+":multi-question:update-selections"},apply:function(c){if(!b.isNotBlank(c))throw Error("widget must be a non-empty string");
return c+":multi-question:apply-selections"},remove:function(c){if(!b.isNotBlank(c))throw Error("widget must be a non-empty string");return c+":multi-question:remove-selections"}}}});"use strict";k.when("rush-dispatcher","rush-util","cse-multi-question-actions").register("cse-question-actions",function(f,b,c){function d(a,b){if(!a)throw Error(b);}var g=f.trigger,h;h={answered:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":question:answered"},previousAnswered:function(a){d(b.isNotBlank(a),
"questionId must be a non-empty string");return a+":question:previous-answered"},hide:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":question:hide-question"},show:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":question:show-question"}};return{listeners:h,triggers:{updateSelections:function(a,e){d(b.isNotBlank(a),"widget must be a non-empty string");return g(c.listeners.update(a),e)},applySelections:function(a,e){d(b.isNotBlank(a),
"widget must be a non-empty string");return g(c.listeners.apply(a),e)},removeSelections:function(a,e){d(b.isNotBlank(a),"widget must be a non-empty string");return g(c.listeners.remove(a),e)},updatePrevious:function(a,e){d(b.isNotBlank(a),"widget must be a non-empty string");return g(h.previousAnswered(a),e)},show:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return g(h.show(a))},hide:function(a,e){d(b.isNotBlank(a),"questionId must be a non-empty string");return g(h.hide(a),
{questionToShow:e})}}}});"use strict";k.when("rush-dispatcher","rush-util","cse-question-actions").register("cse-answer-actions",function(f,b,c){function d(a,b){if(!a)throw Error(b);}var g=f.trigger,h;h={deselect:function(a){d(b.isNotBlank(a),"questionId must be a non-empty string");return a+":answer:deselect"}};return{listeners:h,triggers:{selected:function(a,e){d(b.isNotBlank(a),"questionId must be a non-empty string");return g(c.listeners.answered(a),e)},deselect:function(a,c){d(b.isNotBlank(a),
"questionId must be a non-empty string");d(b.isNotBlank(c),"uuid must be a non-empty string");return g(h.deselect(a),{selectedUuid:c})}}}})});
/* ******** */
(function(g){var r=window.AmazonUIPageJS||window.P,t=r._namespace||r.attributeErrors,b=t?t("AEEDiscoveryDeepCheckPromiseAssets",""):r;b.guardFatal?b.guardFatal(g)(b,window):b.execute(function(){g(b,window)})})(function(g,r,t){g.when("ags-dc-promise/app/aapi","ags-dc-promise/app/component/lib","ags-dc-promise/app/config","ags-dc-promise/app/fetch","ags-dc-promise/app/repaint","ags-dc-promise/app/retry","ags-dc-promise/lib/controller","ags-dc-promise/lib/metrics","ags-dc-promise/lib/on-error").register("ags-dc-promise/app/component",
function(b,a,c,d,f,e,k,h,p){var g=h.incrementCounterOnCall("batch"),m=h.incrementCounterOnCall("controllerError"),l=h.incrementCounterOnCall("fetchFailed"),q=h.incrementCounterOnCall("productv2Call");h=h.incrementCounterOnCall("repaintError");b=q(b.productv2);b=e(b);b=g(b);d=d(b);e=h(a.logRepaintError);f=p(f,e);l=l(a.logFetchFailure);a=m(a.logControllerError);f=k({fetch:d,repaint:f,recordFetchFailure:l});f=p(f,a);return{name:c.name,attribution:c.attribution||c.name,controller:f}});g.declare("ags-dc-promise/app/component/lib",
{logControllerError:function(b,a){a.log.error(b,b.toString())},logFetchFailure:function(b,a){b.log.error(null,a.statusText)},logRepaintError:function(b,a){a.log.error(b,b.toString())}});g.declare("ags-dc-promise/app/config",{name:"ags-dc-promise",attribution:"ags-dc-promise",aapi:{queryArgs:["dexAgsDeepCheckPromiseParamsMap\x3d{ENABLE_AGS_DEEP_CHECK_PROMISE_258953:T2,isAgsDeepCheckPromiseEnabled:true}"]},fetch:{batchSize:20,batchIntervalMillis:50},retry:{strategy:"max-attempts",maxAttempts:1,delay:50}});
g.when("A","ags-dc-promise/app/config","ags-dc-promise/lib/latency/event-handler").execute("read:ags-dc-promise/app/config",function(b,a){b.each(a,function(a,d){g.declare("ags-dc-promise/app/config/"+d,a)})});g.when("A","3p-promise","aapi-token-dcp","s-aapi-ajax-config","ags-dc-promise/app/config/aapi","ags-dc-promise/app/init/aapi/lib","ags-dc-promise/lib/aapi","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/promise-handle").register("ags-dc-promise/app/aapi",function(b,
a,c,d,f,e,k,h,p,g){a=h.partial(g,a);e=h.partial(e.adaptJquery,b.$,a);b=b.extend({marketplaces:[d.marketplaceId],endpoint:d.ajaxEndpoint,ajax:e,headers:{"x-api-csrf-token":c,"Accept-Language":d.marketplaceLocale}},f);return k(b)});g.declare("ags-dc-promise/app/init/aapi/lib",{adaptJquery:function(b,a,c){var d=c.success,f=c.failure||c.error,e=a();c.xhrFields={withCredentials:!0};c.success=function(f,a,c){b.isFunction(d)&&d.call(null,f,a,c);e.resolve(f)};c.failure=function(a,d,c){b.isFunction(f)&&f.call(null,
a,d,c);e.reject(a)};c.error=c.failure;b.ajax(c.url,c);return e.promise}});g.when("A","3p-promise","ags-dc-promise/app/config/fetch","ags-dc-promise/lib/fetch").register("ags-dc-promise/app/fetch",function(b,a,c,d){return function(f){f=b.extend({productv2:f,Promise:a,inclusions:["buyingOptions[].delivery(product.delivery/v1)"],setInterval:setInterval,clearInterval:clearInterval},c);return d(f)}});g.when("ags-dc-promise/lib/date-format","ags-dc-promise/lib/repaint").register("ags-dc-promise/app/repaint",
function(b,a){return a(b)});g.when("ags-dc-promise/app/config/retry","ags-dc-promise/lib/retry/lib").execute("register:ags-dc-promise/app/retry",function(b,a){a.retryStrategyProvider[b.strategy](function(a){return a(b)});g.when("3p-promise","ags-dc-promise/lib/retry","ags-dc-promise/app/retry/strategy").register("ags-dc-promise/app/retry",function(a,d,f){return d({getNextDelay:f,Promise:a,setTimeout:setTimeout})})});g.when("A","ags-dc-promise/lib/latency/event-handler").register("ags-dc-promise/lib/common",
function(b){return{getProperty:function(a){return function(b){return b[a]}},getUrlParameter:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(location.search);return null===a||null===decodeURIComponent?"":decodeURIComponent(a[1].replace(/\+/g," "))},findFirst:function(a,c){var d,f,e;if(!b.$.isFunction(a))throw new TypeError("predicate should be a function, not a "+typeof a);if(!b.isArray(c))throw new TypeError("collection should be an array, not a "+
typeof c);for(e=0;e<c.length;++e)if(f=c[e],a(f)){d=f;break}return d},partial:function(a){var b=Array.prototype.slice.call(arguments,1);if(1>b.length)throw Error("no arguments given");return function(){var d=Array.prototype.slice.call(arguments);return a.apply(null,b.concat(d))}}}});g.declare("ags-dc-promise/lib/counter",function(){var b=0;return function(){return b++}});g.when("ags-dc-promise/lib/assert").register("ags-dc-promise/lib/memoize",function(b){return function(a,c){b.isType("memo","object",
c);return function(){var d=Array.prototype.slice.call(arguments),f=JSON.stringify(d),e=c[f];"undefined"===typeof e&&(e=a.apply(null,d),c[f]=e);return e}}});g.declare("ags-dc-promise/lib/on-error",function(b,a){return function(){var c=Array.prototype.slice.call(arguments);try{return b.apply(null,c)}catch(d){return a.apply(null,[d].concat(c))}}});g.declare("ags-dc-promise/lib/promise-handle",function(b){var a={};a.promise=new b(function(b,d){a.resolve=b;a.reject=d});return a});g.when("ags-dc-promise/lib/common",
"ags-dc-promise/lib/pipeline","ags-dc-promise/lib/metrics","ags-dc-promise/lib/controller/lib").register("ags-dc-promise/lib/controller",function(b,a,c,d){var f=b.partial(d.validateComponent,d.validateAsin);return a(d.validateConfig,function(e){e=b.partial(d.controller,e.fetch,e.repaint,e.recordFetchFailure);return a(f,e)})});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/controller/lib",function(b,a,c){return{PROP_ASIN:"asin",
controller:function(d,f,e,b){var c=b.prop("asin");f=a.partial(f,b);e=a.partial(e,b);d(c).then(f).catch(e)},validateConfig:c(a.partial(b.isType,["config","fetch"],"function"),a.partial(b.isType,["config","repaint"],"function"),a.partial(b.isType,["config","recordFetchFailure"],"function")),validateComponent:function(a,f){a(f.prop("asin"));return f},validateAsin:c(a.partial(b.isType,"asin","string"),a.partial(b.notEmpty,"asin"))}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/aapi/lib",
"ags-dc-promise/lib/aapi/productv2").register("ags-dc-promise/lib/aapi",function(b,a,c,d){return a(c.validateConfig,function(f){var e=b.partial(c.addMarketplaces,f.marketplaces),k=b.partial(c.addUrlEndpoint,f.endpoint),h=b.partial(c.addQueryArgs,f.queryArgs),g=b.partial(c.addHeaders,f.headers);f=b.partial(c.send,f.ajax);return{productv2:a(d,e,k,h,g,f)}})});g.when("A","ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/aapi/lib",function(b,
a,c,d){return{addHeaders:function(f,e){e.headers=b.extend({},f,e.headers);return e},addMarketplaces:function(f,e){e.url="/api/marketplaces/"+f.join(",")+e.url;return e},addQueryArgs:function(f,e){var a=[];f&&(a=f.map(function(e){return encodeURI(e)}),e.url+=(-1===e.url.lastIndexOf("?")?"?":"\x26")+a.join("\x26"));return e},addUrlEndpoint:function(f,e){e.url=f+e.url;return e},send:function(f,e){return f(e)},validateConfig:d(c.partial(a.isArray,["config","marketplaces"]),c.partial(a.notEmpty,["config",
"marketplaces"]),c.partial(a.isType,["config","endpoint"],"string"),c.partial(a.notEmpty,["config","endpoint"]),c.partial(a.isType,["config","headers"],"object"),c.partial(a.isType,["config","ajax"],"function"))}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/aapi/productv2/lib").register("ags-dc-promise/lib/aapi/productv2",function(b,a){var c=b.partial(a.validateArgs,a.validateAsins,a.validateInclusions,a.validateModifyRequest),d=b.partial(a.addMerchantRefinementToRequest,a.deserializeRefinementParameter);
return b.partial(a.productv2,c,a.formatRequest,a.addUrl,d,a.addAcceptHeader)});g.when("A","ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/aapi/productv2/lib",function(b,a,c,d){return{addAcceptHeader:function(f,e,a){var d="product/v2";e=e.join(",");1<f.length&&(d="collection("+d+")/v1");a.headers=b.extend(a.headers||{},{Accept:'application/vnd.com.amazon.api+json; type\x3d"'+d+'"; expand\x3d"'+e+'"; experiments\x3d"dexAgsDeepCheckPromiseParamsMap_1"'});
return a},deserializeRefinementParameter:function(a){var e={},d,c;if(!a)return{};a=a.split(",");return b.reduce(a,function(a,f){d=f.split(":");if(2!==d.length||!d[0]||!d[1])return a;c=d[1].split("|");e[d[0]]=c;return e},{})},addMerchantRefinementToRequest:function(a,e){var d=c.getUrlParameter("me"),b=c.getUrlParameter("rh");(a=a(b).p_6)&&1===a.length&&!d&&(d=a[0]);d&&(d="merchantId\x3d"+d,e.url+=(-1===e.url.lastIndexOf("?")?"?":"\x26")+d+"\x26merchantSelectionType\x3dEXCLUSIVE");return e},addUrl:function(a,
e){e.url="/products/"+a.join(",");return e},formatRequest:function(){return b.reduce(arguments,function(a,e){return e(a)},{})},productv2:function(a,e,d,b,g,n,m,l){a(n,m,l);a=[c.partial(d,n),c.partial(g,n,m),b];l&&a.push(l);return e.apply(null,a)},validateArgs:function(a,e,d,b,c,g){a(b);e(c);g&&d(g)},validateAsins:d(c.partial(a.isArray,"asins"),c.partial(a.notEmpty,"asins")),validateModifyRequest:c.partial(a.isType,"modifyRequest","function"),validateInclusions:d(c.partial(a.isArray,"inclusions"),
c.partial(a.notEmpty,"inclusions"))}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/assert/lib").register("ags-dc-promise/lib/assert",function(b,a){return{isArray:b.partial(a.isArray,a.follow),isType:b.partial(a.isType,a.follow),lengthAtLeast:b.partial(a.lengthAtLeast,a.follow),notEmpty:b.partial(a.notEmpty,a.follow)}});g.when("A","ags-dc-promise/lib/latency/event-handler").register("ags-dc-promise/lib/assert/lib",function(b){function a(a){return-1===a.indexOf(" ")?a:'"'+a+'"'}function c(d){return b.isArray(d)?
b.map(d,a).join("."):a(d)}return{follow:function(a,f){var e;if("string"===typeof a)return f;if(!b.isArray(a))throw new TypeError("`path` must be a string or Array, not a "+typeof a);if(1===a.length)return f;for(e=1;e<a.length;++e){if("object"!==typeof f)throw new TypeError(a.slice(0,e).join(".")+" must be an object, not a "+typeof f);f=f[a[e]]}return f},isArray:function(a,f,e){a=a(f,e);if(b.isArray(a))return e;throw new TypeError(c(f)+" should be an Array, not a "+typeof a);},isType:function(a,b,
e,k){a=typeof a(b,k);if(a===e)return k;throw new TypeError(c(b)+" should be a "+e+", not a "+a);},lengthAtLeast:function(a,b,e,k){a=a(b,k).length;if(e<=a)return k;throw Error(c(b)+".length should be at least "+e+" but is "+a);},notEmpty:function(a,b,e){if(0<a(b,e).length)return e;throw Error(c(b)+" is empty");}}});g.when("A","ags-dc-promise/lib/common","ags-dc-promise/lib/memoize","ags-dc-promise/lib/date-format/lib").execute("register:ags-dc-promise/lib/date-format",function(b,a,c,d){var f,e;"undefined"!==
typeof r.Intl&&b.$.isFunction(r.Intl.DateTimeFormat)?(b=a.partial(d.format,Intl.DateTimeFormat),b=a.partial(d.convert,b),f=a.partial(d.getToken,d.isLetter),f=a.partial(d.tokenize,f),e=a.partial(d.unescape,d.SINGLE_QUOTE_RE),e=a.partial(d.getOperation,d.TOKEN_OPERATIONS,e),a=a.partial(d.formatDateStr,f,e,b,d.validateLocale,d.validateFormat),g.declare("ags-dc-promise/lib/date-format",c(a,{}))):g.log("Intl.DateTimeFormat not found","ERROR","ags-dc-promise")});g.when("A","ags-dc-promise/lib/assert","ags-dc-promise/lib/common",
"ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/date-format/lib",function(b,a,c,d){return{TOKEN_OPERATIONS:{EEEE:{weekday:"long"},EEE:{weekday:"short"},E:{weekday:"narrow"},MMMM:{month:"long"},MMM:{month:"short"},MM:{month:"2-digit"},M:{month:"numeric"},dd:{day:"2-digit"},d:{day:"numeric"},yyyy:{year:"numeric"},yy:{year:"2-digit"},"''":"'","'":""},SINGLE_QUOTE_RE:/'{1,2}/g,formatDateStr:function(a,e,d,c,g,n,m){var l;c(n);g(m);a=a(m);l=b.map(a,e);return function(a,e){return d(n,l,new Date(a),
e)}},convert:function(a,e,b,d,c){var g=[],m,l;for(m=0;m<b.length;++m)l=b[m],"object"===typeof l?(l.timeZone=c,g.push(a(e,l,d))):g.push(l);return g.join("")},format:function(a,e,b,d){return(new a(e,b)).format(d)},getOperation:function(a,e,b){if("specifier"===b.type){if(a=a[b.str],"undefined"===typeof a)throw Error("Invalid date format specifier: \x3c"+b.str+"\x3e");}else if("text"===b.type)a=e(b.str);else throw Error("Invalid token: "+JSON.stringify(b));return a},getToken:function(a,e,b){for(var d=
e[b],c=!1,g=b;g<e.length&&e[g]===d;)++g;if(a(d))return{type:"specifier",str:e.substring(b,g)};for(g=b;g<e.length&&(c||!a(e[g]));++g)"'"===e[g]&&("'"===e[g+1]?++g:c=!c);return{type:"text",str:e.substring(b,g)}},isLetter:function(a){a=a.charCodeAt(0);return 65<=a&&90>=a||97<=a&&122>=a},tokenize:function(a,e){var b=[],d,c;for(c=0;c<e.length;)d=a(e,c),b.push(d),c+=d.str.length;return b},unescape:function(a,e){return e.replace(a,function(a){if("'"===a)return"";if("''"===a)return"'"})},validateLocale:d(c.partial(a.isType,
"locale","string"),c.partial(a.notEmpty,"locale")),validateFormat:d(c.partial(a.isType,"format","string"),c.partial(a.notEmpty,"format"))}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/on-error","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/promise-handle","ags-dc-promise/lib/fetch/lib").register("ags-dc-promise/lib/fetch",function(b,a,c,d,f){return c(f.validateConfig,function(e){var k=f.newContext(),g=c(f.throwIfInvalidAsin,function(){return null}),g=a(g,e.Promise.reject),p=b.partial(d,
e.Promise),p=b.partial(f.addToPromiseHandles,k.promiseHandles,p),n=b.partial(f.addToQueue,k.queue),m=b.partial(f.getNextBatch,k.queue,e.batchSize),l=b.partial(f.resolveAsin,k.promiseHandles),l=b.partial(f.resolveBatch,l),q=b.partial(f.rejectAsin,k.promiseHandles),q=b.partial(f.rejectBatch,q),l=b.partial(f.requestBatch,e.productv2,e.inclusions,l,q),q=b.partial(f.stopInterval,k,e.clearInterval),m=b.partial(f.requestNextBatch,m,l,q);e=b.partial(f.startInterval,k,e.setInterval,m);k=b.partial(f.getPromise,
k.promiseHandles);e=b.partial(f.enroll,p,n,e);return b.partial(f.fetch,g,k,e)})});g.when("A","ags-dc-promise/lib/metrics","ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/fetch/lib",function(b,a,c,d,f){return{fetch:function(a,b,d,c){return a(c)||b(c)||d(c)||b(c)},addToPromiseHandles:function(a,b,d){a[d]=b()},addToQueue:function(a,b){a.push({asin:b})},enroll:function(a,b,d,c){a(c);b(c);d()},getPromise:function(a,b){return(a=a[b])&&
a.promise},getNextBatch:function(a,b){var d=a.slice(0,b);a.splice(0,b);return d},newContext:function(){return{queue:[],promiseHandles:{},requestInterval:null}},resolveAsin:function(a,b){a[b.asin].resolve(b)},resolveBatch:function(a,c){var f=[];c.entities?f=b.map(c.entities,d.getProperty("entity")):f.push(c.entity);b.each(f,a)},rejectAsin:function(a,b,d){a[b].reject(d)},rejectBatch:function(a,d,c){b.each(d,function(b){a(b,c)})},requestBatch:function(a,c,g,p,n,m){m=b.map(m,d.getProperty("asin"));p=
d.partial(p,m);a(m,c).then(f(g,n)).catch(f(p,n))},requestNextBatch:function(b,c,f){b=b();f=f()?a.onLoad:function(){};d.partial(c,f)(b)},startInterval:function(a,b,d){return null===a.requestInterval&&0<a.queue.length?(a.requestInterval=b(d,a.batchIntervalMillis),!0):!1},stopInterval:function(a,b){return null!==a.requestInterval&&0===a.queue.length?(b(a.requestInterval),a.requestInterval=null,!0):!1},throwIfInvalidAsin:f(d.partial(c.isType,"asin","string"),d.partial(c.notEmpty,"asin")),validateConfig:f(d.partial(c.isType,
["config","productv2"],"function"),d.partial(c.isArray,["config","inclusions"]),d.partial(c.notEmpty,["config","inclusions"]),d.partial(c.isType,["config","batchIntervalMillis"],"number"),d.partial(c.isType,["config","batchSize"],"number"),d.partial(c.isType,["config","Promise"],"function"),d.partial(c.isType,["config","setInterval"],"function"),d.partial(c.isType,["config","clearInterval"],"function")),validateFunction:d.partial(c.isType,"fn","function")}});g.when("af","ready").register("ags-dc-promise/lib/latency/event-handler");
g.when("rush-metrics-adapter","ags-dc-promise/lib/metrics/lib","ags-dc-promise/app/config").register("ags-dc-promise/lib/metrics",function(b,a,c){return{incrementCounterOnCall:function(d){a.validateCounterName(d);return function(c){a.validateFunction(c);return function(){b.incrementCount(d);return c.apply(null,arguments)}}},setCSMMarker:function(d){a.validateMarker(d);b.setTimer(d,c.attribution,{wb:1})},onLoad:function(){b.publish("ld",c.attribution,{wb:1})}}});g.when("ags-dc-promise/lib/assert",
"ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/metrics/lib",function(b,a,c){return{validateCounterName:c(a.partial(b.isType,"counterName","string"),a.partial(b.notEmpty,"counterName")),validateFunction:a.partial(b.isType,"fn","function"),validateMarker:c(a.partial(b.isType,"marker","string"),a.partial(b.notEmpty,"marker"))}});g.when("A","ags-dc-promise/lib/pipeline/lib").register("ags-dc-promise/lib/pipeline",function(b,a){return function(){var c=Array.prototype.slice.call(arguments);
a.validateFns(c);b.each(c,a.validateFn);return b.reduce(c,a.reducer)}});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common").register("ags-dc-promise/lib/pipeline/lib",function(b,a){return{reducer:function(a,b){return function(){return b(a.apply(null,arguments))}},validateFn:a.partial(b.isType,"fn","function"),validateFns:a.partial(b.lengthAtLeast,"fns",2)}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/repaint/lib").register("ags-dc-promise/lib/repaint",
function(b,a,c){return a(c.validateBuildFormatDateStr,function(d){var f=b.partial(c.removeEmptySpans,c.EMPTY_SPAN_RE),e=a(c.formatDateTemplate,f),f=a(c.formatDateRangeTemplate,f),g=b.partial(c.paint,c.getDeliveryDateValueOrRange);return b.partial(c.repaint,e,f,d,g)})});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/repaint/lib",function(b,a,c){return{EMPTY_SPAN_RE:/<span><\/span>/g,formatDateTemplate:function(a,b,c){a=a(c.dateTime,
c.zoneId);return('\x3cspan aria-label\x3d"'+b.replace("{date}",a)+'"\x3e\x3cspan class\x3d"a-color-secondary puis-light-weight-text" dir\x3d"auto"\x3e'+b+"\x3c/span\x3e\x3c/span\x3e").replace("{date}",'\x3c/span\x3e\x3cspan class\x3d"a-color-base puis-medium-weight-text" dir\x3d"auto"\x3e'+a+'\x3c/span\x3e\x3cspan class\x3d"a-color-secondary puis-light-weight-text"\x3e')},formatDateRangeTemplate:function(a,b,c){var g=a(c.min.dateTime,c.min.zoneId);a=a(c.max.dateTime,c.max.zoneId);c=b.replace("{from}",
g).replace("{to}",a);a='\x3cspan class\x3d"a-color-base puis-medium-weight-text" dir\x3d"auto"\x3e'+a+"\x3c/span\x3e\x3cspan\x3e";return('\x3cspan aria-label\x3d"'+c+'"\x3e\x3cspan class\x3d"a-color-secondary puis-light-weight-text" dir\x3d"auto"\x3e'+b+"\x3c/span\x3e\x3c/span\x3e").replace("{from}",'\x3c/span\x3e\x3cspan class\x3d"a-color-base puis-medium-weight-text" dir\x3d"auto"\x3e'+g+"\x3c/span\x3e").replace("{to}",a)},getDeliveryDateValueOrRange:c(a.partial(b.isArray,["entity","buyingOptions"]),
a.getProperty("buyingOptions"),a.partial(a.findFirst,function(a){return"object"===typeof a.delivery}),a.partial(b.isArray,["buyingOption","delivery","entity","messageInstructions"]),a.getProperty("delivery"),a.getProperty("entity"),a.getProperty("messageInstructions"),a.partial(a.findFirst,function(a){return"AMAZON_GLOBAL_STORE"===a.type}),a.partial(b.isArray,["messageInstruction","messageData"]),a.getProperty("messageData"),a.partial(a.findFirst,function(a){return"AMAZON_GLOBAL_STORE"===a.key}),
a.partial(b.isType,["messageData","promise","deliveryDateValueOrRange"],"object"),a.getProperty("promise"),a.getProperty("deliveryDateValueOrRange")),paint:function(a,b,c,g){g=a(g);a=g.deliveryDate;g=g.deliveryDateRange;if(a)return b(a);if(g)return c(g);throw Error("no delivery date or range present");},removeEmptySpans:function(a,b){return b.replace(a,"")},repaint:function(b,c,e,g,h,p){var n=h.elem().children.item(0);e=e(h.prop("locale"),h.prop("format"));b=a.partial(b,e,h.prop("dateTemplate"));
c=a.partial(c,e,h.prop("dateRangeTemplate"));b=g(b,c,p);n?h.replace(n,b):h.append(h.elem(),b)},validateBuildFormatDateStr:a.partial(b.isType,"formatDateStr","function")}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/promise-handle","ags-dc-promise/lib/retry/lib").register("ags-dc-promise/lib/retry",function(b,a,c,d){return a(d.validateConfig,function(a){return function(e){d.validateFn(e);return function(){var g=Array.prototype.slice.call(arguments),h=c(a.Promise),
p,n=b.partial(d.retry,a.setTimeout,function(){p()}),n=b.partial(d.rejectOrRetry,a.getNextDelay,h.reject,n);p=b.partial(d.runStrategy,e,g,h.resolve,n);p();return h.promise}}})});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/retry/lib",function(b,a,c){return{rejectOrRetry:function(a,b,c,g){a=a(g);null===a?b(g):c(a)},retry:function(a,b,c){a(b,c)},runStrategy:function(a,b,c,g){a.apply(null,b).then(c).catch(g)},retryStrategyProvider:{"max-attempts":function(a){g.when("ags-dc-promise/lib/retry/strategy/max-attempts").register("ags-dc-promise/app/retry/strategy",
a)}},validateConfig:c(a.partial(b.isType,["config","Promise"],"function"),a.partial(b.isType,["config","getNextDelay"],"function"),a.partial(b.isType,["config","setTimeout"],"function")),validateFn:a.partial(b.isType,"fn","function")}});g.when("ags-dc-promise/lib/common","ags-dc-promise/lib/counter","ags-dc-promise/lib/pipeline","ags-dc-promise/lib/retry/strategy/max-attempts/lib").register("ags-dc-promise/lib/retry/strategy/max-attempts",function(b,a,c,d){return c(d.validateConfig,function(c){return b.partial(d.getNextDelay,
a(),c.maxAttempts,c.delay)})});g.when("ags-dc-promise/lib/assert","ags-dc-promise/lib/common","ags-dc-promise/lib/pipeline").register("ags-dc-promise/lib/retry/strategy/max-attempts/lib",function(b,a,c){return{getNextDelay:function(a,b,c,g){return a()<b&&500>g.status?c:null},validateConfig:c(a.partial(b.isType,["config","maxAttempts"],"number"),a.partial(b.isType,["config","delay"],"number"))}});g.when("rush-framework","ags-dc-promise/lib/metrics","ags-dc-promise/app/component").execute("register:ags-dc-promise/app/component",
function(b,a,c){a.setCSMMarker("bb");b.registerComponent(c.name,c.attribution,c.controller)})});
/* ******** */
(function(f){var e=window.AmazonUIPageJS||window.P,g=e._namespace||e.attributeErrors,a=g?g("PrelaunchAssets",""):e;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,e,g){f.when("A","a-button").register("nlx-notify-me-utils",function(a,f){function t(){function c(c){return(10>c?"0":"")+c}var d=new Date;return d.getUTCFullYear().toString().substr(2)+c(d.getUTCMonth()+1)+c(d.getUTCDate())+c(d.getUTCHours())}function n(c){k.get("/hctp/log/refMarker?ref_\x3d"+c)}function p(c){var d=
"",a;for(a in c)""!==d&&(d+="\x26"),d+=a+"\x3d"+encodeURIComponent(c[a]);return d}function g(c){var d=0===k("html.a-mobile").length?!1:!0,h=k(c.target),b=h.data(),u=b.signedIn,v=b.refMarker,w=b.subscribeText,x=b.unsubscribeText,q=b.notifyUri,r=b.action,l;a:switch(b.source){case "DETAIL":l="d";break a;default:l="s"}var b={topics:b.topic,channels:b.channel,csrfToken:b.token,entityID:b.entityId,entityType:b.entityType,action:b.action,source:b.source,shouldSendConfirmationEmail:b.sendConfirmationEmail},
m=f("#"+h.closest(".a-button").get(0).id),y=m.text();c.preventDefault();!0!==u?e.location.href=q+"?"+p(b)+"\x26redirectUrl\x3d"+encodeURIComponent("/preferences/subscriptions/your-subscriptions/current-subscriptions?noMoaR\x3d1"):(h.html('\x3cspan class\x3d"a-spinner a-spinner-small"\x3e\x3c/span\x3e'),a.ajax(q,{params:b,method:"post",success:function(){var b,a;switch(r){case "sub":b="unsub";a=x;break;default:b="sub",a=w}m.text(a);h.data("action",b);b=l;a="sub"===r?"n":"u";var c=t();n(v+"_"+b+"_"+
(d?"m":"d")+"_"+c+"_"+a)},error:function(){m.text(y)}}))}var k=a.$;return{generateQueryString:p,registerRefMarker:n,getButtonClickHandler:function(){return g}}});"use strict";f.when("A","nlx-notify-me-utils","rush-framework").register("nlx-notify-me-component",function(a,f,e){var g=a.$;e&&e.registerComponent("nlx-notify-me-component","nlx-notify-me-component",function(a){a=a.elem();a=g(a);var e=f.getButtonClickHandler();a.click(e)})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("INSearchCXAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("MoreLikeThisAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DynamicComparisonAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("VseProductVideoSearchAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(h){var k=window.AmazonUIPageJS||window.P,m=k._namespace||k.attributeErrors,b=m?m("MashovAssets",""):k;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,k,m){h.when("A","jQuery","a-modal","ready").register("mashov-feedback-form-modal",function(b,d,e){var c=null,a=null,f=null,l={name:"mashov-feedback-modal",width:480,height:400,header:"",data:""};return{show:function(b){"undefined"!==typeof b.data&&(l.data=b.data,c=l,c.header=b.data.detailFeedbackWelcomeText,
l.url=b.data.url,null===f&&(a=d("\x3cdiv/\x3e",{id:"mashov-feedback-modal"}),d(document.body).append(a),f=e.create(a,l)),f.update(c).lock().show())},hide:function(){f.unlock().hide()}}});"use strict";h.when("A","jQuery","ready").register("mashov-feedback-form-bottom-sheet",function(b,d){function e(c,b){var e=a.instance.getContentContainer();d.ajax(c).done(function(g){e.html(g)}).fail(function(){e.html('\x3cdiv class\x3d"mashov-feedback-form-error"\x3e'+b+"\x3c/div\x3e")});e.addClass("mashov-feedback-bottom-sheet-container-round-corner")}
var c=null,a=null,f=d('\x3cdiv class\x3d"a-spinner-wrapper"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium mashov-feedback-bottom-sheet-spinner"\x3e\x3c/span\x3e\x3c/div\x3e');h.when("a-sheet").execute("init",function(l){var e;e=360>k.innerWidth?.7*k.innerHeight:375;a={id:0,instance:null,options:{name:"mashov-feedback-bottom-sheet",height:e,inlineContent:f.html(),closeType:"message"}};c=l});b.on("a:sheet:beforeShow:mashov-feedback-bottom-sheet",function(a){(a=a.sheet?a.sheet.getContentContainer():
m)&&0<a.length&&a.addClass("mashov-feedback-bottom-sheet-container-round-corner")});return{show:function(b){var d;null!==c&&b.data&&(a.options.data=b.data,null===a.instance&&(a.instance=c.create(a.options)),c.showSheet(a.instance),a.instance.$container.attr("id","mashov-feedback-bottom-sheet-container"),d=b.data.detailFeedbackSomethingWrongText,e(b.data.url,d))},hide:function(){c.hideSheet(a.instance)},afterHide:function(){a.instance.getContentContainer().html(f.html())}}});"use strict";h.when("A",
"jQuery","mashov-feedback-form-modal","mashov-feedback-form-bottom-sheet","mashov-feedback-form-lagoon-orchestrator","ready").register("mashov-feedback-form-instance",function(b,d,e,c,a){var f=null;return{handleOrchestratorMethod:function(c,b){null===f&&c&&c.data&&c.data.cxId===a.LAGOON_FEEDBACK_CX_ID&&(f=a);if(f&&d.isFunction(f[b]))return f[b](c)},getFeedbackForm:function(){return/(^| )a-mobile( |$)/.test(document.documentElement.className)?c:e}}});"use strict";h.when("A","jQuery","a-tooltip","mashov-feedback-form-instance",
"ready").register("mashov-feedback-form",function(b,d,e,c){function a(a){var g=c.getFeedbackForm();return d.isFunction(g[a])}function f(){c.handleOrchestratorMethod(null,"resetFeedback");g=!1}function l(){a("hide")&&c.getFeedbackForm().hide()}function h(){var a=null,g=null,b=d('\x3cdiv id\x3d"mashov-acknowledge-feedback-tooltip-container"\x3e\x3c/div\x3e');d("#mashov-acknowledge-feedback-tooltip-container").remove();d.when(d("#mashov-acknowledge-feedback-tooltip").remove()).then(function(){var f=
n+d(k).height()/2;b.css("top",f);d(document.body).append(b);g={name:"mashov-acknowledge-feedback-tooltip",inlineContent:'\x3ci class\x3d"a-icon a-icon-success a-icon-small mashov-acknowledge-feedback-tooltip-icon" role\x3d"img"\x3e\x3c/i\x3e\x3cdiv class\x3d"mashov-acknowledge-feedback-tooltip-message aok-relative"\x3e'+c.handleOrchestratorMethod(null,"getThankYouMessage")+"\x3c/div\x3e",width:300};a=e.create(b,g);a.show();a.$container.attr("id","mashov-acknowledge-feedback-tooltip");setTimeout(function(){e.remove(a)},
3E3)})}var n=0,g=!1;return{show:function(g){g&&g.data&&a("show")&&(c.handleOrchestratorMethod(g,"setFeedbackContext"),n=Math.abs(document.body.getBoundingClientRect().top),f(),c.getFeedbackForm().show(g))},submit:function(a){c.handleOrchestratorMethod(a,"isReadyToSubmit")&&(c.handleOrchestratorMethod(a,"submitFeedback"),f(),h(),l())},hide:l,update:function(a){c.handleOrchestratorMethod(a,"updateFeedback");var b,e=null;g||(a=d("#mashov-feedback-submit-mobile"),b=d("#mashov-feedback-submit-desktop"),
a[0]!==m?(a.removeClass("a-button-disabled"),a.css("background-color","#007185"),e=a.find(".a-button-input")):b[0]!==m&&(b.removeClass("a-button-disabled"),e=b.find(".a-button-input")),e[0]!==m&&(e[0].disabled=!1),g=!0)},afterHide:function(){a("afterHide")&&c.getFeedbackForm().afterHide();f()}}});"use strict";h.when("A","jQuery","mashov-feedback-form","mashov-feedback-form-lagoon-orchestrator","ready").execute("mashov-feedback-form-signals",function(b,d,e,c){b.declarative("mashov-utterance-feedback-thumbs-down-click",
"click",function(a){a.data.cxId===c.LAGOON_FEEDBACK_CX_ID&&e.show(a)});b.declarative("mashov-feedback-submit-button-click","click",function(a){e.submit(a)});b.declarative("mashov-feedback-cancel-button-click","click",function(a){e.hide(a)});b.declarative("mashov-accordion-detail-feedback-click","click",function(a){e.update(a)});b.on("a:sheet:afterHide:mashov-feedback-bottom-sheet",function(a){e.afterHide(a)})});"use strict";h.when("A","jQuery","mashov-feedback-request","ready").register("mashov-feedback-form-lagoon-orchestrator",
function(b,d,e){var c="",a="",f="",l="",h="",k="";return{LAGOON_FEEDBACK_CX_ID:"LAGOON_FEEDBACK",getThankYouMessage:function(){return h},isReadyToSubmit:function(){return""!==c},resetFeedback:function(){c=""},setFeedbackContext:function(g){a=g.data.cxId;f=g.data.id;l=g.data.idType;h=g.data.detailFeedbackSuccessText;k="mashov/lagoon/feedback/form?feedbackOptionType\x3d"+g.data.feedbackOptionType+"\x26answerResponseId\x3d"+g.data.id;g.data.url=k},setDefaultFeedbackContext:function(){l="ANS_RES_ID";
f="TEST_ID";a="LAGOON_FEEDBACK"},submitFeedback:function(){e.saveDetailFeedback(a,l,f,c)},updateFeedback:function(a){c=a.data.optionStringId}}});"use strict";h.when("A","jQuery","mashov-feedback-request","ready").execute("mashov-thumbs-feedback",function(b,d,e){function c(a){return{image:a.find(".mashov-thumbs-up-image"),imageSelected:a.find(".mashov-thumbs-up-selected-image")}}function a(a){return{image:a.find(".mashov-thumbs-down-image"),imageSelected:a.find(".mashov-thumbs-down-selected-image")}}
function f(a){return{feedbackMessage:a.find(".mashov-feedback-message"),thankYouMessage:a.find(".mashov-feedback-acknowledgment-message")}}function h(a){d(a.image).addClass("aok-hidden");d(a.imageSelected).removeClass("aok-hidden")}function m(a){d(a.image).removeClass("aok-hidden");d(a.imageSelected).addClass("aok-hidden")}function n(a){d(a.feedbackMessage).addClass("aok-hidden");d(a.thankYouMessage).removeClass("aok-hidden")}b.declarative("mashov-utterance-feedback-thumbs-up-click","click",function(b){var d=
b.$currentTarget.parent();h(c(d));m(a(d));n(f(d.parent()));k.ue.count("Mashov."+b.data.cxId+".ThumbsUp",1);e.savePositiveFeedback(b.data.cxId,b.data.idType,b.data.id)});b.declarative("mashov-utterance-feedback-thumbs-down-click","click",function(b){var d=b.$currentTarget.parent();h(a(d));m(c(d));n(f(d.parent()));k.ue.count("Mashov."+b.data.cxId+".ThumbsDown",1);e.saveNegativeFeedback(b.data.cxId,b.data.idType,b.data.id)});b.on("load",function(){var a=document.querySelectorAll("span[data-action\x3d'mashov-utterance-feedback-thumbs-up-click']"),
b,c;for(b=0;b<a.length;b++)c=JSON.parse(a[b].getAttribute("data-mashov-utterance-feedback-thumbs-up-click")),c=c.cxId||"UNDEFINED_CX_ID",k.ue.count("Mashov."+c+".ThumbsWidgetRendered",1)})});"use strict";h.when("jQuery").register("mashov-feedback-request",function(b){function d(d){b.ajax({type:"POST",url:"/mashov/v1/feedback",data:JSON.stringify(d),contentType:"application/json"})}return{savePositiveFeedback:function(b,c,a){d({cxId:b,idType:c,id:a,mainFeedback:"THUMBS_UP",feedbackType:"MAIN_FEEDBACK"})},
saveNegativeFeedback:function(b,c,a){d({cxId:b,idType:c,id:a,mainFeedback:"THUMBS_DOWN",feedbackType:"MAIN_FEEDBACK"})},saveDetailFeedback:function(b,c,a,f){d({cxId:b,idType:c,id:a,detailFeedback:f,feedbackType:"DETAIL_FEEDBACK"})}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("CompactViewSearchAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(h){var d=window.AmazonUIPageJS||window.P,q=d._namespace||d.attributeErrors,f=q?q("ShareWidgetTriggerAssets",""):d;f.guardFatal?f.guardFatal(h)(f,window):f.execute(function(){h(f,window)})})(function(h,d,q){h.now("tafShareOnNetwork").execute(function(d){"undefined"!==typeof d?h.log("tafShareOnNetwork is already registered","WARN","ShareWidgetTriggerAssets"):h.when("A","socialShareUtil").register("tafShareOnNetwork",function(c,a){var d={facebook:{shareEndpoint:"https://www.facebook.com/dialog/share",
params:function(b){return{href:a.decodeEntities(b.url),display:"popup",quote:b.quote?a.decodeEntities(b.quote):"",app_id:"465632727431967"}},ref:"fb",height:450,width:700,isWebShare:!0},pinterest:{shareEndpoint:"https://www.pinterest.com/pin/create/button",params:function(b){return{url:a.decodeEntities(b.url),media:a.decodeEntities(b.image),description:a.decodeEntities(b.description)}},ref:"pi",height:620,width:700,isWebShare:!0},line:{shareEndpoint:"https://social-plugins.line.me/lineit/share",params:function(b){var c=
a.decodeEntities(b.title)+" "+a.decodeEntities(b.description);b=a.decodeEntities(b.url);return{text:c,url:b}},ref:"li",height:620,width:700,isWebShare:!0},twitter:{shareEndpoint:"https://twitter.com/intent/tweet",params:function(b){var c=a.decodeEntities(b.title);b=a.decodeEntities(b.url);if(c){var d=b?Math.min(b.length,20):-1;200<c.length+d+1&&(c=c.substring(0,200-(d+1+3))+"...")}return{text:c,url:b}},ref:"tw",height:470,width:670,isWebShare:!0},email:{shareEndpoint:"mailto:",params:function(b){return{subject:a.decodeEntities(b.title),
body:a.decodeEntities(b.description)+"\n"+a.decodeEntities(b.url)}},ref:"em",isWebShare:!1},sms:{shareEndpoint:"sms:",params:function(b){return{body:a.decodeEntities(b.title)+" "+a.decodeEntities(b.url)}},ref:"sm",isWebShare:!1},whatsapp:{shareEndpoint:"whatsapp://send",params:function(b){return{text:a.decodeEntities(b.title)+"\n"+a.decodeEntities(b.description)+"\n"+a.decodeEntities(b.url)}},ref:"wa",isWebShare:!1}};return{share:function(b,c){var l=d[c];if("undefined"===typeof l)a.logFatal("Unsupported network:"+
c,b.clientRef);else{var f=a.generateReftags(b,l.ref);b.network=c;a.logCSACustomEvent(f.clickReftag,"share",b);b.url=a.updateReftagParam(b.url,f.returnReftag);a.logCounter("Click."+l.ref,1);b=a.buildUrl(l.shareEndpoint,l.params(b),b.devicename,c);a.triggerShare(b,l.isWebShare,l.width,l.height)}}}})});h.when("A","tafShareOnNetwork","socialShareUtil","ready").execute(function(d,c,a){a.logCounter("Render",1);d.declarative("swf-share-network","click",function(g){g=g.data;var b=g.pageStateId,e=d.state(b);
"undefined"===typeof e?a.logFatal("Page state:"+b+" undefined"):c.share(e,g.network)});a.stopTimer()});h.when("A","tafBottomSheet","socialShareUtil","ready").execute(function(d,c,a){a.logCounter("Click.ShareIcon",1);d.declarative("swf-share-network-v2-icon","click",function(g){var b=g.data,e=g.$currentTarget;e.addClass("no-clicks");d.delay(function(){e.removeClass("no-clicks")},1E3);d.capabilities.isAmazonApp?(a.logCounter("ShareIngress.MobileApp.MashShareAvailable",1),h.when("mash").execute(function(a){c.showAppSheet(b,
a)})):"function"===typeof navigator.share?(a.logCounter("ShareIngress.MobileWeb.NativeShareAvailable",1),c.showNativeSheet(b)):(a.logCounter("ShareIngress.MobileWeb.BottomShareSheetAvailable",1),c.showBottomSheet(b))})});h.when("A").register("socialShareUtil",function(f){function c(n,a,b,c){a=new RegExp("([?\x26/])"+a+"\x3d.*?(\x26|$)","i");var d=-1!==n.indexOf("?")?"\x26":"?";return n.match(a)?n.replace(a,"$1"+b+"\x3d"+c+"$2"):n+d+b+"\x3d"+c}function a(){for(var n="",a=0;13>a;a++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*
Math.random()));return n}function g(){var a="UNKNOWN",b="UNKNOWN",c={MSHOP_IOS:"MSHOP_IOS",MSHOP_ANDROID:"MSHOP_ANDROID",MSHOP_UNKNOWN:"MSHOP_UNKNOWN",MWEB_IOS:"MWEB_IOS",MWEB_ANDROID:"MWEB_ANDROID",MWEB_UNKNOWN:"MWEB_UNKNOWN",TABLET_IOS:"TABLET_IOS",TABLET_ANDROID:"TABLET_ANDROID",TABLET_UNKNOWN:"TABLET_UNKNOWN",UNKNOWN_UNKNOWN:"DESKTOP"};k.isAmazonApp?a="MSHOP":k.mobile?a="MWEB":k.tablet&&(a="TABLET");k.ios?b="IOS":k.android&&(b="ANDROID");a=a+"_"+b;return c[a]?c[a]:"UNKNOWN_PLATFORM"}function b(){var a=
new Date(Date.now()),b=6E4*a.getTimezoneOffset(),b=(new Date(a-b)).toISOString().split("Z")[0].split(".")[0],a=a.toISOString().split("Z")[0].split(".")[0],c=a.split("T")[0];return{marketplaceId:d.ue&&d.ue.mid?d.ue.mid:"unknown",hitDay:c,hitDatetime:b,hitDatetimeUtc:a,sessionId:d.ue&&d.ue.sid?d.ue.sid:"unknown",pageType:d.ue_pty?d.ue_pty:"unknown",subPageType:d.ue_spty?d.ue_spty:"unknown"}}function e(a,b){var c=a="unknown",d={"com.google.android.gm.ComposeActivityGmail":"Email","com.android.email.activity.MessageCompose":"Email",
"com.google.android.gm.ComposeActivityGmailExternal":"Email","com.twitter.android.composer.TextFirstComposerActivity":"Twitter","com.twitter.android.composer.ComposerActivity":"Twitter","com.twitter.app.dm.DMActivity":"Twitter","com.android.mms.ui.ConversationComposer":"SMS","com.android.mms.ui.ComposeMessageActivity":"SMS","com.google.android.apps.messaging.ui.conversationlist.ShareIntentActivity":"SMS","com.facebook.composer.shareintent.ImplicitShareIntentHandler":"Facebook","com.facebook.composer.shareintent.ImplicitShareIntentHandlerDefaultAlias":"Facebook",
"com.facebook.messenger.activity.ShareLauncherActivity":"FacebookMessenger","com.facebook.messenger.intents.ShareIntentHandler":"FacebookMessenger","com.whatsapp.contact.picker.ContactPicker":"WhatsApp","com.whatsapp.ContactPicker":"WhatsApp","com.sina.weibo.EditActivity":"Weibo","com.sina.weibo.composerinde.ComposerDispatchActivity":"Weibo","com.weico.international.activity.compose.SeaComposeActivity":"Weibo","com.pinterest.activity.create.PinItActivity":"Pinterest","jp.naver.line.android.activity.selectchat.SelectChatActivity":"Line",
"com.linecorp.line.share.common.view.FullPickerLaunchActivity":"Line","com.google.android.apps.docs.drive.clipboard.SendTextToClipboardActivity":"Copy","com.instagram.direct.share.handler.DirectShareHandlerActivity":"Instagram","com.snap.mushroom.MainActivity":"Snapchat"},e={px:"BabyRegistry",wr:"WeddingRegistry",sr:"AmazonShowroom",gr:"GiftRegistry",as:"AlexaSkills",dl:"Deal",dp:"DetailPage",qv:"Search",br:"BabyRegistry",al:"AmazonLive",ao:"Voltron",bc:"AmazonBookClub"},l=g(),h=b.url,f=h.split("/");
if(b.network)a=b.network;else if(b.sharingType){var m=b.sharingType.replace(/['"]+/g,"");k.ios?a=m:d[m]&&(a=d[m])}b=e[b.refId]?e[b.refId]:"unknown";d=new RegExp(/^([a-zA-Z0-9]){10}$/);for(e=f.length-1;1<=e;e--)if(f[e].match(d)){c=f[e];break}h=h.match(new RegExp(/^https:\/\/www.amazon./))?f[0]+"/"+f[1]+"/"+f[2]:"unknown";return{channel:a,platform:l,referrerUrl:h,shareRefId:b,asin:c}}function l(a){return"undefined"!==typeof a.pageLevelStateKey?f.state(a.pageLevelStateKey):a.pageLevelData}function m(a,
b){d.ue&&(a="SocialShareJS."+a,d.ue.count(a,(d.ue.count(a)||0)+b))}function p(){d.uet&&d.uet("bb","SocialShareJS",{wb:1})}var k=f.capabilities;p();return{buildUrl:function(a,b,c){b=b||{};var d=Object.keys(b);c=0<d.length&&("sms:"!==a||"IPHONE"!==c)?"?":"";for(var e=0;e<d.length;e++)"?"!==c&&(c+="\x26"),b[d[e]]&&(c+=d[e]+"\x3d"+encodeURIComponent(b[d[e]]));return a+c},logFatal:function(a,b){m("Fatal",1);var c="SHARE_WITH_FRIENDS_JS_WIDGET";b&&(c=c+"_"+b);h.log(a,"FATAL",c)},decodeEntities:function(a){var b=
document.createElement("textarea");b.innerHTML=a;return b.value},getPageData:l,generateReftags:function(b,c){var d,e;b=l(b);"undefined"!==typeof b&&(d=b.clientRef,e=b.deviceTypeRef);d=d?d:"un";e=e?e:"un";b=c?c:"un";c=a();b="cm_sw_"+b;d=d+"_"+e+"_"+c;return{returnReftag:b+"_r_"+d,clickReftag:b+"_c_"+d}},generateNativeReftags:function(b){b=b?b.toLowerCase():"ur";var c="ud",d=a(),e=k.isAmazonApp&&k.ios;if(k.isAmazonApp&&k.android)c="apa";else if(e)c="api";else if(k.mobile||k.tablet)c="mwn";return{returnReftag:"cm_sw_r_"+
c+"_"+b+"_"+d,clickReftag:"cm_sw_c_"+c+"_"+b+"_"+d}},updateReftagParam:function(a,b,d){return d?c(a,"ref_?","ref_",b):c(a,"ref_?","ref",b)},generateUUID:a,triggerShare:function(a,b,c,e){if(b){b=screen.width;var g=screen.height;c=c?c:.7*b;e=e?e:.7*g;d.open(a,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+c+",height\x3d"+e+",top\x3d"+(g/2-e/2)+",left\x3d"+(b/2-c/2))}else d.open(a,"_top")},generatePlatform:g,generateClientSideAttributes:b,generateServerSideAttributes:e,logCSACustomEvent:function(a,c,
g){var f=b();g=e(a,g);d.csa&&d.csa("Events",{producerId:"social-share"})("log",{schemaId:"SocialShareCSACustomEvent.CSAShareMetrics.8",customerId:"unknown",marketplaceId:f.marketplaceId,hitDay:f.hitDay,hitDatetime:f.hitDatetime,hitDatetimeUtc:f.hitDatetimeUtc,sessionId:f.sessionId,pageType:f.pageType,subPageType:f.subPageType,refMarker:a,isInternal:2,isRobot:2,httpRequestId:"unknown",referrerUrl:g.referrerUrl,userAgentId:0,channel:g.channel,ingress:g.shareRefId,platform:g.platform,shareHitType:c,
asin:g.asin})},logCounter:m,startTimer:p,stopTimer:function(){d.uet&&d.uet("be","SocialShareJS",{wb:1});d.uex&&d.uex("ld","SocialShareJS",{wb:1})},getFullPageType:function(){return"page:"+(d.ue_pty||"unknown")+",sub:"+(d.ue_spty||d.ue_pti||"unknown")},getAttribution:function(a){a=navigator.platform||a;var b=(k.isAmazonApp?"AmazonApp":"mWeb")+(k.mobile?":mobile":"")+(k.tablet?":tablet":"");k.android&&(a="Android:"+b+k.androidVersion);k.ios&&(a="iOS:"+b);return"SocialShareJS:"+a},truncateMessage:function(a,
b){var c=Array(3).fill(".");return a.length>b?a.substring(0,b-3)+c.join(""):a}}});h.when("a-sheet","socialShareUtil").register("tafBottomSheet",function(d,c){return{showBottomSheet:function(a){c.logCounter("ShareIngress.MobileWeb.CustomShareSheetShow",1);try{var g=c.generateNativeReftags(a.refId),b={name:"cancelButtonSheet",height:400,closeType:"icon"};a.preloadDomId&&(b.preloadDomId=a.preloadDomId);var e=d.create(b);d.showSheet(e);c.logCSACustomEvent(g.clickReftag,"share",a)}catch(l){c.logCounter("ShareIngress.MobileWeb.CustomShareSheetError",
1),a="Error triggering Custom Share on: "+c.getFullPageType()+":"+l.message,h.log(a,"FATAL",c.getAttribution())}},showNativeSheet:function(a){c.logCounter("ShareIngress.MobileWeb.NativeShareSheetShow",1);try{var d=c.generateNativeReftags(a.refId),b=c.updateReftagParam(a.url,d.returnReftag,!0),e=a.description||a.text;c.logCounter("Click.ShareIngress.Native."+a.refId,1);navigator.share({url:b,text:a.title,title:e}).then(function(){c.logCounter("ShareIngress.MobileWeb.NativeShareDone",1);c.logCSACustomEvent(d.clickReftag,
"click_success",a);c.logCSACustomEvent(d.clickReftag,"share",a)}).catch(function(b){c.logCounter("ShareIngress.MobileWeb.NativeShareClosed",1);c.logCSACustomEvent(d.clickReftag,"click_success",a);c.logCSACustomEvent(d.clickReftag,"click_cancel",a)})}catch(f){c.logCounter("ShareIngress.MobileWeb.NativeShareSheetError",1),c.logCSACustomEvent(d.clickReftag,"click_error",a),b="Error triggering Native Share on: "+c.getFullPageType()+":"+f.message,h.log(b,"FATAL",c.getAttribution(a.deviceEnv))}},showAppSheet:function(a,
d){c.logCounter("ShareIngress.MobileApp.MashShareSheetShow",1);try{var b=c.generateNativeReftags(a.refId),e=c.updateReftagParam(a.url,b.returnReftag,!0),f=a.description||a.text,m=a.title+"\n"+e,p=e.length+2,k=c.truncateMessage(a.title,160-p)+"\n"+e,n=c.truncateMessage(a.title,140-p)+"\n"+e;c.logCounter("Click.ShareIngress.Mash."+a.refId,1);d.share({messagePlain:m,messagePlain160:k,messagePlain140:n,messageHTML:m,url:e,subject:f,successCallback:function(){c.logCounter("ShareIngress.MobileApp.MashShareSheetSuccess",
1);c.logCSACustomEvent(b.clickReftag,"click_success",a)},failCallback:function(){c.logCounter("ShareIngress.MobileApp.MashShareSheetFail",1);c.logCSACustomEvent(b.clickReftag,"click_error",a)},shareServiceSelectedCallback:function(d){"'null'"===d||null===d?c.logCSACustomEvent(b.clickReftag,"click_cancel",a):(c.logCounter("ShareIngress.MobileApp.MashShareSheetSharingTypeAvailable",1),a.sharingType=d,c.logCSACustomEvent(b.clickReftag,"share",a))}})}catch(r){c.logCounter("ShareIngress.MobileApp.MashShareSheetError",
1),d="Error triggering Mash Share on: "+c.getFullPageType()+":"+r.message,h.log(d,"FATAL",c.getAttribution(a.deviceEnv))}}}})});
/* ******** */
(function(e){var d=window.AmazonUIPageJS||window.P,g=d._namespace||d.attributeErrors,b=g?g("SuperFilterAssets@bottom-sheet",""):d;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,d,g){e.when("A","sf-constants-module","sf-csm-util").register("sf-sheet-accordions",function(b,c,f){var e=b.$,d={};b.on("a:expander:toggle:expand",function(a){a&&a.expander&&a.expander.expanderName&&a.expander.expanderName.match("^"+c.SUPER_FILTER.SUPER_FILTER_PREFIX)&&(d[a.expander.expanderName]=
c.CONSTANT_STATES.EXPANDED,f.incrementCount(c.METRIC_CONSTANTS.SF_ACCORDION_OPENED),f.incrementCount(c.METRIC_CONSTANTS.SF_ACCORDION_OPENED+"-"+a.expander.expanderName))});b.on("a:expander:toggle:collapse",function(a){a&&a.expander&&a.expander.expanderName&&a.expander.expanderName.match("^"+c.SUPER_FILTER.SUPER_FILTER_PREFIX)&&(d[a.expander.expanderName]=c.CONSTANT_STATES.COLLAPSED,f.incrementCount(c.METRIC_CONSTANTS.SF_ACCORDION_CLOSED),f.incrementCount(c.METRIC_CONSTANTS.SF_ACCORDION_CLOSED+"-"+
a.expander.expanderName))});return{getAccordionsState:function(){return d},triggerMetrics:function(){var a=e(c.CONSTANT_CLASSES.SF_REFINEMENTS_SECTION).length,b=e(c.CONSTANT_CLASSES.SF_ACTIVE_ACCORDION_SELECTOR).length;f.addCount(c.METRIC_CONSTANTS.SF_ACCORDION_PERCENTAGE_ON_DROPDOWN_CLOSE,b/a*100)}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@filter-search",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(d){var c=window.AmazonUIPageJS||window.P,f=c._namespace||c.attributeErrors,a=f?f("SuperFilterAssets@helpers",""):c;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,c,f){d.register("sf-constants-module",function(){return{CONSTANT_CLASSES:{SF_REFINEMENT_PANEL:".sf-refinements-panel",SF_FILTER_FLOATBOX:".sf-filter-floatbox",SF_FILTER_LINK:".a-link-normal",SF_FILTER_ITEM_DISABLED:"s-filter-item-disabled",SF_FILTER_ITEM_SELECTED:"s-filter-item-selected",
SF_FILTER_ITEM_NO_CLICK:"sf-filter-item-no-click",SF_SEE_MORE_BTN:".sf-see-more-btn",SF_HIDE_FRONT_LIGHTBOX:"sf-hide-front-lightbox",SF_HIDE_CATEGORY_TREE:"sf-hide-category-tree",SF_REFINEMENTS_SECTION:".sf-refinements-section",SF_ACTIVE_ACCORDION_SELECTOR:".sf-refinements-section\x3ediv\x3ea\x3e.a-icon-section-collapse"},SUPER_FILTER:{SUPER_FILTER_PREFIX:"sf-",TREE_ANIMATION_DELAY:510},CONSTANT_PROPERTY:{DIV_ID:"id"},DECLARATIVE_ACTION:{SF_SINGLE_SELECT_FILTER:"sf-single-select-filter",SEE_MORE_BTN:"super-filter-see-more",
CLEAR_FILTERS_BTN:"sf-clear-filters",SF_TREE_SELECT_FILTER:"sf-tree-traversal-select-filter"},METRIC_CONSTANTS:{SF_ACCORDION_OPENED:"sf-accordion-opened",SF_ACCORDION_CLOSED:"sf-accordion-closed",SF_ACCORDION_PERCENTAGE_ON_DROPDOWN_CLOSE:"sf-accordion-percentage_on_dropdown_close",SF_FILTER_UNSELECT_VIA_MENU:"sf-filter-unselect-via-menu",SF_TREE_FILTER_SELECT:"sf-tree-filter-select",SF_TREE_FILTER_UNSELECT:"sf-tree-filter-unselect"},CONSTANT_STATES:{EXPANDED:"expanded",COLLAPSED:"collapsed"}}});"use strict";
d.register("sf-csm-util",function(){return{incrementCount:function(a){var b=c.ue,e;b&&b.count&&(e=b.count(a)||0,b.count(a,e+1))},addCount:function(a,b){var e=c.ue;e&&e.count&&e.count(a,b)},markLoadingTime:function(a){var b=c.uex;"function"===typeof b&&b("ld",a,{wb:1})}}});"use strict";d.when("sf-constants-module").register("sf-item-util",function(a){var b=a.CONSTANT_CLASSES;return{getSelectedItem:function(a){var c=a.$target.closest(b.SF_FILTER_FLOATBOX);1!==c.length&&(c=a.$target.closest(b.SF_FILTER_LINK));
return c},isItemDisabled:function(a){return a.hasClass(b.SF_FILTER_ITEM_DISABLED)||a.hasClass(b.SF_FILTER_ITEM_NO_CLICK)}}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-messaging",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(e){var c=window.AmazonUIPageJS||window.P,f=c._namespace||c.attributeErrors,a=f?f("SuperFilterAssets@super-filter",""):c;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,c,f){e.when("A","sf-constants-module","sf-csm-util","R","sf-item-util").register("sf-super-filter",function(a,b,e,h,c){var d=b.CONSTANT_CLASSES,k=b.METRIC_CONSTANTS,g={rushRouterWrapper:function(d,a){var b={};if(!d)return!1;b.url=d;h.to(b,a);return!0},isSuperFilterRefresh:function(){return f},
singleSelectClickHandler:function(a){a=c.getSelectedItem(a);var b;return 1!==a.length||(b=c.isItemDisabled(a),b)?!1:(a.hasClass(d.SF_FILTER_ITEM_SELECTED)&&e.incrementCount(k.SF_FILTER_UNSELECT_VIA_MENU),a=a.attr("href"),g.rushRouterWrapper(a,{}),!0)}};a.declarative(b.DECLARATIVE_ACTION.SF_SINGLE_SELECT_FILTER,"click",g.singleSelectClickHandler);return g});"use strict";e.when("A","sf-constants-module","sf-super-filter").register("sf-super-filter-common",function(a,b,e){var c=b.CONSTANT_CLASSES,f=
b.CONSTANT_PROPERTY;b=b.DECLARATIVE_ACTION;a.declarative(b.SEE_MORE_BTN,"click",function(d){if(d=d.$target.closest(c.SF_REFINEMENT_PANEL))d=d.prop(f.DIV_ID),a.show("#"+d+" "+c.SF_FILTER_FLOATBOX),a.hide("#"+d+" "+c.SF_SEE_MORE_BTN)});a.declarative(b.CLEAR_FILTERS_BTN,"click",function(a){a=a.$target.closest(c.SF_FILTER_LINK);a.length&&(a=a.attr("href"),e.rushRouterWrapper(a))})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@super-filter-landing",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@tree-traversal",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@vertical-tabs",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SuperFilterAssets@rib-ar-toggle",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("SearchSharedATCAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(u){var d=window.AmazonUIPageJS||window.P,n=d._namespace||d.attributeErrors,x=n?n("SocialShareWidgetAUI","AmazonUI"):d;x.guardFatal?x.guardFatal(u)(x,window):x.execute(function(){u(x,window)})})(function(u,d,n){var x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};u.register("SocialShareWidget",function(){return function(h){function a(c){if(d[c])return d[c].exports;
var e=d[c]={i:c,l:!1,exports:{}};return h[c].call(e.exports,e,e.exports,a),e.l=!0,e.exports}var d={};return a.m=h,a.c=d,a.d=function(c,e,m){a.o(c,e)||Object.defineProperty(c,e,{enumerable:!0,get:m})},a.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})},a.t=function(c,e){if((1&e&&(c=a(c)),8&e)||4&e&&"object"==("undefined"===typeof c?"undefined":x(c))&&c&&c.__esModule)return c;var m=
Object.create(null);if(a.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:c}),2&e&&"string"!=typeof c)for(var k in c)a.d(m,k,function(a){return c[a]}.bind(null,k));return m},a.n=function(c){var e=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(e,"a",e),e},a.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)},a.p="",a(a.s=6)}([function(h,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=
a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=a.isClipboardAvailable=a.isTwisterAsin=a.context=a.Device=void 0;var c,e=f(4);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(c=a.Device||(a.Device={}));a.context=function(){var k=c.Other;return(0,a.isMobileApp)()&&(0,a.isAndroid)()?k=c.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?k=c.IOS:(0,a.isMobileWeb)()&&(k=c.MWeb),{device:k,page:(0,a.isUeAvailable)()?d.ue_pty:"unknown",subPage:(0,
a.isUeAvailable)()?d.ue_spty||d.ue_pti:"unknown"}};a.isTwisterAsin=function(){return!!d.isTwisterPage||!!d.twisterController||m};a.isClipboardAvailable=function(){return!!navigator.clipboard&&(0,e.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!d.ue};a.isAUILoaded=function(){var a;return(0,e.isString)(null===(a=null===d||void 0===d?void 0:d.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};a.isIE=function(){return(0,e.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,
e.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,e.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,e.getCookie)("amzn-app-id"))};a.isMobileWeb=function(){return 450>=d.screen.availWidth&&((0,e.testUserAgent)(/mobile|mini/i)||
(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return d.navigator&&(0,e.isFunction)(d.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&(0,e.isFunction)(a.share)};a.isCSALoaded=function(){return(0,e.isFunction)(d.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=d.navigator)||void 0===a?void 0:a.vendor)};var m=!1;(0,a.isAUILoaded)()&&d.P.when("mobile-inline-twister-critical").execute(function(){m=!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,
isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,isMobileApp:a.isMobileApp,isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari}},function(d,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.defaultShareDataAttributes=a.REGEX_TO_REF_ID_AND_CHANNEL_APP=
a.EMBED_CHANNEL_REF=a.CP_CHANNEL_REF=a.RAW_CHANNEL_PREFIX=a.EMPTY_STRING=a.DEFAULT_CSA_REF_ID=a.CSA_DEFAULT_VALUE=a.CSA_HIT_TYPE=void 0;d=a.CSA_HIT_TYPE||(a.CSA_HIT_TYPE={});d.CLICK_SUCCESS="click_success";d.CLICK_ERROR="click_error";d.CLICK_CANCEL="click_cancel";d.SHARE="share";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.EMBED_CHANNEL_REF="eb";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",
channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},
whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,marketplaceId:a.CSA_DEFAULT_VALUE.string}},function(h,a,f){Object.defineProperty(a,"__esModule",{value:!0});
var c=f(3);h=function(){function a(m,k){this.REF_PARAM_NAME="ref_";a.isValid(m)||(m=a.getDefault());this.url=new URL(m);this._refMarker=new c.default(k)}return a.prototype.getUpdatedUrl=function(a){var c=new URL(this.raw);return c.searchParams.set(this.REF_PARAM_NAME,a),c.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,
configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(k){return!1}return!0},a.getDefault=function(){var a,c,b=null===(a=null===d||void 0===d?void 0:d.location)||void 0===a?void 0:a.href;if(!b)return(null===(c=null===d||void 0===d?void 0:d.ue)||void 0===c?0:c.sn)?"https://"+d.ue.sn:"https://amazon.com";a=new URL(b);c=a.searchParams.has("psc")?"?psc\x3d1":"";return d.ue_pti?d.location.origin+"/dp/"+d.ue_pti+c:(a.search=c,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);
return this.getUpdatedUrl(a)},a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=h},function(h,a,f){Object.defineProperty(a,"__esModule",{value:!0});
var c,e=f(0);!function(a){a.RETURN="r";a.CLICK="cl"}(c||(c={}));h=function(){function a(a){if(void 0===a&&(a="ur"),this.PREFIX="cm_sw",this.id="",this.refId="",this.cxt={device:e.Device.Other,page:"",subPage:""},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,e.context)();this.generateUniqueId()}return Object.defineProperty(a.prototype,"return",{get:function(){return this.get(c.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,
"click",{get:function(){return this.get(c.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){return this.PREFIX+"_"+c.RETURN+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+this.id},a.prototype.getClickForChannel=function(a){return this.PREFIX+"_"+c.CLICK+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+this.id},a.prototype.generateUniqueId=function(){var a,b=null===(a=null===d||void 0===d?void 0:d.ue)||void 0===a?void 0:a.rid;return b||(b=(""+Math.random().toString(36).slice(2)+
Math.random().toString(36).slice(2)).substring(0,13)),this.id=b},a.prototype.get=function(a){return this.PREFIX+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+this.id},a}();a.default=h},function(h,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};
a.isString=function(a){return"string"==typeof a};a.truncate=function(a,e){void 0===a&&(a="");var c=Array(3).fill(".");return a.length>e?a.substring(0,e-3)+c.join(""):a};a.testUserAgent=function(a){if(!d&&!d.navigator)return!1;try{return a.test(d.navigator.userAgent)}catch(e){return!1}};a.getCookie=function(a){a+="\x3d";for(var c=document.cookie.split(";"),d=0;d<c.length;d++){for(var k=c[d];" "==k.charAt(0);)k=k.substring(1);if(0==k.indexOf(a))return k.substring(a.length,k.length)}return""};a.getDPXObject=
function(){var a,e;return null===(e=null===(a=d.DetailPage)||void 0===a?void 0:a.StateController)||void 0===e?void 0:e.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,getDPXObject:a.getDPXObject}},function(h,a,f){Object.defineProperty(a,"__esModule",{value:!0});var c=f(0),e=f(9);h=function(){function a(){}return a.logCounter=function(a,b){(0,c.isUeAvailable)()&&(a=this.BASE_METRIC_NAME+
"."+a+(b?"."+b:""),d.ue.count(a,(d.ue.count(a)||0)+1))},a.logFatal=function(a){(0,c.isAUILoaded)()&&d.P.log(a,"FATAL",this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,b){(0,c.isCSALoaded)()&&(new e.default).withCSAClickEventData(b).withShareHitType(a).logEvent()},a.startTimer=function(a){d.uet&&(0,c.isUeAvailable)()&&(d.uet("bb",this.BASE_METRIC_NAME,{wb:1}),d.uet("bb",this.BASE_METRIC_NAME+"."+a,{wb:1}))},a.stopTimer=function(a){d.uet&&(0,c.isUeAvailable)()&&(d.uet("be",this.BASE_METRIC_NAME,{wb:1}),
d.uet("be",this.BASE_METRIC_NAME+"."+a,{wb:1}));d.uex&&(0,c.isUeAvailable)()&&(d.uex("ld",this.BASE_METRIC_NAME,{wb:1}),d.uex("ld",this.BASE_METRIC_NAME+"."+a,{wb:1}))},a.BASE_METRIC_NAME="SocialShareFramework",a.getMetricName=function(a){var b;return(a=a('[data-action\x3d"ssf-share-icon"]').data())?(a=(null===(b=a.ssfShareIcon)||void 0===b?void 0:b.shareDataAttributes)||{},b=a.ingress,a=a.platform,((void 0===b?"unknown":b)+"."+(void 0===a?"unknown":a)).toLowerCase()):""},a}();a.default=h},function(d,
a,f){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;d=f(7);var c=f(2),e=f(8),h=f(5),k=f(10),b=f(3),p=f(0);f=f(1);a.SocialShareCore={Channels:d.default,Url:c.default,Translations:e.default,Metrics:h.default,ShareSheet:k.default,RefMarker:b.default,Detection:p.default,Constants:f};a.default=a.SocialShareCore},function(d,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,d){var c={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"https://m.media-amazon.com/images/G/01/share-icons/email-circular.svg",
imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/email-squared.svg",canOpenInPopup:!1,getSharingUrl:function(b){var c="?subject\x3d"+encodeURIComponent(a.emailSubject||a.title),d="\x26body\x3d"+encodeURIComponent(a.title);b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+c+d+" "+b}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",image:"https://m.media-amazon.com/images/G/01/share-icons/pinterest-circular.svg",
imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/pinterest-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){b="?url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var c="\x26description\x3d"+encodeURIComponent(a.title),d="\x26media\x3d"+encodeURIComponent(a.image);return""+this.shareBaseUrl+b+c+d+"\x26method\x3dbutton"}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"https://m.media-amazon.com/images/G/01/share-icons/line-circular.svg",
imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/line-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){var c="?text\x3d"+encodeURIComponent(a.text)+" "+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+c+b}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"https://m.media-amazon.com/images/G/01/share-icons/facebook-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/facebook-squared.svg",
canOpenInPopup:!0,getSharingUrl:function(b){b=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)),"redirect_uri\x3d"+encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),"hashtag\x3d"+encodeURIComponent("#"+(a.hashtags[0]||"Amazon"))].join("\x26");return""+this.shareBaseUrl+b}},tw:{label:"Twitter",name:"twitter",ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"https://m.media-amazon.com/images/G/01/share-icons/twitter-circular.svg",
imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/twitter-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){var c="?text\x3d"+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var d="\x26hashtags\x3d"+a.hashtags.join(","),e="\x26via\x3d"+encodeURIComponent("Amazon");return""+this.shareBaseUrl+c+b+d+e}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"https://m.media-amazon.com/images/G/01/share-icons/whatsapp-circular.svg",
imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/whatsapp-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){b="\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(a.text)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+b}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"https://m.media-amazon.com/images/G/01/share-icons/sms-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/sms-squared.svg",
canOpenInPopup:!1,getSharingUrl:function(b){b="\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+b}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"https://m.media-amazon.com/images/G/01/share-icons/embed-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/embed-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",
name:"copy",ref:"cp",shareBaseUrl:"",image:"https://m.media-amazon.com/images/G/01/share-icons/link-circular.svg",imageSquared:"https://m.media-amazon.com/images/G/01/share-icons/link-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==d?0:d.length){var e={};return d.forEach(function(a){c[a]&&(e[a]=c[a])}),e}return c}},function(d,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},function(h,a,f){Object.defineProperty(a,"__esModule",{value:!0});var c=f(0),
e=f(1);h=function(){function a(){var c=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();a=c.getDateTimeByOffset(a);var b=c.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:b}};this.getMarketplaceId=function(a){return"string"==typeof a?a:d.ue&&d.ue.mid?d.ue.mid:e.CSA_DEFAULT_VALUE.string};var b=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:e.CSA_DEFAULT_VALUE.number,hitDay:b.hitDay,
hitDatetime:b.hitDatetime,hitDatetimeUtc:b.hitDatetimeUtc,pageType:d.ue_pty?d.ue_pty:e.CSA_DEFAULT_VALUE.string,subPageType:d.ue_spty?d.ue_spty:e.CSA_DEFAULT_VALUE.string,sessionId:d.ue&&d.ue.sid?d.ue.sid:e.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var b=a.shareDataAttributes;if(this.csaMetricsData.customerId=b.customerId?b.customerId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=b.requestId?b.requestId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=
b.asin?b.asin:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=b.ingress?b.ingress:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=b.platform?b.platform:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(b.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(b.isRobot),this.csaMetricsData.channel=a.channel?a.channel:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=
a.refererURL?a.refererURL:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(b.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",a.weblab)b=this.csaMetricsData.shareEntities,b=void 0===b?{}:b,b[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=b;return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||e.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?
2:Number(a)},a.prototype.getDateTimeByOffset=function(c){var b=new Date;0!==c&&(c*=a.MINUTES_TO_MILISECONDS,b=b.getTime()-c,b=new Date(b));return b.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,c.isCSALoaded)()&&d.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",
a}();a.default=h},function(h,a,f){var c=this&&this.__assign||function(){return(c=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var e,m=f(5),k=f(0),b=f(2),p=f(4),g=f(1);(0,k.isAUILoaded)()&&d.P.when("mash").execute(function(a){return e=a});h=function(){function a(a){this.sheetOptions={title:g.EMPTY_STRING,text:g.EMPTY_STRING,
shareUrl:new b.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:g.defaultShareDataAttributes,refererURL:"",image:""};this.sheetOptions=c(c({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,b={channel:g.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes},c=this.shareUrl.return;this.sheetOptions.tinyUrl&&(c=this.sheetOptions.tinyUrl,
m.default.logCounter("MWeb.Tiny.Success"));try{null===(a=null===d||void 0===d?void 0:d.navigator)||void 0===a||a.share({url:c,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){m.default.logCSAEvent(g.CSA_HIT_TYPE.CLICK_SUCCESS,b);m.default.logCSAEvent(g.CSA_HIT_TYPE.SHARE,b)}).catch(function(){m.default.logCSAEvent(g.CSA_HIT_TYPE.CLICK_SUCCESS,b);m.default.logCSAEvent(g.CSA_HIT_TYPE.CLICK_CANCEL,b)})}catch(r){m.default.logCSAEvent(g.CSA_HIT_TYPE.CLICK_ERROR,b)}},a.prototype.launchNativeApp=
function(){var a=this,b=this.shareUrl.refMarker.click,d=this.sheetOptions.shareDataAttributes,h=this.sheetOptions.refererURL,f=g.EMPTY_STRING,k=this.shareUrl.return;this.sheetOptions.tinyUrl&&(k=this.sheetOptions.tinyUrl,m.default.logCounter("MShop.Tiny.Success"));var q={channel:f,refMarker:b,refererURL:h,shareDataAttributes:d};b={messagePlain:this.getShareMessage,messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:k,imageURL:this.sheetOptions.image,
subject:this.sheetOptions.text};null==e||e.share(c(c({},b),{successCallback:function(){m.default.logCSAEvent(g.CSA_HIT_TYPE.CLICK_SUCCESS,q)},failCallback:function(){m.default.logCSAEvent(g.CSA_HIT_TYPE.CLICK_ERROR,q)},shareServiceSelectedCallback:function(b){b&&"'null'"!==b?((0,p.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(b),q.channel=a.getChannelByKeyword(b).channel,b=a.getChannelByKeyword(b).refId,q.refMarker=a.shareUrl.refMarker.getClickForChannel(b),m.default.logCSAEvent(g.CSA_HIT_TYPE.SHARE,
q)):m.default.logCSAEvent(g.CSA_HIT_TYPE.CLICK_CANCEL,q)}}))},a.prototype.launch=function(a){(0,k.isNativeAppShareAvailable)(e)?this.launchNativeApp():(0,k.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,p.isFunction)(a)?a():m.default.logCounter("Click.ShareUnavailable")},Object.defineProperty(a.prototype,"getShare160Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;return(0,p.truncate)(this.sheetOptions.title,160-b)+" "+a},enumerable:!1,configurable:!0}),
Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;return(0,p.truncate)(this.sheetOptions.title,140-b)+" "+a},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return g.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},a.prototype.getChannelByRegex=function(a){return g.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},a.prototype.getChannelByKeyword=function(a){var b=g.RAW_CHANNEL_PREFIX+a,c=g.DEFAULT_CSA_REF_ID,
d=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo/ig);if(d&&d.length)return{channel:this.getChannelByRegex(d[0].toLowerCase()),refId:this.getRefByRegex(d[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b="SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b=
"Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b="WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){return this.sheetOptions.title+" "+(this.sheetOptions.tinyUrl||this.shareUrl.return)},enumerable:!1,configurable:!0}),a}();a.default=h}])});"use strict";u.register("SocialShareWidgetConfig",
function(){var h=Object.freeze({MODAL:"modal",POPOVER:"popover"}),a=Object.freeze({IOS:"ios",ANDROID:"android",VARIABLE:"variable"});return{WIDGET_TYPE:h,WIDGET_ICON:a,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],defaultShareData:{url:"",title:"Amazon.com",text:"Check this out!",image:"",hashtags:["Amazon"],type:h.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,caf:!1,cafSwitch:!1,t:{}},defaultWidgetData:{icon:a.VARIABLE,background:!0,
width:24},shareDataAttributes:{isInternal:2,isRobot:2,userAgent:d.navigator.userAgent,platform:"DESKTOP",ingress:d.ue_pty,asin:d.ue_pti,requestId:d.ue_id,customerId:d.opts&&d.opts.customerId,marketplaceId:d.ue_mid},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg"}}});"use strict";u.when("A","SocialShareWidget","SocialShareWidgetTemplating","SocialShareWidgetTiny","SocialShareWidgetConfig",
"SocialShareWidgetCustomize").register("SocialShareWidgetAUI",function(h,a,f,c,e,m){var k=a.SocialShareCore,b=k.Metrics,p=0,g=function(){},J=!1,t=b.getMetricName(h.$);b.startTimer(t);b.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var a=h.$,y=k.Detection,r=k.Translations,v=k.Channels,C=k.ShareSheet,q=k.Url,A=k.Constants,N=function(a){a=a.data("share")||a.find("[data-share]").data("share");return h.extend({},e.defaultWidgetData,a)},w=a(".ssf-share-trigger"),l=e.defaultShareData,F=N(w),
O=l.url,T=function(){var a=e.iconMap;return y.isDesktop()?a.ios:F.icon===e.WIDGET_ICON.VARIABLE?y.isIOS()?a.ios:a.android:a[F.icon]},U=function(a){a.find('[class*\x3d"ssf-multi-"]').length||a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));w=a.find('[class*\x3d"ssf-multi-"]')},B=void 0,E=void 0,G=void 0,z=void 0,x=void 0,D=void 0;u.when("a-sheet").execute(function(a){return B=a});u.when("a-popover").execute(function(a){return E=a});u.when("a-modal").execute(function(a){return G=
a});var P=function(a,b){var c=2<arguments.length&&arguments[2]!==n?arguments[2]:"ssf-share-bottom-sheet",d=l.customize||l.caf;if(!z||d)z=B.create({name:c,inlineContent:a,closeType:"icon",height:b});B.showSheet(z)},K=function(a){var b=a.type===e.WIDGET_TYPE.POPOVER&&E,c=a.type===e.WIDGET_TYPE.MODAL&&G;a=f.build(a);B?P(a.getBottom()):b?(b=a.getPopover(),w.hasClass("a-declarative")||(x=E.create(w,{name:"ssf-share-popover",position:"triggerBottom",inlineContent:b,activate:"onclick",closeButton:!1,width:160,
padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(b=a.getModal(),w.hasClass("a-declarative")||(D=G.create(w,{inlineContent:b,width:600}).show()))},V=function(a){var b=f.build(a);P(b.getCustomize(),650,"ssf-customize-bottom-sheet");m.init(a,K,H)},H=function(){x&&E.get(w).hide();z&&B.hideSheet(z);D&&G.get(w).hide()},W=function(){var a=l.shareDataAttributes.asin,b=d.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;l.shareDataAttributes.asin=
"string"==typeof b?b:a;return a!==b},L=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass("a-hidden");a.find("i").hide()},M=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass("a-hidden");a.find("i").show()},Q=function(c){var d=c.shareData,e=c.copyElement,l=d.shareDataAttributes,f=d.t,k=d.treatment;k=k===n?"":k;var g=d.weblab;g=g===n?"":g;c={channel:"copy",refMarker:d.shareUrl.refMarker.getClickForChannel(c.channelRef),shareDataAttributes:l,treatment:k,weblab:g};
b.logCSAEvent(A.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.CopySuccess");b.logCounter(t,"CopySuccess");y.isDesktop()?function(){var a=e.find(".copy-label");a.text(f.taf_copy_url_changeover);h.delay(function(){H();a.text(f.taf_copy_name)},1E3)}():(a(".ssf-feedback").show(),H())},R=function(a){b.logCSAEvent(A.CSA_HIT_TYPE.CLICK_ERROR,a);b.logCounter("DPX.Desktop.CopyFailure");b.logCounter(t,"CopyFailure")},I=function(a){var b=a.shareData;a=a.channelRef;var c=b.shareUrl,d=b.socialLinks;d=d===n?
{}:d;a=a?c.getReturnForChannel(a):c.return;return{csrfToken:b.csrfToken,gcmToken:b.gcmToken,url:a,originalUrl:d.shareframework||b.url||a,refMarkerId:p++}};a(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(e){e.preventDefault();e.stopPropagation();b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(t,"ChannelClick");var f=a(this),k=f.data("key"),g=l;e=g.refererURL;var m=g.shareDataAttributes,r=g.treatment;r=r===n?"":r;var p=g.weblab;p=p===n?"":p;var q=g.builtChannels[k],v=q.ref;
k=g.shareUrl.refMarker.getClickForChannel(v);g=q.name;var w=q.getSharingUrl();b.logCSAEvent(A.CSA_HIT_TYPE.SHARE,{channel:g,refMarker:k,refererURL:e,shareDataAttributes:m,treatment:r,weblab:p});e=I({shareData:l,channelRef:v});L(f);c.fetch({data:e,callback:function(a){M(f);a&&(w=q.getSharingUrl(a),b.logCounter("Desktop.Tiny.Success"));if("em"===v)d.open(w,"_self");else if(y.isDesktop()){a=screen.width;var c=screen.height,e="pi"===v?900:600,g=Math.min(e,.7*a);e=Math.min(e,.7*c);d.open(w,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+
g+",height\x3d"+e+",top\x3d"+(c/2-e/2)+",left\x3d"+(a/2-g/2))}else d.open(w,"_blank");H();h.trigger("ssf:event:share",l)}})});h.declarative("ssf-share-icon","click",function(f){b.logCounter("DPX.Desktop.SheetClick");b.logCounter(t,"SheetClick");if(J)return H();U(f.$currentTarget);l=h.extend(l,f.data);l.shareDataAttributes=h.extend(e.shareDataAttributes,f.data.shareDataAttributes);h.extend(r[l.lang],l.t);var g=v(l,l.channels);l.builtChannels=g;l.url=l.url.startsWith("/")?""+d.location.origin+l.url:
l.url;l.shareUrl=new q(l.url,l.refId);W()&&(l.shareUrl=new q(l.url,l.refId),l.shareUrl.url.searchParams.set("psc",1));y.isDesktop()?(l.image=l.image||a("#imgTagWrapperId img").attr("src"),K(l),b.logCounter("DPX.Desktop.SheetOpen"),b.logCounter(t,"SheetOpen"),b.logCSAEvent(A.CSA_HIT_TYPE.CLICK_SUCCESS,{channel:A.EMPTY_STRING,refMarker:l.shareUrl.refMarker.click,refererURL:l.refererURL,shareDataAttributes:l.shareDataAttributes,treatment:l.treatment||"",weblab:l.weblab||""})):l.customize||l.caf?V(l):
(L(f.$currentTarget),g=I({shareData:l}),c.fetch({data:g,callback:function(a){l.tinyUrl=a;(new C(l)).launch(function(){K(l);b.logCounter("DPX.Desktop.SheetOpen");b.logCounter(t,"SheetOpen")});M(f.$currentTarget)}}));y.isSafari()&&y.isDesktop()&&(g=I({shareData:l,channelRef:A.CP_CHANNEL_REF}),c.fetch({data:g,callback:function(a){b.logCounter("DPX.Desktop.TinyUrlOnSheetOpen");b.logCounter(t,"TinyUrlOnSheetOpen");O=a}}));h.trigger("ssf:event:sheetOpen",l)});a(document).delegate(".ssf-copy,.ssf-channel.copy",
"click",function(d){b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(t,"ChannelClick");d.preventDefault();var e=a(this),f=A.CP_CHANNEL_REF,g=l.shareUrl.getReturnForChannel(f);y.isSafari()&&y.isDesktop()?navigator.clipboard.writeText(O||g).then(function(){Q({shareData:l,copyElement:e,channelRef:f})},function(){R(csaOptions)}):(d=I({shareData:l,channelRef:A.CP_CHANNEL_REF}),L(e),c.fetch({data:d,callback:function(a){M(e);navigator.clipboard.writeText(a||g).then(function(){Q({shareData:l,copyElement:e,
channelRef:f})},function(){R(csaOptions)})}}));h.trigger("ssf:event:share",l)});a(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(c){c.preventDefault();c=l;var d=c.shareDataAttributes,e=c.treatment;e=e===n?"":e;var f=c.weblab;f=f===n?"":f;c={channel:"embed",refMarker:c.shareUrl.refMarker.getClickForChannel(A.EMBED_CHANNEL_REF),shareDataAttributes:d,treatment:e,weblab:f};b.logCSAEvent(A.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(t,"ChannelClick");
G.create(a(".ssf-channel.embed"),l.kpModalParams).show()});g=function(){w=a(".ssf-share-trigger");F=N(w);var b=F.width;if(!a(".ssf-background").length&&F.background){var c=1.4*b;c=a('\x3cdiv class\x3d"ssf-background'+(F.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:c,height:c});w.wrap(c)}F.icon&&w.css({height:b,width:b,backgroundImage:"url("+T()+")"})};y.isIE()&&a(".ssf-share-trigger,.ssf-background").remove();h.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;
var b=a.position().left-48;a.find(".a-arrow-border").css({right:24,left:""});a.css({left:b})});h.on("a:popover:show:ssf-share-popover",function(){return J=!0});h.on("a:popover:hide:ssf-share-popover",function(){return J=!1});h.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(b){b.sheet.$container.css("height","");u.when("a-switch").execute(function(b){l.caf&&b.getSwitch(a(".ssf-caf-toggle")).isOn(!!l.cafSwitch)})});g()})()}catch(S){b.logCounter("DPX.Desktop.Error"),b.logCounter(t,"Error"),
b.logFatal("Error loading Share Framework AUI: "+S.toString())}finally{b.logCounter("DPX.Desktop.Render"),b.logCounter(t,"Render"),h.trigger("ssf:event:load"),b.stopTimer(t)}return{init:g}});"use strict";var D=function(){return function(d,a){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d)){var f=[],c=!0,e=!1,h=n;try{for(var k=d[Symbol.iterator](),b;!(c=(b=k.next()).done)&&(f.push(b.value),!a||f.length!==a);c=!0);}catch(p){e=!0,h=p}finally{try{if(!c&&k["return"])k["return"]()}finally{if(e)throw h;
}}return f}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();u.when("A","SocialShareWidgetConfig","SocialShareWidget","SocialShareWidgetCustomizeTemplate").register("SocialShareWidgetTemplating",function(d,a,f,c){f=f.SocialShareCore;var e=d.$,h=f.Detection.isClipboardAvailable,k=f.Detection.isDesktop,b=a.excludedChannels;h()||b.push("copy");var p=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center a-hidden"\x3e\x3c/span\x3e'};return{build:function(d){var f=
d.shareUrl,g=d.socialLinks,m=g===n?{}:g;g=d.shareDataAttributes;var u=d.builtChannels,r=d.kpModalParams,v=d.t;m.email=d.mailToUri;var C='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"submit"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cdiv class\x3d"copy-label"\x3e'+v.taf_copy_tooltip+"\x3c/div\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";
!k()&&h()&&1>e(".ssf-feedback").length&&e(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+v.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");var q=function(a){return{title:v["taf_"+a.name+"_tooltip"]||a.label,label:v["taf_"+a.name+
"_name"]||a.label}};a.lineMarketplaces.includes(g.marketplaceId)||m.li?b.push("pi"):b.push("li");r||b.push("embed");return{getModal:function(){var a="",c=!0,d=!1,e=n;try{for(var g=Object.entries(u)[Symbol.iterator](),k;!(c=(k=g.next()).done);c=!0){var r=D(k.value,2),t=r[0],B=r[1];if(!b.includes(t)&&"copy"!==t){var E=q(B),y=m[B.name]||B.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" href\x3d"'+y+'" title\x3d"'+E.title+'" data-key\x3d"'+
t+'"\x3e\n                '+p("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+E.label+'" style\x3d"background-image: url('+B.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+E.label+"\x3c/span\x3e\n            \x3c/div\x3e"}}}catch(z){d=!0,e=z}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e;}}c=h()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+f.return+
'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+C+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+v.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e'+a+"\x3c/div\x3e")+c},getPopover:function(){var a="",c=!0,d=!1,e=n;try{for(var f=Object.entries(u)[Symbol.iterator](),h;!(c=(h=f.next()).done);c=!0){var g=D(h.value,2),k=g[0],r=g[1];if(!b.includes(k)){var v=q(r),C=m[r.name]||r.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+
k+' a-color-base" href\x3d"'+C+'" title\x3d"'+v.title+'" data-key\x3d"'+k+'"\x3e\n                '+p("small")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+v.label+'" style\x3d"background-image: url('+r.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+k+'-label"\x3e'+v.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(z){d=!0,e=z}finally{try{!c&&f.return&&f.return()}finally{if(d)throw e;}}return""+a},getBottom:function(){var a="",c=!0,d=!1,e=
n;try{for(var f=Object.entries(u)[Symbol.iterator](),h;!(c=(h=f.next()).done);c=!0){var g=D(h.value,2),k=g[0],r=g[1];if(!b.includes(k)){var C=q(r),t=m[r.name]||r.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+k+' a-color-base" href\x3d"'+t+'" title\x3d"'+C.title+'" data-key\x3d"'+k+'"\x3e\n                '+p("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+C.label+'" style\x3d"background-image: url('+r.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+
C.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(z){d=!0,e=z}finally{try{!c&&f.return&&f.return()}finally{if(d)throw e;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+v.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e'+a+"\x3c/div\x3e"},getCustomize:function(){var a='\x3ch3 class\x3d"ssf-back-btn a-spacing-base a-spacing-top-base"\x3e'+v.taf_share_bottom_sheet_title+"\x3c/h3\x3e",b=
'\x3cdiv class\x3d"a-padding-base a-box ssf-cus-img" style\x3d"background-image: url('+d.image+')"\x3e\x3c/div\x3e',e=d.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(d.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+v.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",f='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              Share\n              '+p("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e",h=d.customize?
c.customizeBox:"",g='\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e'+c.getTabs()+"\x3c/div\x3e";return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+a+b+e+h+f+"\x3c/div\x3e"+(d.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two a-hidden"\x3e'+a+b+e+g+f+"\x3c/div\x3e":"")}}}}});"use strict";u.when("jQuery","SocialShareWidget").register("SocialShareWidgetTiny",function(d,a){var f=a.SocialShareCore.Metrics;return{fetch:function(a){var c=
a.data,h=a.callback;if(!c.csrfToken||!c.gcmToken||!c.url)return f.logCounter("Tiny.Unavailable"),f.startTimer("Tiny"),h();d.ajax("/conversations/sharetinyurl",{type:"POST",contentType:"application/json;charset\x3dUTF-8",data:JSON.stringify(c),success:function(a){f.logCounter("Desktop.Tiny.Response");f.stopTimer("Tiny");h(a.data&&a.data.url)},error:function(){f.logCounter("Desktop.Tiny.Error");f.stopTimer("Tiny");h()}})}}});"use strict";u.when("A","SocialShareWidgetTiny","SocialShareWidget").register("SocialShareWidgetCustomize",
function(d,a,f){f=f.SocialShareCore;var c=d.$,e=f.ShareSheet,h=f.Url,k=f.Metrics,b=k.getMetricName(d.$),p=void 0;u.when("a-button").execute(function(a){return p=a});d.on("a:sheet:afterHide:ssf-customize-bottom-sheet",function(a){a.sheet.getContentContainer().remove()});var g=function(a){var b=a.productImage,c=a.price,d=a.rating,e=a.text;e=e===n?"React to this item with an emoji":e;var f=a.caf,g=b.match(/([\w\d_+-]*)\.?[^\\\/]*$/i);a=g[1];var h=b.match(/\.[0-9a-z]+$/i)[0];b=b.replace(g[0],"");g="._SR450,315_AC_SR450,180,0,C_SR450,"+
(f?320:250)+",0,T";c=c?"_ZA"+encodeURIComponent(encodeURIComponent(c))+",20,180,1000,1000,AmazonEmber,13,0,0,0":"";d=d?"_PIStarRating"+d+",TopLeft,16,205":"";e=f?"_ZA"+encodeURIComponent(encodeURIComponent(e))+",20,235,1000,500,AmazonEmber,13,0,0,0__PIcaf-emojis,TopLeft,12,260":"";return""+b+a+g+c+d+e+h},x=function(a){c(".ssf-cus-img").css("backgroundImage","url("+a+")")},t=function(a){var b=a.shareData;a=a.channelRef;var c=b.shareUrl,d=b.socialLinks;d=d===n?{}:d;a=a?c.getReturnForChannel(a):c.return;
return{csrfToken:b.csrfToken,gcmToken:b.gcmToken,url:a,originalUrl:d.shareframework||b.url||a}},D=function(f,g,m,q){c(".ssf-customize-share-btn").find(".a-spinner").addClass("a-hidden");p(".ssf-customize-share-btn").enable();g();q&&(g=new URL(m.url),g.searchParams.append("cafId",q),m.shareUrl=new h(g.toString(),m.refId));g=t({shareData:m});a.fetch({data:g,callback:function(a){m.tinyUrl=a;a=d.extend({channelSelectCB:function(){q&&d.trigger("ssf:event:caf-share-complete-success",m)}},m);(new e(a)).launch(function(){d.delay(function(a){f(m)},
100);q?(k.logCounter("DPX.Desktop.CustomSheetOpenCAF"),k.logCounter(b,"CustomSheetOpenCAF")):(k.logCounter("DPX.Desktop.CustomSheetOpen"),k.logCounter(b,"CustomSheetOpen"))})}})},y=function(a,b){var d=a.aapiBaseUrl,e=a.shareDataAttributes,f=e.marketPlaceId;c.ajax({url:"https://"+(d===n?"data.amazon.com":d)+"/custom/consultafriendcontracts/marketplaces/"+(f===n?"ATVPDKIKX0DER":f)+"/consultafriend/feedback-request/"+e.asin,type:"POST",headers:{"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"',
"x-api-csrf-token":a.cafAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(a){b(a.entity&&a.entity.cafId)},error:function(){b()}})};return{init:function(a,b,e){var f={productImage:a.productImage||a.image,rating:a.starRating,price:a.price,caf:a.cafSwitch,text:a.t.taf_custshare_caf_recipientemoji};x(g(f));d.declarative.create(c(".ssf-customize-share-btn"),"ssf-customize-share-click",a);d.declarative("ssf-customize-share-click","click",function(){p(".ssf-customize-share-btn").isEnabled()&&
(c(".ssf-customize-share-btn").find(".a-spinner").removeClass("a-hidden"),p(".ssf-customize-share-btn").disable(),a.cafSwitch?y(a,function(c){D(b,e,a,c)}):D(b,e,a))});d.on("a:switch:caf:on",function(a){f.caf=!0;x(g(f))});d.on("a:switch:caf:off",function(a){f.caf=!1;x(g(f))});c(document).delegate("#ssf-customize-share","click",function(){c(".ssf-customize-container-one").addClass("a-hidden");c(".ssf-customize-container-two").removeClass("a-hidden").addClass("ssf-customize-transition")});c(document).delegate(".ssf-back-btn",
"click",function(){c(".ssf-customize-container-two").addClass("a-hidden");c(".ssf-customize-container-one").removeClass("a-hidden").addClass("ssf-customize-transition-back")});["cover","bg","q"].forEach(function(a){var b=".ssf-tab-"+a+" .ssf-options-box";c(b).click(function(){var a=c(this).hasClass("active");c(b).removeClass("active");a||c(this).addClass("active")})});u.when("a-switch").execute(function(a){c(".ssf-caf-toggle-label").click(function(){a.getSwitch(c(".ssf-caf-toggle")).toggle()})})},
getImage:g}});"use strict";u.when("A").register("SocialShareWidgetCustomizeTemplate",function(d){var a=function(a){var b=a.content;b=b===n?"":b;var c=a.width,d=a.background,e=a.center;e=e===n?!1:e;c='style\x3d"width: '+(c===n?100:c)+"px;background-color: "+(d===n?"transparent":d)+';"';return'\x3cdiv class\x3d"a-box ssf-options-box" data-value\x3d'+JSON.stringify(a.val)+" "+c+"\x3e"+(e?'\x3cdiv class\x3d"a-box-inner a-text-center"\x3e'+b+"\x3c/div\x3e":b)+"\x3c/div\x3e"},f=function(b){b=["#eae377",
"#ffbbbb","#7ffba4","#ff8cfa"];return'\x3cdiv class\x3d"ssf-options-box-container"\x3e'+b.map(function(b){return a({val:{bg:b},background:b})}).join("")+"\x3c/div\x3e"},c=function(b){b=["A deeply moving book about a complex character.","A satisfying saga of the late Habsburg period."];return'\x3cdiv class\x3d"ssf-options-box-container"\x3e'+b.map(function(b){return a({val:{quote:b},content:b,width:150,center:!0})}).join("")+"\x3c/div\x3e"},e=function(){return'\x3cdiv class\x3d"ssf-options-box-container"\x3e'+
"      ".split(" ").map(function(b){return a({val:{cover:b},background:b})}).join("")+"\x3c/div\x3e"},h=function(a){var b=2<arguments.length&&arguments[2]!==n?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading '+(b?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(b?"true":"false")+'" '+(b?"":'tabindex\x3d"-1"')+"\x3e"+(1<arguments.length&&arguments[1]!==n?arguments[1]:"")+"\x3c/a\x3e\n            \x3c/li\x3e"},
k=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==n&&arguments[3]?"":"a-hidden")+'" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              \x3ch4 class\x3d"a-text-normal a-spacing-base"\x3e'+(2<arguments.length&&arguments[2]!==n?arguments[2]:"")+"\x3c/h4\x3e\n              "+(1<arguments.length&&arguments[1]!==n?arguments[1]:"")+"\n            \x3c/div\x3e"};return{getTabs:function(){var a=e(),d=f(),
g=c();return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative" role\x3d"tablist" data-a-tabs\x3d"{"name": "customize-tabs"}"\x3e\n        '+h("cover","Cover",!0)+"\n        "+h("bg","Background")+"\n        "+h("q","Quote")+"\n      \x3c/ul\x3e\n      "+k("cover",a,"Choose a device to add the cover",!0)+"\n      "+k("bg",d,"Add a background")+"\n      "+k("q",g,"Add a quote"))+"\x3c/div\x3e"},customizeBox:'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      \x3ch5 class\x3d"a-size-small a-spacing-micro"\x3eCustomize your sharing\x3c/h5\x3e\x3cp class\x3d"a-size-small a-color-secondary"\x3eAdd product information to your share or add a background color\x3c/p\x3e\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n    \x3cspan class\x3d"a-button-inner"\x3e\n      \x3cbutton class\x3d"a-button-text" type\x3d"button" id\x3d"ssf-customize-share"\x3eCustomize\x3c/button\x3e\n    \x3c/span\x3e\n  \x3c/span\x3e\n    \x3c/div\x3e'}})});
/* ******** */
